(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Y1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function FA(){if($_)return $l;$_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:s,key:c,ref:a!==void 0?a:null,props:l}}return $l.Fragment=e,$l.jsx=t,$l.jsxs=t,$l}var K_;function HA(){return K_||(K_=1,Am.exports=FA()),Am.exports}var T=HA(),Sm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function GA(){if(Q_)return Ve;Q_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,V={};function B(U,te,ie){this.props=U,this.context=te,this.refs=V,this.updater=ie||A}B.prototype.isReactComponent={},B.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=B.prototype;function G(U,te,ie){this.props=U,this.context=te,this.refs=V,this.updater=ie||A}var F=G.prototype=new j;F.constructor=G,C(F,B.prototype),F.isPureReactComponent=!0;var q=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function P(U,te,ie,re,Y,J){return ie=J.ref,{$$typeof:i,type:U,key:te,ref:ie!==void 0?ie:null,props:J}}function b(U,te){return P(U.type,te,void 0,void 0,void 0,U.props)}function w(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function x(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return te[ie]})}var D=/\/+/g;function M(U,te){return typeof U=="object"&&U!==null&&U.key!=null?x(""+U.key):te.toString(36)}function N(){}function K(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(N,N):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,te,ie,re,Y){var J=typeof U;(J==="undefined"||J==="boolean")&&(U=null);var ye=!1;if(U===null)ye=!0;else switch(J){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(U.$$typeof){case i:case e:ye=!0;break;case y:return ye=U._init,ee(ye(U._payload),te,ie,re,Y)}}if(ye)return Y=Y(U),ye=re===""?"."+M(U,0):re,q(Y)?(ie="",ye!=null&&(ie=ye.replace(D,"$&/")+"/"),ee(Y,te,ie,"",function(Se){return Se})):Y!=null&&(w(Y)&&(Y=b(Y,ie+(Y.key==null||U&&U.key===Y.key?"":(""+Y.key).replace(D,"$&/")+"/")+ye)),te.push(Y)),1;ye=0;var De=re===""?".":re+":";if(q(U))for(var be=0;be<U.length;be++)re=U[be],J=De+M(re,be),ye+=ee(re,te,ie,J,Y);else if(be=v(U),typeof be=="function")for(U=be.call(U),be=0;!(re=U.next()).done;)re=re.value,J=De+M(re,be++),ye+=ee(re,te,ie,J,Y);else if(J==="object"){if(typeof U.then=="function")return ee(K(U),te,ie,re,Y);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ye}function I(U,te,ie){if(U==null)return U;var re=[],Y=0;return ee(U,re,"","",function(J){return te.call(ie,J,Y++)}),re}function O(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function W(){}return Ve.Children={map:I,forEach:function(U,te,ie){I(U,function(){te.apply(this,arguments)},ie)},count:function(U){var te=0;return I(U,function(){te++}),te},toArray:function(U){return I(U,function(te){return te})||[]},only:function(U){if(!w(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ve.Component=B,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=G,Ve.StrictMode=s,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(U){return $.H.useMemoCache(U)}},Ve.cache=function(U){return function(){return U.apply(null,arguments)}},Ve.cloneElement=function(U,te,ie){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var re=C({},U.props),Y=U.key,J=void 0;if(te!=null)for(ye in te.ref!==void 0&&(J=void 0),te.key!==void 0&&(Y=""+te.key),te)!z.call(te,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&te.ref===void 0||(re[ye]=te[ye]);var ye=arguments.length-2;if(ye===1)re.children=ie;else if(1<ye){for(var De=Array(ye),be=0;be<ye;be++)De[be]=arguments[be+2];re.children=De}return P(U.type,Y,void 0,void 0,J,re)},Ve.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ve.createElement=function(U,te,ie){var re,Y={},J=null;if(te!=null)for(re in te.key!==void 0&&(J=""+te.key),te)z.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Y[re]=te[re]);var ye=arguments.length-2;if(ye===1)Y.children=ie;else if(1<ye){for(var De=Array(ye),be=0;be<ye;be++)De[be]=arguments[be+2];Y.children=De}if(U&&U.defaultProps)for(re in ye=U.defaultProps,ye)Y[re]===void 0&&(Y[re]=ye[re]);return P(U,J,void 0,void 0,null,Y)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(U){return{$$typeof:d,render:U}},Ve.isValidElement=w,Ve.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:O}},Ve.memo=function(U,te){return{$$typeof:p,type:U,compare:te===void 0?null:te}},Ve.startTransition=function(U){var te=$.T,ie={};$.T=ie;try{var re=U(),Y=$.S;Y!==null&&Y(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(W,ae)}catch(J){ae(J)}finally{$.T=te}},Ve.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ve.use=function(U){return $.H.use(U)},Ve.useActionState=function(U,te,ie){return $.H.useActionState(U,te,ie)},Ve.useCallback=function(U,te){return $.H.useCallback(U,te)},Ve.useContext=function(U){return $.H.useContext(U)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(U,te){return $.H.useDeferredValue(U,te)},Ve.useEffect=function(U,te,ie){var re=$.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(U,te)},Ve.useId=function(){return $.H.useId()},Ve.useImperativeHandle=function(U,te,ie){return $.H.useImperativeHandle(U,te,ie)},Ve.useInsertionEffect=function(U,te){return $.H.useInsertionEffect(U,te)},Ve.useLayoutEffect=function(U,te){return $.H.useLayoutEffect(U,te)},Ve.useMemo=function(U,te){return $.H.useMemo(U,te)},Ve.useOptimistic=function(U,te){return $.H.useOptimistic(U,te)},Ve.useReducer=function(U,te,ie){return $.H.useReducer(U,te,ie)},Ve.useRef=function(U){return $.H.useRef(U)},Ve.useState=function(U){return $.H.useState(U)},Ve.useSyncExternalStore=function(U,te,ie){return $.H.useSyncExternalStore(U,te,ie)},Ve.useTransition=function(){return $.H.useTransition()},Ve.version="19.1.0",Ve}var Y_;function Sp(){return Y_||(Y_=1,Sm.exports=GA()),Sm.exports}var X=Sp();const $A=Y1(X);var Rm={exports:{}},Kl={},Cm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function KA(){return X_||(X_=1,function(i){function e(I,O){var ae=I.length;I.push(O);e:for(;0<ae;){var W=ae-1>>>1,U=I[W];if(0<a(U,O))I[W]=O,I[ae]=U,ae=W;else break e}}function t(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var O=I[0],ae=I.pop();if(ae!==O){I[0]=ae;e:for(var W=0,U=I.length,te=U>>>1;W<te;){var ie=2*(W+1)-1,re=I[ie],Y=ie+1,J=I[Y];if(0>a(re,ae))Y<U&&0>a(J,re)?(I[W]=J,I[Y]=ae,W=Y):(I[W]=re,I[ie]=ae,W=ie);else if(Y<U&&0>a(J,ae))I[W]=J,I[Y]=ae,W=Y;else break e}}return O}function a(I,O){var ae=I.sortIndex-O.sortIndex;return ae!==0?ae:I.id-O.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,v=3,A=!1,C=!1,V=!1,B=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q(I){for(var O=t(p);O!==null;){if(O.callback===null)s(p);else if(O.startTime<=I)s(p),O.sortIndex=O.expirationTime,e(m,O);else break;O=t(p)}}function $(I){if(V=!1,q(I),!C)if(t(m)!==null)C=!0,z||(z=!0,M());else{var O=t(p);O!==null&&ee($,O.startTime-I)}}var z=!1,P=-1,b=5,w=-1;function x(){return B?!0:!(i.unstable_now()-w<b)}function D(){if(B=!1,z){var I=i.unstable_now();w=I;var O=!0;try{e:{C=!1,V&&(V=!1,G(P),P=-1),A=!0;var ae=v;try{t:{for(q(I),_=t(m);_!==null&&!(_.expirationTime>I&&x());){var W=_.callback;if(typeof W=="function"){_.callback=null,v=_.priorityLevel;var U=W(_.expirationTime<=I);if(I=i.unstable_now(),typeof U=="function"){_.callback=U,q(I),O=!0;break t}_===t(m)&&s(m),q(I)}else s(m);_=t(m)}if(_!==null)O=!0;else{var te=t(p);te!==null&&ee($,te.startTime-I),O=!1}}break e}finally{_=null,v=ae,A=!1}O=void 0}}finally{O?M():z=!1}}}var M;if(typeof F=="function")M=function(){F(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,K=N.port2;N.port1.onmessage=D,M=function(){K.postMessage(null)}}else M=function(){j(D,0)};function ee(I,O){P=j(function(){I(i.unstable_now())},O)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(I){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var ae=v;v=O;try{return I()}finally{v=ae}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ae=v;v=I;try{return O()}finally{v=ae}},i.unstable_scheduleCallback=function(I,O,ae){var W=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,I){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ae+U,I={id:y++,callback:O,priorityLevel:I,startTime:ae,expirationTime:U,sortIndex:-1},ae>W?(I.sortIndex=ae,e(p,I),t(m)===null&&I===t(p)&&(V?(G(P),P=-1):V=!0,ee($,ae-W))):(I.sortIndex=U,e(m,I),C||A||(C=!0,z||(z=!0,M()))),I},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(I){var O=v;return function(){var ae=v;v=O;try{return I.apply(this,arguments)}finally{v=ae}}}}(Im)),Im}var W_;function QA(){return W_||(W_=1,Cm.exports=KA()),Cm.exports}var xm={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function YA(){if(Z_)return Nn;Z_=1;var i=Sp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Nn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},Nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Nn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:v,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Nn.requestFormReset=function(m){s.d.r(m)},Nn.unstable_batchedUpdates=function(m,p){return m(p)},Nn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Nn.version="19.1.0",Nn}var J_;function XA(){if(J_)return xm.exports;J_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=YA(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function WA(){if(e0)return Kl;e0=1;var i=QA(),e=Sp(),t=XA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function m(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var R=!1,k=f.child;k;){if(k===o){R=!0,o=f,u=g;break}if(k===u){R=!0,u=f,o=g;break}k=k.sibling}if(!R){for(k=g.child;k;){if(k===o){R=!0,o=g,u=f;break}if(k===u){R=!0,u=g,o=f;break}k=k.sibling}if(!R)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function K(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case B:return"Profiler";case V:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList";case w:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case F:return(n.displayName||"Context")+".Provider";case G:return(n._context.displayName||"Context")+".Consumer";case q:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return r=n.displayName||null,r!==null?r:K(n.type)||"Memo";case b:r=n._payload,n=n._init;try{return K(n(r))}catch{}}return null}var ee=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},W=[],U=-1;function te(n){return{current:n}}function ie(n){0>U||(n.current=W[U],W[U]=null,U--)}function re(n,r){U++,W[U]=n.current,n.current=r}var Y=te(null),J=te(null),ye=te(null),De=te(null);function be(n,r){switch(re(ye,r),re(J,n),re(Y,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?E_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=E_(r),n=T_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Y),re(Y,n)}function Se(){ie(Y),ie(J),ie(ye)}function ze(n){n.memoizedState!==null&&re(De,n);var r=Y.current,o=T_(r,n.type);r!==o&&(re(J,n),re(Y,o))}function Le(n){J.current===n&&(ie(Y),ie(J)),De.current===n&&(ie(De),zl._currentValue=ae)}var tt=Object.prototype.hasOwnProperty,Jt=i.unstable_scheduleCallback,Bt=i.unstable_cancelCallback,rt=i.unstable_shouldYield,Mt=i.unstable_requestPaint,Ue=i.unstable_now,lt=i.unstable_getCurrentPriorityLevel,Et=i.unstable_ImmediatePriority,St=i.unstable_UserBlockingPriority,Xe=i.unstable_NormalPriority,en=i.unstable_LowPriority,ct=i.unstable_IdlePriority,nt=i.log,$t=i.unstable_setDisableYieldValue,Ke=null,qe=null;function it(n){if(typeof nt=="function"&&$t(n),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ke,n)}catch{}}var bt=Math.clz32?Math.clz32:Pt,Nt=Math.log,kt=Math.LN2;function Pt(n){return n>>>=0,n===0?32:31-(Nt(n)/kt|0)|0}var tn=256,he=4194304;function ke(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ht(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,R=n.pingedLanes;n=n.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?f=ke(u):(R&=k,R!==0?f=ke(R):o||(o=k&~n,o!==0&&(f=ke(o))))):(k=u&~g,k!==0?f=ke(k):R!==0?f=ke(R):o||(o=u&~n,o!==0&&(f=ke(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Pe(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Fe(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var n=tn;return tn<<=1,(tn&4194048)===0&&(tn=256),n}function at(){var n=he;return he<<=1,(he&62914560)===0&&(he=4194304),n}function yn(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function zt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Cn(n,r,o,u,f,g){var R=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var k=n.entanglements,H=n.expirationTimes,oe=n.hiddenUpdates;for(o=R&~o;0<o;){var fe=31-bt(o),me=1<<fe;k[fe]=0,H[fe]=-1;var le=oe[fe];if(le!==null)for(oe[fe]=null,fe=0;fe<le.length;fe++){var ue=le[fe];ue!==null&&(ue.lane&=-536870913)}o&=~me}u!==0&&vn(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(R&~r))}function vn(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-bt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function bi(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-bt(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function wi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function In(){var n=O.p;return n!==0?n:(n=window.event,n===void 0?32:B_(n.type))}function Pu(n,r){var o=O.p;try{return O.p=n,r()}finally{O.p=o}}var Ct=Math.random().toString(36).slice(2),nn="__reactFiber$"+Ct,Kt="__reactProps$"+Ct,oi="__reactContainer$"+Ct,$o="__reactEvents$"+Ct,Cf="__reactListeners$"+Ct,qr="__reactHandles$"+Ct,Vu="__reactResources$"+Ct,js="__reactMarker$"+Ct;function Fr(n){delete n[nn],delete n[Kt],delete n[$o],delete n[Cf],delete n[qr]}function or(n){var r=n[nn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[oi]||o[nn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=S_(n);n!==null;){if(o=n[nn])return o;n=S_(n)}return r}n=o,o=n.parentNode}return null}function ki(n){if(n=n[nn]||n[oi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Pi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Un(n){var r=n[Vu];return r||(r=n[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function qt(n){n[js]=!0}var Ko=new Set,Da={};function Ai(n,r){lr(n,r),lr(n+"Capture",r)}function lr(n,r){for(Da[n]=r,n=0;n<r.length;n++)Ko.add(r[n])}var Uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},Bs={};function ju(n){return tt.call(Bs,n)?!0:tt.call(Lu,n)?!1:Uu.test(n)?Bs[n]=!0:(Lu[n]=!0,!1)}function Hr(n,r,o){if(ju(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Vi(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function _n(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}var zs,Bu;function ur(n){if(zs===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);zs=r&&r[1]||"",Bu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+n+Bu}var Oa=!1;function Ma(n,r){if(!n||Oa)return"";Oa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ue){var le=ue}Reflect.construct(n,[],me)}else{try{me.call()}catch(ue){le=ue}n.call(me.prototype)}}else{try{throw Error()}catch(ue){le=ue}(me=n())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),R=g[0],k=g[1];if(R&&k){var H=R.split(`
`),oe=k.split(`
`);for(f=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;f<oe.length&&!oe[f].includes("DetermineComponentFrameRoot");)f++;if(u===H.length||f===oe.length)for(u=H.length-1,f=oe.length-1;1<=u&&0<=f&&H[u]!==oe[f];)f--;for(;1<=u&&0<=f;u--,f--)if(H[u]!==oe[f]){if(u!==1||f!==1)do if(u--,f--,0>f||H[u]!==oe[f]){var fe=`
`+H[u].replace(" at new "," at ");return n.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",n.displayName)),fe}while(1<=u&&0<=f);break}}}finally{Oa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ur(o):""}function Qo(n){switch(n.tag){case 26:case 27:case 5:return ur(n.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 15:return Ma(n.type,!1);case 11:return Ma(n.type.render,!1);case 1:return Ma(n.type,!0);case 31:return ur("Activity");default:return""}}function ka(n){try{var r="";do r+=Qo(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function If(n){var r=Yo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(R){u=""+R,g.call(this,R)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Pa(n){n._valueTracker||(n._valueTracker=If(n))}function Xo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Yo(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xf=/[\n"\\]/g;function Qt(n){return n.replace(xf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xn(n,r,o,u,f,g,R,k){n.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.type=R:n.removeAttribute("type"),r!=null?R==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ln(r)):n.value!==""+Ln(r)&&(n.value=""+Ln(r)):R!=="submit"&&R!=="reset"||n.removeAttribute("value"),r!=null?Gr(n,R,Ln(r)):o!=null?Gr(n,R,Ln(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+Ln(k):n.removeAttribute("name")}function Fs(n,r,o,u,f,g,R,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+Ln(o):"",r=r!=null?""+Ln(r):o,k||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=k?n.checked:!!u,n.defaultChecked=!!u,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(n.name=R)}function Gr(n,r,o){r==="number"&&qs(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function cr(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Ln(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function gt(n,r,o){if(r!=null&&(r=""+Ln(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+Ln(o):""}function Hs(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ee(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ln(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function li(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||Gs.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Wo(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&zu(n,f,u)}else for(var g in r)r.hasOwnProperty(g)&&zu(n,g,r[g])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return Df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var hr=null;function ui(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fr=null,dr=null;function Jo(n){var r=ki(n);if(r&&(n=r.stateNode)){var o=n[Kt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Xn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[Kt]||null;if(!f)throw Error(s(90));Xn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Xo(u)}break e;case"textarea":gt(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&cr(n,!!o.multiple,r,!1)}}}var Ui=!1;function qu(n,r,o){if(Ui)return n(r,o);Ui=!0;try{var u=n(r);return u}finally{if(Ui=!1,(fr!==null||dr!==null)&&(Pc(),fr&&(r=fr,n=dr,dr=fr=null,Jo(r),n)))for(r=0;r<n.length;r++)Jo(n[r])}}function $s(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Kt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ci=!1;if(Si)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){ci=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{ci=!1}var Li=null,$r=null,mr=null;function el(){if(mr)return mr;var n,r=$r,o=r.length,u,f="value"in Li?Li.value:Li.textContent,g=f.length;for(n=0;n<o&&r[n]===f[n];n++);var R=o-n;for(u=1;u<=R&&r[o-u]===f[g-u];u++);return mr=f.slice(n,1<u?1-u:void 0)}function ji(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Bi(){return!0}function tl(){return!1}function hn(n){function r(o,u,f,g,R){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=R,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(o=n[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bi:tl,this.isPropagationStopped=tl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),r}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=hn(ft),Qs=y({},ft,{view:0,detail:0}),Fu=hn(Qs),La,ja,zi,Ys=y({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zi&&(zi&&n.type==="mousemove"?(La=n.screenX-zi.screenX,ja=n.screenY-zi.screenY):ja=La=0,zi=n),La)},movementY:function(n){return"movementY"in n?n.movementY:ja}}),hi=hn(Ys),Hu=y({},Ys,{dataTransfer:0}),Of=hn(Hu),Xs=y({},Qs,{relatedTarget:0}),Ba=hn(Xs),nl=y({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),za=hn(nl),Gu=y({},ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qa=hn(Gu),Mf=y({},ft,{data:0}),il=hn(Mf),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ku[n])?!!r[n]:!1}function Zs(){return rl}var Qu=y({},Qs,{key:function(n){if(n.key){var r=Ws[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ji(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$u[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(n){return n.type==="keypress"?ji(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ji(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fa=hn(Qu),Yu=y({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=hn(Yu),pr=y({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Xu=hn(pr),Wu=y({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=hn(Wu),Ju=y({},Ys,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=hn(Ju),jn=y({},ft,{newState:0,oldState:0}),ec=hn(jn),tc=[9,13,27,32],qi=Si&&"CompositionEvent"in window,h=null;Si&&"documentMode"in document&&(h=document.documentMode);var E=Si&&"TextEvent"in window&&!h,S=Si&&(!qi||h&&8<h&&11>=h),L=" ",ne=!1;function ce(n,r){switch(n){case"keyup":return tc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var We=!1;function rn(n,r){switch(n){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(ne=!0,L);case"textInput":return n=r.data,n===L&&ne?null:n;default:return null}}function Ze(n,r){if(We)return n==="compositionend"||!qi&&ce(n,r)?(n=el(),mr=$r=Li=null,We=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return S&&r.locale!=="ko"?null:r.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!fn[n.type]:r==="textarea"}function gr(n,r,o,u){fr?dr?dr.push(u):dr=[u]:fr=u,r=zc(r,"onChange"),0<r.length&&(o=new Ua("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var En=null,Fi=null;function al(n){p_(n,0)}function nc(n){var r=Pi(n);if(Xo(r))return n}function Vg(n,r){if(n==="change")return r}var Ug=!1;if(Si){var kf;if(Si){var Pf="oninput"in document;if(!Pf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Pf=typeof Lg.oninput=="function"}kf=Pf}else kf=!1;Ug=kf&&(!document.documentMode||9<document.documentMode)}function jg(){En&&(En.detachEvent("onpropertychange",Bg),Fi=En=null)}function Bg(n){if(n.propertyName==="value"&&nc(Fi)){var r=[];gr(r,Fi,n,ui(n)),qu(al,r)}}function _w(n,r,o){n==="focusin"?(jg(),En=r,Fi=o,En.attachEvent("onpropertychange",Bg)):n==="focusout"&&jg()}function Ew(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nc(Fi)}function Tw(n,r){if(n==="click")return nc(r)}function bw(n,r){if(n==="input"||n==="change")return nc(r)}function ww(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Wn=typeof Object.is=="function"?Object.is:ww;function ol(n,r){if(Wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!tt.call(r,f)||!Wn(n[f],r[f]))return!1}return!0}function zg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qg(n,r){var o=zg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zg(o)}}function Fg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Fg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=qs(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=qs(n.document)}return r}function Vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Aw=Si&&"documentMode"in document&&11>=document.documentMode,Ga=null,Uf=null,ll=null,Lf=!1;function Gg(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lf||Ga==null||Ga!==qs(u)||(u=Ga,"selectionStart"in u&&Vf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ll&&ol(ll,u)||(ll=u,u=zc(Uf,"onSelect"),0<u.length&&(r=new Ua("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Ga)))}function Js(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var $a={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},jf={},$g={};Si&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ea(n){if(jf[n])return jf[n];if(!$a[n])return n;var r=$a[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in $g)return jf[n]=r[o];return n}var Kg=ea("animationend"),Qg=ea("animationiteration"),Yg=ea("animationstart"),Sw=ea("transitionrun"),Rw=ea("transitionstart"),Cw=ea("transitioncancel"),Xg=ea("transitionend"),Wg=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function Ri(n,r){Wg.set(n,r),Ai(r,[n])}var Zg=new WeakMap;function fi(n,r){if(typeof n=="object"&&n!==null){var o=Zg.get(n);return o!==void 0?o:(r={value:n,source:r,stack:ka(r)},Zg.set(n,r),r)}return{value:n,source:r,stack:ka(r)}}var di=[],Ka=0,zf=0;function ic(){for(var n=Ka,r=zf=Ka=0;r<n;){var o=di[r];di[r++]=null;var u=di[r];di[r++]=null;var f=di[r];di[r++]=null;var g=di[r];if(di[r++]=null,u!==null&&f!==null){var R=u.pending;R===null?f.next=f:(f.next=R.next,R.next=f),u.pending=f}g!==0&&Jg(o,f,g)}}function rc(n,r,o,u){di[Ka++]=n,di[Ka++]=r,di[Ka++]=o,di[Ka++]=u,zf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function qf(n,r,o,u){return rc(n,r,o,u),sc(n)}function Qa(n,r){return rc(n,null,null,r),sc(n)}function Jg(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&r!==null&&(f=31-bt(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function sc(n){if(50<Ml)throw Ml=0,Qd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ya={};function Iw(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(n,r,o,u){return new Iw(n,r,o,u)}function Ff(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yr(n,r){var o=n.alternate;return o===null?(o=Zn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function ey(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function ac(n,r,o,u,f,g){var R=0;if(u=n,typeof n=="function")Ff(n)&&(R=1);else if(typeof n=="string")R=NA(n,o,Y.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case w:return n=Zn(31,o,r,f),n.elementType=w,n.lanes=g,n;case C:return ta(o.children,f,g,r);case V:R=8,f|=24;break;case B:return n=Zn(12,o,r,f|2),n.elementType=B,n.lanes=g,n;case $:return n=Zn(13,o,r,f),n.elementType=$,n.lanes=g,n;case z:return n=Zn(19,o,r,f),n.elementType=z,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:case F:R=10;break e;case G:R=9;break e;case q:R=11;break e;case P:R=14;break e;case b:R=16,u=null;break e}R=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Zn(R,o,r,f),r.elementType=n,r.type=u,r.lanes=g,r}function ta(n,r,o,u){return n=Zn(7,n,u,r),n.lanes=o,n}function Hf(n,r,o){return n=Zn(6,n,null,r),n.lanes=o,n}function Gf(n,r,o){return r=Zn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Xa=[],Wa=0,oc=null,lc=0,mi=[],pi=0,na=null,vr=1,_r="";function ia(n,r){Xa[Wa++]=lc,Xa[Wa++]=oc,oc=n,lc=r}function ty(n,r,o){mi[pi++]=vr,mi[pi++]=_r,mi[pi++]=na,na=n;var u=vr;n=_r;var f=32-bt(u)-1;u&=~(1<<f),o+=1;var g=32-bt(r)+f;if(30<g){var R=f-f%5;g=(u&(1<<R)-1).toString(32),u>>=R,f-=R,vr=1<<32-bt(r)+f|o<<f|u,_r=g+n}else vr=1<<g|o<<f|u,_r=n}function $f(n){n.return!==null&&(ia(n,1),ty(n,1,0))}function Kf(n){for(;n===oc;)oc=Xa[--Wa],Xa[Wa]=null,lc=Xa[--Wa],Xa[Wa]=null;for(;n===na;)na=mi[--pi],mi[pi]=null,_r=mi[--pi],mi[pi]=null,vr=mi[--pi],mi[pi]=null}var Bn=null,Vt=null,ut=!1,ra=null,Hi=!1,Qf=Error(s(519));function sa(n){var r=Error(s(418,""));throw hl(fi(r,n)),Qf}function ny(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[nn]=n,r[Kt]=u,o){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<Pl.length;o++)$e(Pl[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),Fs(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Pa(r);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),Hs(r,u.value,u.defaultValue,u.children),Pa(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||__(r.textContent,o)?(u.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),u.onScroll!=null&&$e("scroll",r),u.onScrollEnd!=null&&$e("scrollend",r),u.onClick!=null&&(r.onclick=qc),r=!0):r=!1,r||sa(n)}function iy(n){for(Bn=n.return;Bn;)switch(Bn.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Bn=Bn.return}}function ul(n){if(n!==Bn)return!1;if(!ut)return iy(n),ut=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||cm(n.type,n.memoizedProps)),o=!o),o&&Vt&&sa(n),iy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){Vt=Ii(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}Vt=null}}else r===27?(r=Vt,ls(n.type)?(n=mm,mm=null,Vt=n):Vt=r):Vt=Bn?Ii(n.stateNode.nextSibling):null;return!0}function cl(){Vt=Bn=null,ut=!1}function ry(){var n=ra;return n!==null&&($n===null?$n=n:$n.push.apply($n,n),ra=null),n}function hl(n){ra===null?ra=[n]:ra.push(n)}var Yf=te(null),aa=null,Er=null;function Kr(n,r,o){re(Yf,r._currentValue),r._currentValue=o}function Tr(n){n._currentValue=Yf.current,ie(Yf)}function Xf(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Wf(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var R=f.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=f;for(var H=0;H<r.length;H++)if(k.context===r[H]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Xf(g.return,o,n),u||(R=null);break e}g=k.next}}else if(f.tag===18){if(R=f.return,R===null)throw Error(s(341));R.lanes|=o,g=R.alternate,g!==null&&(g.lanes|=o),Xf(R,o,n),R=null}else R=f.child;if(R!==null)R.return=f;else for(R=f;R!==null;){if(R===n){R=null;break}if(f=R.sibling,f!==null){f.return=R.return,R=f;break}R=R.return}f=R}}function fl(n,r,o,u){n=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var R=f.alternate;if(R===null)throw Error(s(387));if(R=R.memoizedProps,R!==null){var k=f.type;Wn(f.pendingProps.value,R.value)||(n!==null?n.push(k):n=[k])}}else if(f===De.current){if(R=f.alternate,R===null)throw Error(s(387));R.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(zl):n=[zl])}f=f.return}n!==null&&Wf(r,n,o,u),r.flags|=262144}function uc(n){for(n=n.firstContext;n!==null;){if(!Wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,Er=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function xn(n){return sy(aa,n)}function cc(n,r){return aa===null&&oa(n),sy(n,r)}function sy(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Er===null){if(n===null)throw Error(s(308));Er=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Er=Er.next=r;return o}var xw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},Nw=i.unstable_scheduleCallback,Dw=i.unstable_NormalPriority,an={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new xw,data:new Map,refCount:0}}function dl(n){n.refCount--,n.refCount===0&&Nw(Dw,function(){n.controller.abort()})}var ml=null,Jf=0,Za=0,Ja=null;function Ow(n,r){if(ml===null){var o=ml=[];Jf=0,Za=tm(),Ja={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Jf++,r.then(ay,ay),r}function ay(){if(--Jf===0&&ml!==null){Ja!==null&&(Ja.status="fulfilled");var n=ml;ml=null,Za=0,Ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Mw(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var oy=I.S;I.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Ow(n,r),oy!==null&&oy(n,r)};var la=te(null);function ed(){var n=la.current;return n!==null?n:wt.pooledCache}function hc(n,r){r===null?re(la,la.current):re(la,r.pool)}function ly(){var n=ed();return n===null?null:{parent:an._currentValue,pool:n}}var pl=Error(s(460)),uy=Error(s(474)),fc=Error(s(542)),td={then:function(){}};function cy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function dc(){}function hy(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(dc,dc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,dy(n),n;default:if(typeof r.status=="string")r.then(dc,dc);else{if(n=wt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,dy(n),n}throw gl=r,pl}}var gl=null;function fy(){if(gl===null)throw Error(s(459));var n=gl;return gl=null,n}function dy(n){if(n===pl||n===fc)throw Error(s(483))}var Qr=!1;function nd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Yr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Xr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=sc(n),Jg(n,null,o),r}return rc(n,u,r,o),sc(n)}function yl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,bi(n,o)}}function rd(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var R={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=R:g=g.next=R,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var sd=!1;function vl(){if(sd){var n=Ja;if(n!==null)throw n}}function _l(n,r,o,u){sd=!1;var f=n.updateQueue;Qr=!1;var g=f.firstBaseUpdate,R=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var H=k,oe=H.next;H.next=null,R===null?g=oe:R.next=oe,R=H;var fe=n.alternate;fe!==null&&(fe=fe.updateQueue,k=fe.lastBaseUpdate,k!==R&&(k===null?fe.firstBaseUpdate=oe:k.next=oe,fe.lastBaseUpdate=H))}if(g!==null){var me=f.baseState;R=0,fe=oe=H=null,k=g;do{var le=k.lane&-536870913,ue=le!==k.lane;if(ue?(Je&le)===le:(u&le)===le){le!==0&&le===Za&&(sd=!0),fe!==null&&(fe=fe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ne=n,Re=k;le=r;var _t=o;switch(Re.tag){case 1:if(Ne=Re.payload,typeof Ne=="function"){me=Ne.call(_t,me,le);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Re.payload,le=typeof Ne=="function"?Ne.call(_t,me,le):Ne,le==null)break e;me=y({},me,le);break e;case 2:Qr=!0}}le=k.callback,le!==null&&(n.flags|=64,ue&&(n.flags|=8192),ue=f.callbacks,ue===null?f.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:k.tag,payload:k.payload,callback:k.callback,next:null},fe===null?(oe=fe=ue,H=me):fe=fe.next=ue,R|=le;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;ue=k,k=ue.next,ue.next=null,f.lastBaseUpdate=ue,f.shared.pending=null}}while(!0);fe===null&&(H=me),f.baseState=H,f.firstBaseUpdate=oe,f.lastBaseUpdate=fe,g===null&&(f.shared.lanes=0),rs|=R,n.lanes=R,n.memoizedState=me}}function my(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function py(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)my(o[n],r)}var eo=te(null),mc=te(0);function gy(n,r){n=Ir,re(mc,n),re(eo,r),Ir=n|r.baseLanes}function ad(){re(mc,Ir),re(eo,eo.current)}function od(){Ir=mc.current,ie(eo),ie(mc)}var Wr=0,je=null,yt=null,Yt=null,pc=!1,to=!1,ua=!1,gc=0,El=0,no=null,kw=0;function Ft(){throw Error(s(321))}function ld(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Wn(n[o],r[o]))return!1;return!0}function ud(n,r,o,u,f,g){return Wr=g,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,I.H=n===null||n.memoizedState===null?Jy:ev,ua=!1,g=o(u,f),ua=!1,to&&(g=vy(r,o,u,f)),yy(n),g}function yy(n){I.H=bc;var r=yt!==null&&yt.next!==null;if(Wr=0,Yt=yt=je=null,pc=!1,El=0,no=null,r)throw Error(s(300));n===null||dn||(n=n.dependencies,n!==null&&uc(n)&&(dn=!0))}function vy(n,r,o,u){je=n;var f=0;do{if(to&&(no=null),El=0,to=!1,25<=f)throw Error(s(301));if(f+=1,Yt=yt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=zw,g=r(o,u)}while(to);return g}function Pw(){var n=I.H,r=n.useState()[0];return r=typeof r.then=="function"?Tl(r):r,n=n.useState()[0],(yt!==null?yt.memoizedState:null)!==n&&(je.flags|=1024),r}function cd(){var n=gc!==0;return gc=0,n}function hd(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function fd(n){if(pc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}pc=!1}Wr=0,Yt=yt=je=null,to=!1,El=gc=0,no=null}function Hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?je.memoizedState=Yt=n:Yt=Yt.next=n,Yt}function Xt(){if(yt===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var r=Yt===null?je.memoizedState:Yt.next;if(r!==null)Yt=r,yt=n;else{if(n===null)throw je.alternate===null?Error(s(467)):Error(s(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Yt===null?je.memoizedState=Yt=n:Yt=Yt.next=n}return Yt}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(n){var r=El;return El+=1,no===null&&(no=[]),n=hy(no,n,r),r=je,(Yt===null?r.memoizedState:Yt.next)===null&&(r=r.alternate,I.H=r===null||r.memoizedState===null?Jy:ev),n}function yc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tl(n);if(n.$$typeof===F)return xn(n)}throw Error(s(438,String(n)))}function md(n){var r=null,o=je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=dd(),je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=x;return r.index++,o}function br(n,r){return typeof r=="function"?r(n):r}function vc(n){var r=Xt();return pd(r,yt,n)}function pd(n,r,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var R=f.next;f.next=g.next,g.next=R}r.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{r=f.next;var k=R=null,H=null,oe=r,fe=!1;do{var me=oe.lane&-536870913;if(me!==oe.lane?(Je&me)===me:(Wr&me)===me){var le=oe.revertLane;if(le===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),me===Za&&(fe=!0);else if((Wr&le)===le){oe=oe.next,le===Za&&(fe=!0);continue}else me={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},H===null?(k=H=me,R=g):H=H.next=me,je.lanes|=le,rs|=le;me=oe.action,ua&&o(g,me),g=oe.hasEagerState?oe.eagerState:o(g,me)}else le={lane:me,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},H===null?(k=H=le,R=g):H=H.next=le,je.lanes|=me,rs|=me;oe=oe.next}while(oe!==null&&oe!==r);if(H===null?R=g:H.next=k,!Wn(g,n.memoizedState)&&(dn=!0,fe&&(o=Ja,o!==null)))throw o;n.memoizedState=g,n.baseState=R,n.baseQueue=H,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function gd(n){var r=Xt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var R=f=f.next;do g=n(g,R.action),R=R.next;while(R!==f);Wn(g,r.memoizedState)||(dn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function _y(n,r,o){var u=je,f=Xt(),g=ut;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var R=!Wn((yt||f).memoizedState,o);R&&(f.memoizedState=o,dn=!0),f=f.queue;var k=by.bind(null,u,f,n);if(bl(2048,8,k,[n]),f.getSnapshot!==r||R||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,io(9,_c(),Ty.bind(null,u,f,o,r),null),wt===null)throw Error(s(349));g||(Wr&124)!==0||Ey(u,r,o)}return o}function Ey(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=je.updateQueue,r===null?(r=dd(),je.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Ty(n,r,o,u){r.value=o,r.getSnapshot=u,wy(r)&&Ay(n)}function by(n,r,o){return o(function(){wy(r)&&Ay(n)})}function wy(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Wn(n,o)}catch{return!0}}function Ay(n){var r=Qa(n,2);r!==null&&ii(r,n,2)}function yd(n){var r=Hn();if(typeof n=="function"){var o=n;if(n=o(),ua){it(!0);try{o()}finally{it(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:n},r}function Sy(n,r,o,u){return n.baseState=o,pd(n,yt,typeof u=="function"?u:br)}function Vw(n,r,o,u,f){if(Tc(n))throw Error(s(485));if(n=r.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){g.listeners.push(R)}};I.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Ry(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Ry(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var g=I.T,R={};I.T=R;try{var k=o(f,u),H=I.S;H!==null&&H(R,k),Cy(n,r,k)}catch(oe){vd(n,r,oe)}finally{I.T=g}}else try{g=o(f,u),Cy(n,r,g)}catch(oe){vd(n,r,oe)}}function Cy(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Iy(n,r,u)},function(u){return vd(n,r,u)}):Iy(n,r,o)}function Iy(n,r,o){r.status="fulfilled",r.value=o,xy(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Ry(n,o)))}function vd(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,xy(r),r=r.next;while(r!==u)}n.action=null}function xy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ny(n,r){return r}function Dy(n,r){if(ut){var o=wt.formState;if(o!==null){e:{var u=je;if(ut){if(Vt){t:{for(var f=Vt,g=Hi;f.nodeType!==8;){if(!g){f=null;break t}if(f=Ii(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Vt=Ii(f.nextSibling),u=f.data==="F!";break e}}sa(u)}u=!1}u&&(r=o[0])}}return o=Hn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:r},o.queue=u,o=Xy.bind(null,je,u),u.dispatch=o,u=yd(!1),g=wd.bind(null,je,!1,u.queue),u=Hn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=Vw.bind(null,je,f,g,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function Oy(n){var r=Xt();return My(r,yt,n)}function My(n,r,o){if(r=pd(n,r,Ny)[0],n=vc(br)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Tl(r)}catch(R){throw R===pl?fc:R}else u=r;r=Xt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(je.flags|=2048,io(9,_c(),Uw.bind(null,f,o),null)),[u,g,n]}function Uw(n,r){n.action=r}function ky(n){var r=Xt(),o=yt;if(o!==null)return My(r,o,n);Xt(),r=r.memoizedState,o=Xt();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function io(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=je.updateQueue,r===null&&(r=dd(),je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function _c(){return{destroy:void 0,resource:void 0}}function Py(){return Xt().memoizedState}function Ec(n,r,o,u){var f=Hn();u=u===void 0?null:u,je.flags|=n,f.memoizedState=io(1|r,_c(),o,u)}function bl(n,r,o,u){var f=Xt();u=u===void 0?null:u;var g=f.memoizedState.inst;yt!==null&&u!==null&&ld(u,yt.memoizedState.deps)?f.memoizedState=io(r,g,o,u):(je.flags|=n,f.memoizedState=io(1|r,g,o,u))}function Vy(n,r){Ec(8390656,8,n,r)}function Uy(n,r){bl(2048,8,n,r)}function Ly(n,r){return bl(4,2,n,r)}function jy(n,r){return bl(4,4,n,r)}function By(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function zy(n,r,o){o=o!=null?o.concat([n]):null,bl(4,4,By.bind(null,r,n),o)}function _d(){}function qy(n,r){var o=Xt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&ld(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function Fy(n,r){var o=Xt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&ld(r,u[1]))return u[0];if(u=n(),ua){it(!0);try{n()}finally{it(!1)}}return o.memoizedState=[u,r],u}function Ed(n,r,o){return o===void 0||(Wr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=$v(),je.lanes|=n,rs|=n,o)}function Hy(n,r,o,u){return Wn(o,r)?o:eo.current!==null?(n=Ed(n,o,u),Wn(n,r)||(dn=!0),n):(Wr&42)===0?(dn=!0,n.memoizedState=o):(n=$v(),je.lanes|=n,rs|=n,r)}function Gy(n,r,o,u,f){var g=O.p;O.p=g!==0&&8>g?g:8;var R=I.T,k={};I.T=k,wd(n,!1,r,o);try{var H=f(),oe=I.S;if(oe!==null&&oe(k,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var fe=Mw(H,u);wl(n,r,fe,ni(n))}else wl(n,r,u,ni(n))}catch(me){wl(n,r,{then:function(){},status:"rejected",reason:me},ni())}finally{O.p=g,I.T=R}}function Lw(){}function Td(n,r,o,u){if(n.tag!==5)throw Error(s(476));var f=$y(n).queue;Gy(n,f,r,ae,o===null?Lw:function(){return Ky(n),o(u)})}function $y(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:ae},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ky(n){var r=$y(n).next.queue;wl(n,r,{},ni())}function bd(){return xn(zl)}function Qy(){return Xt().memoizedState}function Yy(){return Xt().memoizedState}function jw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=ni();n=Yr(o);var u=Xr(r,n,o);u!==null&&(ii(u,r,o),yl(u,r,o)),r={cache:Zf()},n.payload=r;return}r=r.return}}function Bw(n,r,o){var u=ni();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Tc(n)?Wy(r,o):(o=qf(n,r,o,u),o!==null&&(ii(o,n,u),Zy(o,r,u)))}function Xy(n,r,o){var u=ni();wl(n,r,o,u)}function wl(n,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))Wy(r,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var R=r.lastRenderedState,k=g(R,o);if(f.hasEagerState=!0,f.eagerState=k,Wn(k,R))return rc(n,r,f,0),wt===null&&ic(),!1}catch{}finally{}if(o=qf(n,r,f,u),o!==null)return ii(o,n,u),Zy(o,r,u),!0}return!1}function wd(n,r,o,u){if(u={lane:2,revertLane:tm(),action:u,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(r)throw Error(s(479))}else r=qf(n,o,u,2),r!==null&&ii(r,n,2)}function Tc(n){var r=n.alternate;return n===je||r!==null&&r===je}function Wy(n,r){to=pc=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Zy(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,bi(n,o)}}var bc={readContext:xn,use:yc,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},Jy={readContext:xn,use:yc,useCallback:function(n,r){return Hn().memoizedState=[n,r===void 0?null:r],n},useContext:xn,useEffect:Vy,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Ec(4194308,4,By.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Ec(4194308,4,n,r)},useInsertionEffect:function(n,r){Ec(4,2,n,r)},useMemo:function(n,r){var o=Hn();r=r===void 0?null:r;var u=n();if(ua){it(!0);try{n()}finally{it(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=Hn();if(o!==void 0){var f=o(r);if(ua){it(!0);try{o(r)}finally{it(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Bw.bind(null,je,n),[u.memoizedState,n]},useRef:function(n){var r=Hn();return n={current:n},r.memoizedState=n},useState:function(n){n=yd(n);var r=n.queue,o=Xy.bind(null,je,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:_d,useDeferredValue:function(n,r){var o=Hn();return Ed(o,n,r)},useTransition:function(){var n=yd(!1);return n=Gy.bind(null,je,n.queue,!0,!1),Hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=je,f=Hn();if(ut){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),wt===null)throw Error(s(349));(Je&124)!==0||Ey(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,Vy(by.bind(null,u,g,n),[n]),u.flags|=2048,io(9,_c(),Ty.bind(null,u,g,o,r),null),o},useId:function(){var n=Hn(),r=wt.identifierPrefix;if(ut){var o=_r,u=vr;o=(u&~(1<<32-bt(u)-1)).toString(32)+o,r=""+r+"R"+o,o=gc++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=kw++,r=""+r+"r"+o.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:bd,useFormState:Dy,useActionState:Dy,useOptimistic:function(n){var r=Hn();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=wd.bind(null,je,!0,o),o.dispatch=r,[n,r]},useMemoCache:md,useCacheRefresh:function(){return Hn().memoizedState=jw.bind(null,je)}},ev={readContext:xn,use:yc,useCallback:qy,useContext:xn,useEffect:Uy,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:jy,useMemo:Fy,useReducer:vc,useRef:Py,useState:function(){return vc(br)},useDebugValue:_d,useDeferredValue:function(n,r){var o=Xt();return Hy(o,yt.memoizedState,n,r)},useTransition:function(){var n=vc(br)[0],r=Xt().memoizedState;return[typeof n=="boolean"?n:Tl(n),r]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:bd,useFormState:Oy,useActionState:Oy,useOptimistic:function(n,r){var o=Xt();return Sy(o,yt,n,r)},useMemoCache:md,useCacheRefresh:Yy},zw={readContext:xn,use:yc,useCallback:qy,useContext:xn,useEffect:Uy,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:jy,useMemo:Fy,useReducer:gd,useRef:Py,useState:function(){return gd(br)},useDebugValue:_d,useDeferredValue:function(n,r){var o=Xt();return yt===null?Ed(o,n,r):Hy(o,yt.memoizedState,n,r)},useTransition:function(){var n=gd(br)[0],r=Xt().memoizedState;return[typeof n=="boolean"?n:Tl(n),r]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:bd,useFormState:ky,useActionState:ky,useOptimistic:function(n,r){var o=Xt();return yt!==null?Sy(o,yt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:md,useCacheRefresh:Yy},ro=null,Al=0;function wc(n){var r=Al;return Al+=1,ro===null&&(ro=[]),hy(ro,n,r)}function Sl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ac(n,r){throw r.$$typeof===_?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function tv(n){var r=n._init;return r(n._payload)}function nv(n){function r(Z,Q){if(n){var se=Z.deletions;se===null?(Z.deletions=[Q],Z.flags|=16):se.push(Q)}}function o(Z,Q){if(!n)return null;for(;Q!==null;)r(Z,Q),Q=Q.sibling;return null}function u(Z){for(var Q=new Map;Z!==null;)Z.key!==null?Q.set(Z.key,Z):Q.set(Z.index,Z),Z=Z.sibling;return Q}function f(Z,Q){return Z=yr(Z,Q),Z.index=0,Z.sibling=null,Z}function g(Z,Q,se){return Z.index=se,n?(se=Z.alternate,se!==null?(se=se.index,se<Q?(Z.flags|=67108866,Q):se):(Z.flags|=67108866,Q)):(Z.flags|=1048576,Q)}function R(Z){return n&&Z.alternate===null&&(Z.flags|=67108866),Z}function k(Z,Q,se,de){return Q===null||Q.tag!==6?(Q=Hf(se,Z.mode,de),Q.return=Z,Q):(Q=f(Q,se),Q.return=Z,Q)}function H(Z,Q,se,de){var Te=se.type;return Te===C?fe(Z,Q,se.props.children,de,se.key):Q!==null&&(Q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===b&&tv(Te)===Q.type)?(Q=f(Q,se.props),Sl(Q,se),Q.return=Z,Q):(Q=ac(se.type,se.key,se.props,null,Z.mode,de),Sl(Q,se),Q.return=Z,Q)}function oe(Z,Q,se,de){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==se.containerInfo||Q.stateNode.implementation!==se.implementation?(Q=Gf(se,Z.mode,de),Q.return=Z,Q):(Q=f(Q,se.children||[]),Q.return=Z,Q)}function fe(Z,Q,se,de,Te){return Q===null||Q.tag!==7?(Q=ta(se,Z.mode,de,Te),Q.return=Z,Q):(Q=f(Q,se),Q.return=Z,Q)}function me(Z,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Hf(""+Q,Z.mode,se),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return se=ac(Q.type,Q.key,Q.props,null,Z.mode,se),Sl(se,Q),se.return=Z,se;case A:return Q=Gf(Q,Z.mode,se),Q.return=Z,Q;case b:var de=Q._init;return Q=de(Q._payload),me(Z,Q,se)}if(ee(Q)||M(Q))return Q=ta(Q,Z.mode,se,null),Q.return=Z,Q;if(typeof Q.then=="function")return me(Z,wc(Q),se);if(Q.$$typeof===F)return me(Z,cc(Z,Q),se);Ac(Z,Q)}return null}function le(Z,Q,se,de){var Te=Q!==null?Q.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Te!==null?null:k(Z,Q,""+se,de);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return se.key===Te?H(Z,Q,se,de):null;case A:return se.key===Te?oe(Z,Q,se,de):null;case b:return Te=se._init,se=Te(se._payload),le(Z,Q,se,de)}if(ee(se)||M(se))return Te!==null?null:fe(Z,Q,se,de,null);if(typeof se.then=="function")return le(Z,Q,wc(se),de);if(se.$$typeof===F)return le(Z,Q,cc(Z,se),de);Ac(Z,se)}return null}function ue(Z,Q,se,de,Te){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Z=Z.get(se)||null,k(Q,Z,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return Z=Z.get(de.key===null?se:de.key)||null,H(Q,Z,de,Te);case A:return Z=Z.get(de.key===null?se:de.key)||null,oe(Q,Z,de,Te);case b:var He=de._init;return de=He(de._payload),ue(Z,Q,se,de,Te)}if(ee(de)||M(de))return Z=Z.get(se)||null,fe(Q,Z,de,Te,null);if(typeof de.then=="function")return ue(Z,Q,se,wc(de),Te);if(de.$$typeof===F)return ue(Z,Q,se,cc(Q,de),Te);Ac(Q,de)}return null}function Ne(Z,Q,se,de){for(var Te=null,He=null,we=Q,Ce=Q=0,pn=null;we!==null&&Ce<se.length;Ce++){we.index>Ce?(pn=we,we=null):pn=we.sibling;var ot=le(Z,we,se[Ce],de);if(ot===null){we===null&&(we=pn);break}n&&we&&ot.alternate===null&&r(Z,we),Q=g(ot,Q,Ce),He===null?Te=ot:He.sibling=ot,He=ot,we=pn}if(Ce===se.length)return o(Z,we),ut&&ia(Z,Ce),Te;if(we===null){for(;Ce<se.length;Ce++)we=me(Z,se[Ce],de),we!==null&&(Q=g(we,Q,Ce),He===null?Te=we:He.sibling=we,He=we);return ut&&ia(Z,Ce),Te}for(we=u(we);Ce<se.length;Ce++)pn=ue(we,Z,Ce,se[Ce],de),pn!==null&&(n&&pn.alternate!==null&&we.delete(pn.key===null?Ce:pn.key),Q=g(pn,Q,Ce),He===null?Te=pn:He.sibling=pn,He=pn);return n&&we.forEach(function(ds){return r(Z,ds)}),ut&&ia(Z,Ce),Te}function Re(Z,Q,se,de){if(se==null)throw Error(s(151));for(var Te=null,He=null,we=Q,Ce=Q=0,pn=null,ot=se.next();we!==null&&!ot.done;Ce++,ot=se.next()){we.index>Ce?(pn=we,we=null):pn=we.sibling;var ds=le(Z,we,ot.value,de);if(ds===null){we===null&&(we=pn);break}n&&we&&ds.alternate===null&&r(Z,we),Q=g(ds,Q,Ce),He===null?Te=ds:He.sibling=ds,He=ds,we=pn}if(ot.done)return o(Z,we),ut&&ia(Z,Ce),Te;if(we===null){for(;!ot.done;Ce++,ot=se.next())ot=me(Z,ot.value,de),ot!==null&&(Q=g(ot,Q,Ce),He===null?Te=ot:He.sibling=ot,He=ot);return ut&&ia(Z,Ce),Te}for(we=u(we);!ot.done;Ce++,ot=se.next())ot=ue(we,Z,Ce,ot.value,de),ot!==null&&(n&&ot.alternate!==null&&we.delete(ot.key===null?Ce:ot.key),Q=g(ot,Q,Ce),He===null?Te=ot:He.sibling=ot,He=ot);return n&&we.forEach(function(qA){return r(Z,qA)}),ut&&ia(Z,Ce),Te}function _t(Z,Q,se,de){if(typeof se=="object"&&se!==null&&se.type===C&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case v:e:{for(var Te=se.key;Q!==null;){if(Q.key===Te){if(Te=se.type,Te===C){if(Q.tag===7){o(Z,Q.sibling),de=f(Q,se.props.children),de.return=Z,Z=de;break e}}else if(Q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===b&&tv(Te)===Q.type){o(Z,Q.sibling),de=f(Q,se.props),Sl(de,se),de.return=Z,Z=de;break e}o(Z,Q);break}else r(Z,Q);Q=Q.sibling}se.type===C?(de=ta(se.props.children,Z.mode,de,se.key),de.return=Z,Z=de):(de=ac(se.type,se.key,se.props,null,Z.mode,de),Sl(de,se),de.return=Z,Z=de)}return R(Z);case A:e:{for(Te=se.key;Q!==null;){if(Q.key===Te)if(Q.tag===4&&Q.stateNode.containerInfo===se.containerInfo&&Q.stateNode.implementation===se.implementation){o(Z,Q.sibling),de=f(Q,se.children||[]),de.return=Z,Z=de;break e}else{o(Z,Q);break}else r(Z,Q);Q=Q.sibling}de=Gf(se,Z.mode,de),de.return=Z,Z=de}return R(Z);case b:return Te=se._init,se=Te(se._payload),_t(Z,Q,se,de)}if(ee(se))return Ne(Z,Q,se,de);if(M(se)){if(Te=M(se),typeof Te!="function")throw Error(s(150));return se=Te.call(se),Re(Z,Q,se,de)}if(typeof se.then=="function")return _t(Z,Q,wc(se),de);if(se.$$typeof===F)return _t(Z,Q,cc(Z,se),de);Ac(Z,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Q!==null&&Q.tag===6?(o(Z,Q.sibling),de=f(Q,se),de.return=Z,Z=de):(o(Z,Q),de=Hf(se,Z.mode,de),de.return=Z,Z=de),R(Z)):o(Z,Q)}return function(Z,Q,se,de){try{Al=0;var Te=_t(Z,Q,se,de);return ro=null,Te}catch(we){if(we===pl||we===fc)throw we;var He=Zn(29,we,null,Z.mode);return He.lanes=de,He.return=Z,He}finally{}}}var so=nv(!0),iv=nv(!1),gi=te(null),Gi=null;function Zr(n){var r=n.alternate;re(on,on.current&1),re(gi,n),Gi===null&&(r===null||eo.current!==null||r.memoizedState!==null)&&(Gi=n)}function rv(n){if(n.tag===22){if(re(on,on.current),re(gi,n),Gi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Gi=n)}}else Jr()}function Jr(){re(on,on.current),re(gi,gi.current)}function wr(n){ie(gi),Gi===n&&(Gi=null),ie(on)}var on=te(0);function Sc(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||dm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ad(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Sd={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=ni(),f=Yr(u);f.payload=r,o!=null&&(f.callback=o),r=Xr(n,f,u),r!==null&&(ii(r,n,u),yl(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=ni(),f=Yr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Xr(n,f,u),r!==null&&(ii(r,n,u),yl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=ni(),u=Yr(o);u.tag=2,r!=null&&(u.callback=r),r=Xr(n,u,o),r!==null&&(ii(r,n,o),yl(r,n,o))}};function sv(n,r,o,u,f,g,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,R):r.prototype&&r.prototype.isPureReactComponent?!ol(o,u)||!ol(f,g):!0}function av(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Sd.enqueueReplaceState(r,r.state,null)}function ca(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=y({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Rc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ov(n){Rc(n)}function lv(n){console.error(n)}function uv(n){Rc(n)}function Cc(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function cv(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(n,r,o){return o=Yr(o),o.tag=3,o.payload={element:null},o.callback=function(){Cc(n,r)},o}function hv(n){return n=Yr(n),n.tag=3,n}function fv(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){cv(r,o,u)}}var R=o.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){cv(r,o,u),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function qw(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&fl(r,o,f,!0),o=gi.current,o!==null){switch(o.tag){case 13:return Gi===null?Xd():o.alternate===null&&Ut===0&&(Ut=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===td?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Zd(n,u,f)),!1;case 22:return o.flags|=65536,u===td?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Zd(n,u,f)),!1}throw Error(s(435,o.tag))}return Zd(n,u,f),Xd(),!1}if(ut)return r=gi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Qf&&(n=Error(s(422),{cause:u}),hl(fi(n,o)))):(u!==Qf&&(r=Error(s(423),{cause:u}),hl(fi(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=fi(u,o),f=Rd(n.stateNode,u,f),rd(n,f),Ut!==4&&(Ut=2)),!1;var g=Error(s(520),{cause:u});if(g=fi(g,o),Ol===null?Ol=[g]:Ol.push(g),Ut!==4&&(Ut=2),r===null)return!0;u=fi(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Rd(o.stateNode,u,n),rd(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ss===null||!ss.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=hv(f),fv(f,n,o,u),rd(o,f),!1}o=o.return}while(o!==null);return!1}var dv=Error(s(461)),dn=!1;function Tn(n,r,o,u){r.child=n===null?iv(r,null,o,u):so(r,n.child,o,u)}function mv(n,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var R={};for(var k in u)k!=="ref"&&(R[k]=u[k])}else R=u;return oa(r),u=ud(n,r,o,R,g,f),k=cd(),n!==null&&!dn?(hd(n,r,f),Ar(n,r,f)):(ut&&k&&$f(r),r.flags|=1,Tn(n,r,u,f),r.child)}function pv(n,r,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!Ff(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,gv(n,r,g,u,f)):(n=ac(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!kd(n,f)){var R=g.memoizedProps;if(o=o.compare,o=o!==null?o:ol,o(R,u)&&n.ref===r.ref)return Ar(n,r,f)}return r.flags|=1,n=yr(g,u),n.ref=r.ref,n.return=r,r.child=n}function gv(n,r,o,u,f){if(n!==null){var g=n.memoizedProps;if(ol(g,u)&&n.ref===r.ref)if(dn=!1,r.pendingProps=u=g,kd(n,f))(n.flags&131072)!==0&&(dn=!0);else return r.lanes=n.lanes,Ar(n,r,f)}return Cd(n,r,o,u,f)}function yv(n,r,o){var u=r.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=r.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return vv(n,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&hc(r,g!==null?g.cachePool:null),g!==null?gy(r,g):ad(),rv(r);else return r.lanes=r.childLanes=536870912,vv(n,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(hc(r,g.cachePool),gy(r,g),Jr(),r.memoizedState=null):(n!==null&&hc(r,null),ad(),Jr());return Tn(n,r,f,o),r.child}function vv(n,r,o,u){var f=ed();return f=f===null?null:{parent:an._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},n!==null&&hc(r,null),ad(),rv(r),n!==null&&fl(n,r,u,!0),null}function Ic(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Cd(n,r,o,u,f){return oa(r),o=ud(n,r,o,u,void 0,f),u=cd(),n!==null&&!dn?(hd(n,r,f),Ar(n,r,f)):(ut&&u&&$f(r),r.flags|=1,Tn(n,r,o,f),r.child)}function _v(n,r,o,u,f,g){return oa(r),r.updateQueue=null,o=vy(r,u,o,f),yy(n),u=cd(),n!==null&&!dn?(hd(n,r,g),Ar(n,r,g)):(ut&&u&&$f(r),r.flags|=1,Tn(n,r,o,g),r.child)}function Ev(n,r,o,u,f){if(oa(r),r.stateNode===null){var g=Ya,R=o.contextType;typeof R=="object"&&R!==null&&(g=xn(R)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Sd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},nd(r),R=o.contextType,g.context=typeof R=="object"&&R!==null?xn(R):Ya,g.state=r.memoizedState,R=o.getDerivedStateFromProps,typeof R=="function"&&(Ad(r,o,R,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(R=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),R!==g.state&&Sd.enqueueReplaceState(g,g.state,null),_l(r,u,g,f),vl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){g=r.stateNode;var k=r.memoizedProps,H=ca(o,k);g.props=H;var oe=g.context,fe=o.contextType;R=Ya,typeof fe=="object"&&fe!==null&&(R=xn(fe));var me=o.getDerivedStateFromProps;fe=typeof me=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=r.pendingProps!==k,fe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||oe!==R)&&av(r,g,u,R),Qr=!1;var le=r.memoizedState;g.state=le,_l(r,u,g,f),vl(),oe=r.memoizedState,k||le!==oe||Qr?(typeof me=="function"&&(Ad(r,o,me,u),oe=r.memoizedState),(H=Qr||sv(r,o,H,u,le,oe,R))?(fe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=oe),g.props=u,g.state=oe,g.context=R,u=H):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,id(n,r),R=r.memoizedProps,fe=ca(o,R),g.props=fe,me=r.pendingProps,le=g.context,oe=o.contextType,H=Ya,typeof oe=="object"&&oe!==null&&(H=xn(oe)),k=o.getDerivedStateFromProps,(oe=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R!==me||le!==H)&&av(r,g,u,H),Qr=!1,le=r.memoizedState,g.state=le,_l(r,u,g,f),vl();var ue=r.memoizedState;R!==me||le!==ue||Qr||n!==null&&n.dependencies!==null&&uc(n.dependencies)?(typeof k=="function"&&(Ad(r,o,k,u),ue=r.memoizedState),(fe=Qr||sv(r,o,fe,u,le,ue,H)||n!==null&&n.dependencies!==null&&uc(n.dependencies))?(oe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ue,H),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ue,H)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||R===n.memoizedProps&&le===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&le===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ue),g.props=u,g.state=ue,g.context=H,u=fe):(typeof g.componentDidUpdate!="function"||R===n.memoizedProps&&le===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&le===n.memoizedState||(r.flags|=1024),u=!1)}return g=u,Ic(n,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&u?(r.child=so(r,n.child,null,f),r.child=so(r,null,o,f)):Tn(n,r,o,f),r.memoizedState=g.state,n=r.child):n=Ar(n,r,f),n}function Tv(n,r,o,u){return cl(),r.flags|=256,Tn(n,r,o,u),r.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(n){return{baseLanes:n,cachePool:ly()}}function Nd(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=yi),n}function bv(n,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,R;if((R=g)||(R=n!==null&&n.memoizedState===null?!1:(on.current&2)!==0),R&&(f=!0,r.flags&=-129),R=(r.flags&32)!==0,r.flags&=-33,n===null){if(ut){if(f?Zr(r):Jr(),ut){var k=Vt,H;if(H=k){e:{for(H=k,k=Hi;H.nodeType!==8;){if(!k){k=null;break e}if(H=Ii(H.nextSibling),H===null){k=null;break e}}k=H}k!==null?(r.memoizedState={dehydrated:k,treeContext:na!==null?{id:vr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},H=Zn(18,null,null,0),H.stateNode=k,H.return=r,r.child=H,Bn=r,Vt=null,H=!0):H=!1}H||sa(r)}if(k=r.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return dm(k)?r.lanes=32:r.lanes=536870912,null;wr(r)}return k=u.children,u=u.fallback,f?(Jr(),f=r.mode,k=xc({mode:"hidden",children:k},f),u=ta(u,f,o,null),k.return=r,u.return=r,k.sibling=u,r.child=k,f=r.child,f.memoizedState=xd(o),f.childLanes=Nd(n,R,o),r.memoizedState=Id,u):(Zr(r),Dd(r,k))}if(H=n.memoizedState,H!==null&&(k=H.dehydrated,k!==null)){if(g)r.flags&256?(Zr(r),r.flags&=-257,r=Od(n,r,o)):r.memoizedState!==null?(Jr(),r.child=n.child,r.flags|=128,r=null):(Jr(),f=u.fallback,k=r.mode,u=xc({mode:"visible",children:u.children},k),f=ta(f,k,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,so(r,n.child,null,o),u=r.child,u.memoizedState=xd(o),u.childLanes=Nd(n,R,o),r.memoizedState=Id,r=f);else if(Zr(r),dm(k)){if(R=k.nextSibling&&k.nextSibling.dataset,R)var oe=R.dgst;R=oe,u=Error(s(419)),u.stack="",u.digest=R,hl({value:u,source:null,stack:null}),r=Od(n,r,o)}else if(dn||fl(n,r,o,!1),R=(o&n.childLanes)!==0,dn||R){if(R=wt,R!==null&&(u=o&-o,u=(u&42)!==0?1:wi(u),u=(u&(R.suspendedLanes|o))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,Qa(n,u),ii(R,n,u),dv;k.data==="$?"||Xd(),r=Od(n,r,o)}else k.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=H.treeContext,Vt=Ii(k.nextSibling),Bn=r,ut=!0,ra=null,Hi=!1,n!==null&&(mi[pi++]=vr,mi[pi++]=_r,mi[pi++]=na,vr=n.id,_r=n.overflow,na=r),r=Dd(r,u.children),r.flags|=4096);return r}return f?(Jr(),f=u.fallback,k=r.mode,H=n.child,oe=H.sibling,u=yr(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,oe!==null?f=yr(oe,f):(f=ta(f,k,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,k=n.child.memoizedState,k===null?k=xd(o):(H=k.cachePool,H!==null?(oe=an._currentValue,H=H.parent!==oe?{parent:oe,pool:oe}:H):H=ly(),k={baseLanes:k.baseLanes|o,cachePool:H}),f.memoizedState=k,f.childLanes=Nd(n,R,o),r.memoizedState=Id,u):(Zr(r),o=n.child,n=o.sibling,o=yr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(R=r.deletions,R===null?(r.deletions=[n],r.flags|=16):R.push(n)),r.child=o,r.memoizedState=null,o)}function Dd(n,r){return r=xc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function xc(n,r){return n=Zn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Od(n,r,o){return so(r,n.child,null,o),n=Dd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function wv(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Xf(n.return,r,o)}function Md(n,r,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Av(n,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Tn(n,r,u.children,o),u=on.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wv(n,o,r);else if(n.tag===19)wv(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(re(on,u),f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&Sc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Md(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Sc(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Md(r,!0,o,null,g);break;case"together":Md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ar(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),rs|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(fl(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=yr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=yr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function kd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&uc(n)))}function Fw(n,r,o){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),Kr(r,an,n.memoizedState.cache),cl();break;case 27:case 5:ze(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:Kr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Zr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?bv(n,r,o):(Zr(r),n=Ar(n,r,o),n!==null?n.sibling:null);Zr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(fl(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return Av(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(on,on.current),u)break;return null;case 22:case 23:return r.lanes=0,yv(n,r,o);case 24:Kr(r,an,n.memoizedState.cache)}return Ar(n,r,o)}function Sv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)dn=!0;else{if(!kd(n,o)&&(r.flags&128)===0)return dn=!1,Fw(n,r,o);dn=(n.flags&131072)!==0}else dn=!1,ut&&(r.flags&1048576)!==0&&ty(r,lc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Ff(u)?(n=ca(u,n),r.tag=1,r=Ev(null,r,u,n,o)):(r.tag=0,r=Cd(null,r,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===q){r.tag=11,r=mv(null,r,u,n,o);break e}else if(f===P){r.tag=14,r=pv(null,r,u,n,o);break e}}throw r=K(u)||u,Error(s(306,r,""))}}return r;case 0:return Cd(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ca(u,r.pendingProps),Ev(n,r,u,f,o);case 3:e:{if(be(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,id(n,r),_l(r,u,null,o);var R=r.memoizedState;if(u=R.cache,Kr(r,an,u),u!==g.cache&&Wf(r,[an],o,!0),vl(),u=R.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:R.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Tv(n,r,u,o);break e}else if(u!==f){f=fi(Error(s(424)),r),hl(f),r=Tv(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Vt=Ii(n.firstChild),Bn=r,ut=!0,ra=null,Hi=!0,o=iv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(cl(),u===f){r=Ar(n,r,o);break e}Tn(n,r,u,o)}r=r.child}return r;case 26:return Ic(n,r),n===null?(o=x_(r.type,null,r.pendingProps,null))?r.memoizedState=o:ut||(o=r.type,n=r.pendingProps,u=Fc(ye.current).createElement(o),u[nn]=r,u[Kt]=n,wn(u,o,n),qt(u),r.stateNode=u):r.memoizedState=x_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ze(r),n===null&&ut&&(u=r.stateNode=R_(r.type,r.pendingProps,ye.current),Bn=r,Hi=!0,f=Vt,ls(r.type)?(mm=f,Vt=Ii(u.firstChild)):Vt=f),Tn(n,r,r.pendingProps.children,o),Ic(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ut&&((f=u=Vt)&&(u=yA(u,r.type,r.pendingProps,Hi),u!==null?(r.stateNode=u,Bn=r,Vt=Ii(u.firstChild),Hi=!1,f=!0):f=!1),f||sa(r)),ze(r),f=r.type,g=r.pendingProps,R=n!==null?n.memoizedProps:null,u=g.children,cm(f,g)?u=null:R!==null&&cm(f,R)&&(r.flags|=32),r.memoizedState!==null&&(f=ud(n,r,Pw,null,null,o),zl._currentValue=f),Ic(n,r),Tn(n,r,u,o),r.child;case 6:return n===null&&ut&&((n=o=Vt)&&(o=vA(o,r.pendingProps,Hi),o!==null?(r.stateNode=o,Bn=r,Vt=null,n=!0):n=!1),n||sa(r)),null;case 13:return bv(n,r,o);case 4:return be(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=so(r,null,u,o):Tn(n,r,u,o),r.child;case 11:return mv(n,r,r.type,r.pendingProps,o);case 7:return Tn(n,r,r.pendingProps,o),r.child;case 8:return Tn(n,r,r.pendingProps.children,o),r.child;case 12:return Tn(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Kr(r,r.type,u.value),Tn(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,oa(r),f=xn(f),u=u(f),r.flags|=1,Tn(n,r,u,o),r.child;case 14:return pv(n,r,r.type,r.pendingProps,o);case 15:return gv(n,r,r.type,r.pendingProps,o);case 19:return Av(n,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},n===null?(o=xc(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=yr(n.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return yv(n,r,o);case 24:return oa(r),u=xn(an),n===null?(f=ed(),f===null&&(f=wt,g=Zf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},nd(r),Kr(r,an,f)):((n.lanes&o)!==0&&(id(n,r),_l(r,null,null,o),vl()),f=n.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Kr(r,an,u)):(u=g.cache,Kr(r,an,u),u!==f.cache&&Wf(r,[an],o,!0))),Tn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Sr(n){n.flags|=4}function Rv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!k_(r)){if(r=gi.current,r!==null&&((Je&4194048)===Je?Gi!==null:(Je&62914560)!==Je&&(Je&536870912)===0||r!==Gi))throw gl=td,uy;n.flags|=8192}}function Nc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?at():536870912,n.lanes|=r,uo|=r)}function Rl(n,r){if(!ut)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Dt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function Hw(n,r,o){var u=r.pendingProps;switch(Kf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Dt(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Tr(an),Se(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ul(r)?Sr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ry())),Dt(r),null;case 26:return o=r.memoizedState,n===null?(Sr(r),o!==null?(Dt(r),Rv(r,o)):(Dt(r),r.flags&=-16777217)):o?o!==n.memoizedState?(Sr(r),Dt(r),Rv(r,o)):(Dt(r),r.flags&=-16777217):(n.memoizedProps!==u&&Sr(r),Dt(r),r.flags&=-16777217),null;case 27:Le(r),o=ye.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Sr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Dt(r),null}n=Y.current,ul(r)?ny(r):(n=R_(f,u,o),r.stateNode=n,Sr(r))}return Dt(r),null;case 5:if(Le(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Sr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Dt(r),null}if(n=Y.current,ul(r))ny(r);else{switch(f=Fc(ye.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[nn]=r,n[Kt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(wn(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Sr(r)}}return Dt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Sr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=ye.current,ul(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=Bn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[nn]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||__(n.nodeValue,o)),n||sa(r)}else n=Fc(n).createTextNode(u),n[nn]=r,r.stateNode=n}return Dt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ul(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[nn]=r}else cl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),f=!1}else f=ry(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(wr(r),r):(wr(r),null)}if(wr(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),Nc(r,r.updateQueue),Dt(r),null;case 4:return Se(),n===null&&sm(r.stateNode.containerInfo),Dt(r),null;case 10:return Tr(r.type),Dt(r),null;case 19:if(ie(on),f=r.memoizedState,f===null)return Dt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Rl(f,!1);else{if(Ut!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=Sc(n),g!==null){for(r.flags|=128,Rl(f,!1),n=g.updateQueue,r.updateQueue=n,Nc(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)ey(o,n),o=o.sibling;return re(on,on.current&1|2),r.child}n=n.sibling}f.tail!==null&&Ue()>Mc&&(r.flags|=128,u=!0,Rl(f,!1),r.lanes=4194304)}else{if(!u)if(n=Sc(g),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Nc(r,n),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ut)return Dt(r),null}else 2*Ue()-f.renderingStartTime>Mc&&o!==536870912&&(r.flags|=128,u=!0,Rl(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(n=f.last,n!==null?n.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ue(),r.sibling=null,n=on.current,re(on,u?n&1|2:n&1),r):(Dt(r),null);case 22:case 23:return wr(r),od(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),o=r.updateQueue,o!==null&&Nc(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&ie(la),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Tr(an),Dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Gw(n,r){switch(Kf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Tr(an),Se(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Le(r),null;case 13:if(wr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));cl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ie(on),null;case 4:return Se(),null;case 10:return Tr(r.type),null;case 22:case 23:return wr(r),od(),n!==null&&ie(la),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Tr(an),null;case 25:return null;default:return null}}function Cv(n,r){switch(Kf(r),r.tag){case 3:Tr(an),Se();break;case 26:case 27:case 5:Le(r);break;case 4:Se();break;case 13:wr(r);break;case 19:ie(on);break;case 10:Tr(r.type);break;case 22:case 23:wr(r),od(),n!==null&&ie(la);break;case 24:Tr(an)}}function Cl(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,R=o.inst;u=g(),R.destroy=u}o=o.next}while(o!==f)}}catch(k){Tt(r,r.return,k)}}function es(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var R=u.inst,k=R.destroy;if(k!==void 0){R.destroy=void 0,f=r;var H=o,oe=k;try{oe()}catch(fe){Tt(f,H,fe)}}}u=u.next}while(u!==g)}}catch(fe){Tt(r,r.return,fe)}}function Iv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{py(r,o)}catch(u){Tt(n,n.return,u)}}}function xv(n,r,o){o.props=ca(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Tt(n,r,u)}}function Il(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){Tt(n,r,f)}}function $i(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Tt(n,r,f)}else o.current=null}function Nv(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Tt(n,n.return,f)}}function Pd(n,r,o){try{var u=n.stateNode;fA(u,n.type,o,r),u[Kt]=r}catch(f){Tt(n,n.return,f)}}function Dv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ls(n.type)||n.tag===4}function Vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Dv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ls(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ud(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=qc));else if(u!==4&&(u===27&&ls(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Ud(n,r,o),n=n.sibling;n!==null;)Ud(n,r,o),n=n.sibling}function Dc(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&ls(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Dc(n,r,o),n=n.sibling;n!==null;)Dc(n,r,o),n=n.sibling}function Ov(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);wn(r,u,o),r[nn]=n,r[Kt]=o}catch(g){Tt(n,n.return,g)}}var Rr=!1,Ht=!1,Ld=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,mn=null;function $w(n,r){if(n=n.containerInfo,lm=Yc,n=Hg(n),Vf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var R=0,k=-1,H=-1,oe=0,fe=0,me=n,le=null;t:for(;;){for(var ue;me!==o||f!==0&&me.nodeType!==3||(k=R+f),me!==g||u!==0&&me.nodeType!==3||(H=R+u),me.nodeType===3&&(R+=me.nodeValue.length),(ue=me.firstChild)!==null;)le=me,me=ue;for(;;){if(me===n)break t;if(le===o&&++oe===f&&(k=R),le===g&&++fe===u&&(H=R),(ue=me.nextSibling)!==null)break;me=le,le=me.parentNode}me=ue}o=k===-1||H===-1?null:{start:k,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(um={focusedElem:n,selectionRange:o},Yc=!1,mn=r;mn!==null;)if(r=mn,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,mn=n;else for(;mn!==null;){switch(r=mn,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ne=ca(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ne,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Re){Tt(o,o.return,Re)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)fm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,mn=n;break}mn=r.return}}function kv(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ts(n,o),u&4&&Cl(5,o);break;case 1:if(ts(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(R){Tt(o,o.return,R)}else{var f=ca(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(R){Tt(o,o.return,R)}}u&64&&Iv(o),u&512&&Il(o,o.return);break;case 3:if(ts(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{py(n,r)}catch(R){Tt(o,o.return,R)}}break;case 27:r===null&&u&4&&Ov(o);case 26:case 5:ts(n,o),r===null&&u&4&&Nv(o),u&512&&Il(o,o.return);break;case 12:ts(n,o);break;case 13:ts(n,o),u&4&&Uv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=tA.bind(null,o),_A(n,o))));break;case 22:if(u=o.memoizedState!==null||Rr,!u){r=r!==null&&r.memoizedState!==null||Ht,f=Rr;var g=Ht;Rr=u,(Ht=r)&&!g?ns(n,o,(o.subtreeFlags&8772)!==0):ts(n,o),Rr=f,Ht=g}break;case 30:break;default:ts(n,o)}}function Pv(n){var r=n.alternate;r!==null&&(n.alternate=null,Pv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Fr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var It=null,Gn=!1;function Cr(n,r,o){for(o=o.child;o!==null;)Vv(n,r,o),o=o.sibling}function Vv(n,r,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ke,o)}catch{}switch(o.tag){case 26:Ht||$i(o,r),Cr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||$i(o,r);var u=It,f=Gn;ls(o.type)&&(It=o.stateNode,Gn=!1),Cr(n,r,o),Ul(o.stateNode),It=u,Gn=f;break;case 5:Ht||$i(o,r);case 6:if(u=It,f=Gn,It=null,Cr(n,r,o),It=u,Gn=f,It!==null)if(Gn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(o.stateNode)}catch(g){Tt(o,r,g)}else try{It.removeChild(o.stateNode)}catch(g){Tt(o,r,g)}break;case 18:It!==null&&(Gn?(n=It,A_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Gl(n)):A_(It,o.stateNode));break;case 4:u=It,f=Gn,It=o.stateNode.containerInfo,Gn=!0,Cr(n,r,o),It=u,Gn=f;break;case 0:case 11:case 14:case 15:Ht||es(2,o,r),Ht||es(4,o,r),Cr(n,r,o);break;case 1:Ht||($i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&xv(o,r,u)),Cr(n,r,o);break;case 21:Cr(n,r,o);break;case 22:Ht=(u=Ht)||o.memoizedState!==null,Cr(n,r,o),Ht=u;break;default:Cr(n,r,o)}}function Uv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(o){Tt(r,r.return,o)}}function Kw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Mv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Mv),r;default:throw Error(s(435,n.tag))}}function jd(n,r){var o=Kw(n);r.forEach(function(u){var f=nA.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Jn(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,R=r,k=R;e:for(;k!==null;){switch(k.tag){case 27:if(ls(k.type)){It=k.stateNode,Gn=!1;break e}break;case 5:It=k.stateNode,Gn=!1;break e;case 3:case 4:It=k.stateNode.containerInfo,Gn=!0;break e}k=k.return}if(It===null)throw Error(s(160));Vv(g,R,f),It=null,Gn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Lv(r,n),r=r.sibling}var Ci=null;function Lv(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Jn(r,n),ei(n),u&4&&(es(3,n,n.return),Cl(3,n),es(5,n,n.return));break;case 1:Jn(r,n),ei(n),u&512&&(Ht||o===null||$i(o,o.return)),u&64&&Rr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ci;if(Jn(r,n),ei(n),u&512&&(Ht||o===null||$i(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[js]||g[nn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),wn(g,u,o),g[nn]=n,qt(g),u=g;break e;case"link":var R=O_("link","href",f).get(u+(o.href||""));if(R){for(var k=0;k<R.length;k++)if(g=R[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){R.splice(k,1);break t}}g=f.createElement(u),wn(g,u,o),f.head.appendChild(g);break;case"meta":if(R=O_("meta","content",f).get(u+(o.content||""))){for(k=0;k<R.length;k++)if(g=R[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){R.splice(k,1);break t}}g=f.createElement(u),wn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[nn]=n,qt(g),u=g}n.stateNode=u}else M_(f,n.type,n.stateNode);else n.stateNode=D_(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?M_(f,n.type,n.stateNode):D_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Pd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Jn(r,n),ei(n),u&512&&(Ht||o===null||$i(o,o.return)),o!==null&&u&4&&Pd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Jn(r,n),ei(n),u&512&&(Ht||o===null||$i(o,o.return)),n.flags&32){f=n.stateNode;try{li(f,"")}catch(ue){Tt(n,n.return,ue)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Pd(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Ld=!0);break;case 6:if(Jn(r,n),ei(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ue){Tt(n,n.return,ue)}}break;case 3:if($c=null,f=Ci,Ci=Hc(r.containerInfo),Jn(r,n),Ci=f,ei(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gl(r.containerInfo)}catch(ue){Tt(n,n.return,ue)}Ld&&(Ld=!1,jv(n));break;case 4:u=Ci,Ci=Hc(n.stateNode.containerInfo),Jn(r,n),ei(n),Ci=u;break;case 12:Jn(r,n),ei(n);break;case 13:Jn(r,n),ei(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gd=Ue()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jd(n,u)));break;case 22:f=n.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,oe=Rr,fe=Ht;if(Rr=oe||f,Ht=fe||H,Jn(r,n),Ht=fe,Rr=oe,ei(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||H||Rr||Ht||ha(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){H=o=r;try{if(g=H.stateNode,f)R=g.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{k=H.stateNode;var me=H.memoizedProps.style,le=me!=null&&me.hasOwnProperty("display")?me.display:null;k.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){Tt(H,H.return,ue)}}}else if(r.tag===6){if(o===null){H=r;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(ue){Tt(H,H.return,ue)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,jd(n,o))));break;case 19:Jn(r,n),ei(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jd(n,u)));break;case 30:break;case 21:break;default:Jn(r,n),ei(n)}}function ei(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(Dv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Vd(n);Dc(n,g,f);break;case 5:var R=o.stateNode;o.flags&32&&(li(R,""),o.flags&=-33);var k=Vd(n);Dc(n,k,R);break;case 3:case 4:var H=o.stateNode.containerInfo,oe=Vd(n);Ud(n,oe,H);break;default:throw Error(s(161))}}catch(fe){Tt(n,n.return,fe)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function jv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;jv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ts(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)kv(n,r.alternate,r),r=r.sibling}function ha(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:es(4,r,r.return),ha(r);break;case 1:$i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&xv(r,r.return,o),ha(r);break;case 27:Ul(r.stateNode);case 26:case 5:$i(r,r.return),ha(r);break;case 22:r.memoizedState===null&&ha(r);break;case 30:ha(r);break;default:ha(r)}n=n.sibling}}function ns(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,g=r,R=g.flags;switch(g.tag){case 0:case 11:case 15:ns(f,g,o),Cl(4,g);break;case 1:if(ns(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(oe){Tt(u,u.return,oe)}if(u=g,f=u.updateQueue,f!==null){var k=u.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)my(H[f],k)}catch(oe){Tt(u,u.return,oe)}}o&&R&64&&Iv(g),Il(g,g.return);break;case 27:Ov(g);case 26:case 5:ns(f,g,o),o&&u===null&&R&4&&Nv(g),Il(g,g.return);break;case 12:ns(f,g,o);break;case 13:ns(f,g,o),o&&R&4&&Uv(f,g);break;case 22:g.memoizedState===null&&ns(f,g,o),Il(g,g.return);break;case 30:break;default:ns(f,g,o)}r=r.sibling}}function Bd(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&dl(o))}function zd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&dl(n))}function Ki(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bv(n,r,o,u),r=r.sibling}function Bv(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(n,r,o,u),f&2048&&Cl(9,r);break;case 1:Ki(n,r,o,u);break;case 3:Ki(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&dl(n)));break;case 12:if(f&2048){Ki(n,r,o,u),n=r.stateNode;try{var g=r.memoizedProps,R=g.id,k=g.onPostCommit;typeof k=="function"&&k(R,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){Tt(r,r.return,H)}}else Ki(n,r,o,u);break;case 13:Ki(n,r,o,u);break;case 23:break;case 22:g=r.stateNode,R=r.alternate,r.memoizedState!==null?g._visibility&2?Ki(n,r,o,u):xl(n,r):g._visibility&2?Ki(n,r,o,u):(g._visibility|=2,ao(n,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Bd(R,r);break;case 24:Ki(n,r,o,u),f&2048&&zd(r.alternate,r);break;default:Ki(n,r,o,u)}}function ao(n,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,R=r,k=o,H=u,oe=R.flags;switch(R.tag){case 0:case 11:case 15:ao(g,R,k,H,f),Cl(8,R);break;case 23:break;case 22:var fe=R.stateNode;R.memoizedState!==null?fe._visibility&2?ao(g,R,k,H,f):xl(g,R):(fe._visibility|=2,ao(g,R,k,H,f)),f&&oe&2048&&Bd(R.alternate,R);break;case 24:ao(g,R,k,H,f),f&&oe&2048&&zd(R.alternate,R);break;default:ao(g,R,k,H,f)}r=r.sibling}}function xl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:xl(o,u),f&2048&&Bd(u.alternate,u);break;case 24:xl(o,u),f&2048&&zd(u.alternate,u);break;default:xl(o,u)}r=r.sibling}}var Nl=8192;function oo(n){if(n.subtreeFlags&Nl)for(n=n.child;n!==null;)zv(n),n=n.sibling}function zv(n){switch(n.tag){case 26:oo(n),n.flags&Nl&&n.memoizedState!==null&&OA(Ci,n.memoizedState,n.memoizedProps);break;case 5:oo(n);break;case 3:case 4:var r=Ci;Ci=Hc(n.stateNode.containerInfo),oo(n),Ci=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Nl,Nl=16777216,oo(n),Nl=r):oo(n));break;default:oo(n)}}function qv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Dl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];mn=u,Hv(u,n)}qv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 0:case 11:case 15:Dl(n),n.flags&2048&&es(9,n,n.return);break;case 3:Dl(n);break;case 12:Dl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Oc(n)):Dl(n);break;default:Dl(n)}}function Oc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];mn=u,Hv(u,n)}qv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:es(8,r,r.return),Oc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Oc(r));break;default:Oc(r)}n=n.sibling}}function Hv(n,r){for(;mn!==null;){var o=mn;switch(o.tag){case 0:case 11:case 15:es(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,mn=u;else e:for(o=n;mn!==null;){u=mn;var f=u.sibling,g=u.return;if(Pv(u),u===o){mn=null;break e}if(f!==null){f.return=g,mn=f;break e}mn=g}}}var Qw={getCacheForType:function(n){var r=xn(an),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},Yw=typeof WeakMap=="function"?WeakMap:Map,mt=0,wt=null,Ge=null,Je=0,pt=0,ti=null,is=!1,lo=!1,qd=!1,Ir=0,Ut=0,rs=0,fa=0,Fd=0,yi=0,uo=0,Ol=null,$n=null,Hd=!1,Gd=0,Mc=1/0,kc=null,ss=null,bn=0,as=null,co=null,ho=0,$d=0,Kd=null,Gv=null,Ml=0,Qd=null;function ni(){if((mt&2)!==0&&Je!==0)return Je&-Je;if(I.T!==null){var n=Za;return n!==0?n:tm()}return In()}function $v(){yi===0&&(yi=(Je&536870912)===0||ut?st():536870912);var n=gi.current;return n!==null&&(n.flags|=32),yi}function ii(n,r,o){(n===wt&&(pt===2||pt===9)||n.cancelPendingCommit!==null)&&(fo(n,0),os(n,Je,yi,!1)),zt(n,o),((mt&2)===0||n!==wt)&&(n===wt&&((mt&2)===0&&(fa|=o),Ut===4&&os(n,Je,yi,!1)),Qi(n))}function Kv(n,r,o){if((mt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&n.expiredLanes)===0||Pe(n,r),f=u?Zw(n,r):Wd(n,r,!0),g=u;do{if(f===0){lo&&!u&&os(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!Xw(o)){f=Wd(n,r,!1),g=!1;continue}if(f===2){if(g=r,n.errorRecoveryDisabledLanes&g)var R=0;else R=n.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){r=R;e:{var k=n;f=Ol;var H=k.current.memoizedState.isDehydrated;if(H&&(fo(k,R).flags|=256),R=Wd(k,R,!1),R!==2){if(qd&&!H){k.errorRecoveryDisabledLanes|=g,fa|=g,f=4;break e}g=$n,$n=f,g!==null&&($n===null?$n=g:$n.push.apply($n,g))}f=R}if(g=!1,f!==2)continue}}if(f===1){fo(n,0),os(n,r,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:os(u,r,yi,!is);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Gd+300-Ue(),10<f)){if(os(u,r,yi,!is),ht(u,0,!0)!==0)break e;u.timeoutHandle=b_(Qv.bind(null,u,o,$n,kc,Hd,r,yi,fa,uo,is,g,2,-0,0),f);break e}Qv(u,o,$n,kc,Hd,r,yi,fa,uo,is,g,0,-0,0)}}break}while(!0);Qi(n)}function Qv(n,r,o,u,f,g,R,k,H,oe,fe,me,le,ue){if(n.timeoutHandle=-1,me=r.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:DA},zv(r),me=MA(),me!==null)){n.cancelPendingCommit=me(t_.bind(null,n,r,g,o,u,f,R,k,H,fe,1,le,ue)),os(n,g,R,!oe);return}t_(n,r,g,o,u,f,R,k,H)}function Xw(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Wn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function os(n,r,o,u){r&=~Fd,r&=~fa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var g=31-bt(f),R=1<<g;u[g]=-1,f&=~R}o!==0&&vn(n,o,r)}function Pc(){return(mt&6)===0?(kl(0),!1):!0}function Yd(){if(Ge!==null){if(pt===0)var n=Ge.return;else n=Ge,Er=aa=null,fd(n),ro=null,Al=0,n=Ge;for(;n!==null;)Cv(n.alternate,n),n=n.return;Ge=null}}function fo(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,mA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Yd(),wt=n,Ge=o=yr(n.current,null),Je=r,pt=0,ti=null,is=!1,lo=Pe(n,r),qd=!1,uo=yi=Fd=fa=rs=Ut=0,$n=Ol=null,Hd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-bt(u),g=1<<f;r|=n[f],u&=~g}return Ir=r,ic(),o}function Yv(n,r){je=null,I.H=bc,r===pl||r===fc?(r=fy(),pt=3):r===uy?(r=fy(),pt=4):pt=r===dv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ti=r,Ge===null&&(Ut=1,Cc(n,fi(r,n.current)))}function Xv(){var n=I.H;return I.H=bc,n===null?bc:n}function Wv(){var n=I.A;return I.A=Qw,n}function Xd(){Ut=4,is||(Je&4194048)!==Je&&gi.current!==null||(lo=!0),(rs&134217727)===0&&(fa&134217727)===0||wt===null||os(wt,Je,yi,!1)}function Wd(n,r,o){var u=mt;mt|=2;var f=Xv(),g=Wv();(wt!==n||Je!==r)&&(kc=null,fo(n,r)),r=!1;var R=Ut;e:do try{if(pt!==0&&Ge!==null){var k=Ge,H=ti;switch(pt){case 8:Yd(),R=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(r=!0);var oe=pt;if(pt=0,ti=null,mo(n,k,H,oe),o&&lo){R=0;break e}break;default:oe=pt,pt=0,ti=null,mo(n,k,H,oe)}}Ww(),R=Ut;break}catch(fe){Yv(n,fe)}while(!0);return r&&n.shellSuspendCounter++,Er=aa=null,mt=u,I.H=f,I.A=g,Ge===null&&(wt=null,Je=0,ic()),R}function Ww(){for(;Ge!==null;)Zv(Ge)}function Zw(n,r){var o=mt;mt|=2;var u=Xv(),f=Wv();wt!==n||Je!==r?(kc=null,Mc=Ue()+500,fo(n,r)):lo=Pe(n,r);e:do try{if(pt!==0&&Ge!==null){r=Ge;var g=ti;t:switch(pt){case 1:pt=0,ti=null,mo(n,r,g,1);break;case 2:case 9:if(cy(g)){pt=0,ti=null,Jv(r);break}r=function(){pt!==2&&pt!==9||wt!==n||(pt=7),Qi(n)},g.then(r,r);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:cy(g)?(pt=0,ti=null,Jv(r)):(pt=0,ti=null,mo(n,r,g,7));break;case 5:var R=null;switch(Ge.tag){case 26:R=Ge.memoizedState;case 5:case 27:var k=Ge;if(!R||k_(R)){pt=0,ti=null;var H=k.sibling;if(H!==null)Ge=H;else{var oe=k.return;oe!==null?(Ge=oe,Vc(oe)):Ge=null}break t}}pt=0,ti=null,mo(n,r,g,5);break;case 6:pt=0,ti=null,mo(n,r,g,6);break;case 8:Yd(),Ut=6;break e;default:throw Error(s(462))}}Jw();break}catch(fe){Yv(n,fe)}while(!0);return Er=aa=null,I.H=u,I.A=f,mt=o,Ge!==null?0:(wt=null,Je=0,ic(),Ut)}function Jw(){for(;Ge!==null&&!rt();)Zv(Ge)}function Zv(n){var r=Sv(n.alternate,n,Ir);n.memoizedProps=n.pendingProps,r===null?Vc(n):Ge=r}function Jv(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=_v(o,r,r.pendingProps,r.type,void 0,Je);break;case 11:r=_v(o,r,r.pendingProps,r.type.render,r.ref,Je);break;case 5:fd(r);default:Cv(o,r),r=Ge=ey(r,Ir),r=Sv(o,r,Ir)}n.memoizedProps=n.pendingProps,r===null?Vc(n):Ge=r}function mo(n,r,o,u){Er=aa=null,fd(r),ro=null,Al=0;var f=r.return;try{if(qw(n,f,r,o,Je)){Ut=1,Cc(n,fi(o,n.current)),Ge=null;return}}catch(g){if(f!==null)throw Ge=f,g;Ut=1,Cc(n,fi(o,n.current)),Ge=null;return}r.flags&32768?(ut||u===1?n=!0:lo||(Je&536870912)!==0?n=!1:(is=n=!0,(u===2||u===9||u===3||u===6)&&(u=gi.current,u!==null&&u.tag===13&&(u.flags|=16384))),e_(r,n)):Vc(r)}function Vc(n){var r=n;do{if((r.flags&32768)!==0){e_(r,is);return}n=r.return;var o=Hw(r.alternate,r,Ir);if(o!==null){Ge=o;return}if(r=r.sibling,r!==null){Ge=r;return}Ge=r=n}while(r!==null);Ut===0&&(Ut=5)}function e_(n,r){do{var o=Gw(n.alternate,n);if(o!==null){o.flags&=32767,Ge=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=o}while(n!==null);Ut=6,Ge=null}function t_(n,r,o,u,f,g,R,k,H){n.cancelPendingCommit=null;do Uc();while(bn!==0);if((mt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=zf,Cn(n,o,g,R,k,H),n===wt&&(Ge=wt=null,Je=0),co=r,as=n,ho=o,$d=g,Kd=f,Gv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,iA(Xe,function(){return a_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=I.T,I.T=null,f=O.p,O.p=2,R=mt,mt|=4;try{$w(n,r,o)}finally{mt=R,O.p=f,I.T=u}}bn=1,n_(),i_(),r_()}}function n_(){if(bn===1){bn=0;var n=as,r=co,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=I.T,I.T=null;var u=O.p;O.p=2;var f=mt;mt|=4;try{Lv(r,n);var g=um,R=Hg(n.containerInfo),k=g.focusedElem,H=g.selectionRange;if(R!==k&&k&&k.ownerDocument&&Fg(k.ownerDocument.documentElement,k)){if(H!==null&&Vf(k)){var oe=H.start,fe=H.end;if(fe===void 0&&(fe=oe),"selectionStart"in k)k.selectionStart=oe,k.selectionEnd=Math.min(fe,k.value.length);else{var me=k.ownerDocument||document,le=me&&me.defaultView||window;if(le.getSelection){var ue=le.getSelection(),Ne=k.textContent.length,Re=Math.min(H.start,Ne),_t=H.end===void 0?Re:Math.min(H.end,Ne);!ue.extend&&Re>_t&&(R=_t,_t=Re,Re=R);var Z=qg(k,Re),Q=qg(k,_t);if(Z&&Q&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==Q.node||ue.focusOffset!==Q.offset)){var se=me.createRange();se.setStart(Z.node,Z.offset),ue.removeAllRanges(),Re>_t?(ue.addRange(se),ue.extend(Q.node,Q.offset)):(se.setEnd(Q.node,Q.offset),ue.addRange(se))}}}}for(me=[],ue=k;ue=ue.parentNode;)ue.nodeType===1&&me.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<me.length;k++){var de=me[k];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Yc=!!lm,um=lm=null}finally{mt=f,O.p=u,I.T=o}}n.current=r,bn=2}}function i_(){if(bn===2){bn=0;var n=as,r=co,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=I.T,I.T=null;var u=O.p;O.p=2;var f=mt;mt|=4;try{kv(n,r.alternate,r)}finally{mt=f,O.p=u,I.T=o}}bn=3}}function r_(){if(bn===4||bn===3){bn=0,Mt();var n=as,r=co,o=ho,u=Gv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?bn=5:(bn=0,co=as=null,s_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ss=null),Fn(o),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ke,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=I.T,f=O.p,O.p=2,I.T=null;try{for(var g=n.onRecoverableError,R=0;R<u.length;R++){var k=u[R];g(k.value,{componentStack:k.stack})}}finally{I.T=r,O.p=f}}(ho&3)!==0&&Uc(),Qi(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Qd?Ml++:(Ml=0,Qd=n):Ml=0,kl(0)}}function s_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,dl(r)))}function Uc(n){return n_(),i_(),r_(),a_()}function a_(){if(bn!==5)return!1;var n=as,r=$d;$d=0;var o=Fn(ho),u=I.T,f=O.p;try{O.p=32>o?32:o,I.T=null,o=Kd,Kd=null;var g=as,R=ho;if(bn=0,co=as=null,ho=0,(mt&6)!==0)throw Error(s(331));var k=mt;if(mt|=4,Fv(g.current),Bv(g,g.current,R,o),mt=k,kl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ke,g)}catch{}return!0}finally{O.p=f,I.T=u,s_(n,r)}}function o_(n,r,o){r=fi(o,r),r=Rd(n.stateNode,r,2),n=Xr(n,r,2),n!==null&&(zt(n,2),Qi(n))}function Tt(n,r,o){if(n.tag===3)o_(n,n,o);else for(;r!==null;){if(r.tag===3){o_(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ss===null||!ss.has(u))){n=fi(o,n),o=hv(2),u=Xr(r,o,2),u!==null&&(fv(o,u,r,n),zt(u,2),Qi(u));break}}r=r.return}}function Zd(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new Yw;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(qd=!0,f.add(o),n=eA.bind(null,n,r,o),r.then(n,n))}function eA(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,wt===n&&(Je&o)===o&&(Ut===4||Ut===3&&(Je&62914560)===Je&&300>Ue()-Gd?(mt&2)===0&&fo(n,0):Fd|=o,uo===Je&&(uo=0)),Qi(n)}function l_(n,r){r===0&&(r=at()),n=Qa(n,r),n!==null&&(zt(n,r),Qi(n))}function tA(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),l_(n,o)}function nA(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),l_(n,o)}function iA(n,r){return Jt(n,r)}var Lc=null,po=null,Jd=!1,jc=!1,em=!1,da=0;function Qi(n){n!==po&&n.next===null&&(po===null?Lc=po=n:po=po.next=n),jc=!0,Jd||(Jd=!0,sA())}function kl(n,r){if(!em&&jc){em=!0;do for(var o=!1,u=Lc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var R=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-bt(42|n)+1)-1,g&=f&~(R&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,f_(u,g))}else g=Je,g=ht(u,u===wt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Pe(u,g)||(o=!0,f_(u,g));u=u.next}while(o);em=!1}}function rA(){u_()}function u_(){jc=Jd=!1;var n=0;da!==0&&(dA()&&(n=da),da=0);for(var r=Ue(),o=null,u=Lc;u!==null;){var f=u.next,g=c_(u,r);g===0?(u.next=null,o===null?Lc=f:o.next=f,f===null&&(po=o)):(o=u,(n!==0||(g&3)!==0)&&(jc=!0)),u=f}kl(n)}function c_(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var R=31-bt(g),k=1<<R,H=f[R];H===-1?((k&o)===0||(k&u)!==0)&&(f[R]=Fe(k,r)):H<=r&&(n.expiredLanes|=k),g&=~k}if(r=wt,o=Je,o=ht(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(pt===2||pt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Bt(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Pe(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&Bt(u),Fn(o)){case 2:case 8:o=St;break;case 32:o=Xe;break;case 268435456:o=ct;break;default:o=Xe}return u=h_.bind(null,n),o=Jt(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&Bt(u),n.callbackPriority=2,n.callbackNode=null,2}function h_(n,r){if(bn!==0&&bn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Uc()&&n.callbackNode!==o)return null;var u=Je;return u=ht(n,n===wt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Kv(n,u,r),c_(n,Ue()),n.callbackNode!=null&&n.callbackNode===o?h_.bind(null,n):null)}function f_(n,r){if(Uc())return null;Kv(n,r,!0)}function sA(){pA(function(){(mt&6)!==0?Jt(Et,rA):u_()})}function tm(){return da===0&&(da=st()),da}function d_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function m_(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function aA(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=d_((f[Kt]||null).action),R=u.submitter;R&&(r=(r=R[Kt]||null)?d_(r.formAction):R.getAttribute("formAction"),r!==null&&(g=r,R=null));var k=new Ua("action","action",null,u,f);n.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(da!==0){var H=R?m_(f,R):new FormData(f);Td(o,{pending:!0,data:H,method:f.method,action:g},null,H)}}else typeof g=="function"&&(k.preventDefault(),H=R?m_(f,R):new FormData(f),Td(o,{pending:!0,data:H,method:f.method,action:g},g,H))},currentTarget:f}]})}}for(var nm=0;nm<Bf.length;nm++){var im=Bf[nm],oA=im.toLowerCase(),lA=im[0].toUpperCase()+im.slice(1);Ri(oA,"on"+lA)}Ri(Kg,"onAnimationEnd"),Ri(Qg,"onAnimationIteration"),Ri(Yg,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Sw,"onTransitionRun"),Ri(Rw,"onTransitionStart"),Ri(Cw,"onTransitionCancel"),Ri(Xg,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function p_(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var R=u.length-1;0<=R;R--){var k=u[R],H=k.instance,oe=k.currentTarget;if(k=k.listener,H!==g&&f.isPropagationStopped())break e;g=k,f.currentTarget=oe;try{g(f)}catch(fe){Rc(fe)}f.currentTarget=null,g=H}else for(R=0;R<u.length;R++){if(k=u[R],H=k.instance,oe=k.currentTarget,k=k.listener,H!==g&&f.isPropagationStopped())break e;g=k,f.currentTarget=oe;try{g(f)}catch(fe){Rc(fe)}f.currentTarget=null,g=H}}}}function $e(n,r){var o=r[$o];o===void 0&&(o=r[$o]=new Set);var u=n+"__bubble";o.has(u)||(g_(r,n,2,!1),o.add(u))}function rm(n,r,o){var u=0;r&&(u|=4),g_(o,n,u,r)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function sm(n){if(!n[Bc]){n[Bc]=!0,Ko.forEach(function(o){o!=="selectionchange"&&(uA.has(o)||rm(o,!1,n),rm(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Bc]||(r[Bc]=!0,rm("selectionchange",!1,r))}}function g_(n,r,o,u){switch(B_(r)){case 2:var f=VA;break;case 8:f=UA;break;default:f=_m}o=f.bind(null,r,o,n),f=void 0,!ci||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function am(n,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var R=u.tag;if(R===3||R===4){var k=u.stateNode.containerInfo;if(k===f)break;if(R===4)for(R=u.return;R!==null;){var H=R.tag;if((H===3||H===4)&&R.stateNode.containerInfo===f)return;R=R.return}for(;k!==null;){if(R=or(k),R===null)return;if(H=R.tag,H===5||H===6||H===26||H===27){u=g=R;continue e}k=k.parentNode}}u=u.return}qu(function(){var oe=g,fe=ui(o),me=[];e:{var le=Wg.get(n);if(le!==void 0){var ue=Ua,Ne=n;switch(n){case"keypress":if(ji(o)===0)break e;case"keydown":case"keyup":ue=Fa;break;case"focusin":Ne="focus",ue=Ba;break;case"focusout":Ne="blur",ue=Ba;break;case"beforeblur":case"afterblur":ue=Ba;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Xu;break;case Kg:case Qg:case Yg:ue=za;break;case Xg:ue=Zu;break;case"scroll":case"scrollend":ue=Fu;break;case"wheel":ue=Ha;break;case"copy":case"cut":case"paste":ue=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=sl;break;case"toggle":case"beforetoggle":ue=ec}var Re=(r&4)!==0,_t=!Re&&(n==="scroll"||n==="scrollend"),Z=Re?le!==null?le+"Capture":null:le;Re=[];for(var Q=oe,se;Q!==null;){var de=Q;if(se=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||se===null||Z===null||(de=$s(Q,Z),de!=null&&Re.push(Vl(Q,de,se))),_t)break;Q=Q.return}0<Re.length&&(le=new ue(le,Ne,null,o,fe),me.push({event:le,listeners:Re}))}}if((r&7)===0){e:{if(le=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",le&&o!==hr&&(Ne=o.relatedTarget||o.fromElement)&&(or(Ne)||Ne[oi]))break e;if((ue||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(Ne=o.relatedTarget||o.toElement,ue=oe,Ne=Ne?or(Ne):null,Ne!==null&&(_t=l(Ne),Re=Ne.tag,Ne!==_t||Re!==5&&Re!==27&&Re!==6)&&(Ne=null)):(ue=null,Ne=oe),ue!==Ne)){if(Re=hi,de="onMouseLeave",Z="onMouseEnter",Q="mouse",(n==="pointerout"||n==="pointerover")&&(Re=sl,de="onPointerLeave",Z="onPointerEnter",Q="pointer"),_t=ue==null?le:Pi(ue),se=Ne==null?le:Pi(Ne),le=new Re(de,Q+"leave",ue,o,fe),le.target=_t,le.relatedTarget=se,de=null,or(fe)===oe&&(Re=new Re(Z,Q+"enter",Ne,o,fe),Re.target=se,Re.relatedTarget=_t,de=Re),_t=de,ue&&Ne)t:{for(Re=ue,Z=Ne,Q=0,se=Re;se;se=go(se))Q++;for(se=0,de=Z;de;de=go(de))se++;for(;0<Q-se;)Re=go(Re),Q--;for(;0<se-Q;)Z=go(Z),se--;for(;Q--;){if(Re===Z||Z!==null&&Re===Z.alternate)break t;Re=go(Re),Z=go(Z)}Re=null}else Re=null;ue!==null&&y_(me,le,ue,Re,!1),Ne!==null&&_t!==null&&y_(me,_t,Ne,Re,!0)}}e:{if(le=oe?Pi(oe):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Te=Vg;else if(sn(le))if(Ug)Te=bw;else{Te=Ew;var He=_w}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&Zo(oe.elementType)&&(Te=Vg):Te=Tw;if(Te&&(Te=Te(n,oe))){gr(me,Te,o,fe);break e}He&&He(n,le,oe),n==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&Gr(le,"number",le.value)}switch(He=oe?Pi(oe):window,n){case"focusin":(sn(He)||He.contentEditable==="true")&&(Ga=He,Uf=oe,ll=null);break;case"focusout":ll=Uf=Ga=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Gg(me,o,fe);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":Gg(me,o,fe)}var we;if(qi)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else We?ce(n,o)&&(Ce="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(S&&o.locale!=="ko"&&(We||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&We&&(we=el()):(Li=fe,$r="value"in Li?Li.value:Li.textContent,We=!0)),He=zc(oe,Ce),0<He.length&&(Ce=new il(Ce,n,null,o,fe),me.push({event:Ce,listeners:He}),we?Ce.data=we:(we=ve(o),we!==null&&(Ce.data=we)))),(we=E?rn(n,o):Ze(n,o))&&(Ce=zc(oe,"onBeforeInput"),0<Ce.length&&(He=new il("onBeforeInput","beforeinput",null,o,fe),me.push({event:He,listeners:Ce}),He.data=we)),aA(me,n,oe,o,fe)}p_(me,r)})}function Vl(n,r,o){return{instance:n,listener:r,currentTarget:o}}function zc(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=$s(n,o),f!=null&&u.unshift(Vl(n,f,g)),f=$s(n,r),f!=null&&u.push(Vl(n,f,g))),n.tag===3)return u;n=n.return}return[]}function go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function y_(n,r,o,u,f){for(var g=r._reactName,R=[];o!==null&&o!==u;){var k=o,H=k.alternate,oe=k.stateNode;if(k=k.tag,H!==null&&H===u)break;k!==5&&k!==26&&k!==27||oe===null||(H=oe,f?(oe=$s(o,g),oe!=null&&R.unshift(Vl(o,oe,H))):f||(oe=$s(o,g),oe!=null&&R.push(Vl(o,oe,H)))),o=o.return}R.length!==0&&n.push({event:r,listeners:R})}var cA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function v_(n){return(typeof n=="string"?n:""+n).replace(cA,`
`).replace(hA,"")}function __(n,r){return r=v_(r),v_(n)===r}function qc(){}function vt(n,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||li(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&li(n,""+u);break;case"className":Vi(n,"class",u);break;case"tabIndex":Vi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(n,o,u);break;case"style":Wo(n,u,g);break;case"data":if(r!=="object"){Vi(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Va(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&vt(n,r,"name",f.name,f,null),vt(n,r,"formEncType",f.formEncType,f,null),vt(n,r,"formMethod",f.formMethod,f,null),vt(n,r,"formTarget",f.formTarget,f,null)):(vt(n,r,"encType",f.encType,f,null),vt(n,r,"method",f.method,f,null),vt(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Va(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=qc);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Va(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Hr(n,"popover",u);break;case"xlinkActuate":_n(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_n(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_n(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_n(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_n(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_n(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_n(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nf.get(o)||o,Hr(n,o,u))}}function om(n,r,o,u,f,g){switch(o){case"style":Wo(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?li(n,u):(typeof u=="number"||typeof u=="bigint")&&li(n,""+u);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"onClick":u!=null&&(n.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=n[Kt]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Hr(n,o,u)}}}function wn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var R=o[g];if(R!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(n,r,g,R,o,null)}}f&&vt(n,r,"srcSet",o.srcSet,o,null),u&&vt(n,r,"src",o.src,o,null);return;case"input":$e("invalid",n);var k=g=R=f=null,H=null,oe=null;for(u in o)if(o.hasOwnProperty(u)){var fe=o[u];if(fe!=null)switch(u){case"name":f=fe;break;case"type":R=fe;break;case"checked":H=fe;break;case"defaultChecked":oe=fe;break;case"value":g=fe;break;case"defaultValue":k=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,r));break;default:vt(n,r,u,fe,o,null)}}Fs(n,g,k,H,oe,R,f,!1),Pa(n);return;case"select":$e("invalid",n),u=R=g=null;for(f in o)if(o.hasOwnProperty(f)&&(k=o[f],k!=null))switch(f){case"value":g=k;break;case"defaultValue":R=k;break;case"multiple":u=k;default:vt(n,r,f,k,o,null)}r=g,o=R,n.multiple=!!u,r!=null?cr(n,!!u,r,!1):o!=null&&cr(n,!!u,o,!0);return;case"textarea":$e("invalid",n),g=f=u=null;for(R in o)if(o.hasOwnProperty(R)&&(k=o[R],k!=null))switch(R){case"value":u=k;break;case"defaultValue":f=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:vt(n,r,R,k,o,null)}Hs(n,u,f,g),Pa(n);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:vt(n,r,H,u,o,null)}return;case"dialog":$e("beforetoggle",n),$e("toggle",n),$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(u=0;u<Pl.length;u++)$e(Pl[u],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in o)if(o.hasOwnProperty(oe)&&(u=o[oe],u!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(n,r,oe,u,o,null)}return;default:if(Zo(r)){for(fe in o)o.hasOwnProperty(fe)&&(u=o[fe],u!==void 0&&om(n,r,fe,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&vt(n,r,k,u,o,null))}function fA(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,R=null,k=null,H=null,oe=null,fe=null;for(ue in o){var me=o[ue];if(o.hasOwnProperty(ue)&&me!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":H=me;default:u.hasOwnProperty(ue)||vt(n,r,ue,null,u,me)}}for(var le in u){var ue=u[le];if(me=o[le],u.hasOwnProperty(le)&&(ue!=null||me!=null))switch(le){case"type":g=ue;break;case"name":f=ue;break;case"checked":oe=ue;break;case"defaultChecked":fe=ue;break;case"value":R=ue;break;case"defaultValue":k=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:ue!==me&&vt(n,r,le,ue,u,me)}}Xn(n,R,k,H,oe,fe,g,f);return;case"select":ue=R=k=le=null;for(g in o)if(H=o[g],o.hasOwnProperty(g)&&H!=null)switch(g){case"value":break;case"multiple":ue=H;default:u.hasOwnProperty(g)||vt(n,r,g,null,u,H)}for(f in u)if(g=u[f],H=o[f],u.hasOwnProperty(f)&&(g!=null||H!=null))switch(f){case"value":le=g;break;case"defaultValue":k=g;break;case"multiple":R=g;default:g!==H&&vt(n,r,f,g,u,H)}r=k,o=R,u=ue,le!=null?cr(n,!!o,le,!1):!!u!=!!o&&(r!=null?cr(n,!!o,r,!0):cr(n,!!o,o?[]:"",!1));return;case"textarea":ue=le=null;for(k in o)if(f=o[k],o.hasOwnProperty(k)&&f!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:vt(n,r,k,null,u,f)}for(R in u)if(f=u[R],g=o[R],u.hasOwnProperty(R)&&(f!=null||g!=null))switch(R){case"value":le=f;break;case"defaultValue":ue=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&vt(n,r,R,f,u,g)}gt(n,le,ue);return;case"option":for(var Ne in o)if(le=o[Ne],o.hasOwnProperty(Ne)&&le!=null&&!u.hasOwnProperty(Ne))switch(Ne){case"selected":n.selected=!1;break;default:vt(n,r,Ne,null,u,le)}for(H in u)if(le=u[H],ue=o[H],u.hasOwnProperty(H)&&le!==ue&&(le!=null||ue!=null))switch(H){case"selected":n.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:vt(n,r,H,le,u,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)le=o[Re],o.hasOwnProperty(Re)&&le!=null&&!u.hasOwnProperty(Re)&&vt(n,r,Re,null,u,le);for(oe in u)if(le=u[oe],ue=o[oe],u.hasOwnProperty(oe)&&le!==ue&&(le!=null||ue!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:vt(n,r,oe,le,u,ue)}return;default:if(Zo(r)){for(var _t in o)le=o[_t],o.hasOwnProperty(_t)&&le!==void 0&&!u.hasOwnProperty(_t)&&om(n,r,_t,void 0,u,le);for(fe in u)le=u[fe],ue=o[fe],!u.hasOwnProperty(fe)||le===ue||le===void 0&&ue===void 0||om(n,r,fe,le,u,ue);return}}for(var Z in o)le=o[Z],o.hasOwnProperty(Z)&&le!=null&&!u.hasOwnProperty(Z)&&vt(n,r,Z,null,u,le);for(me in u)le=u[me],ue=o[me],!u.hasOwnProperty(me)||le===ue||le==null&&ue==null||vt(n,r,me,le,u,ue)}var lm=null,um=null;function Fc(n){return n.nodeType===9?n:n.ownerDocument}function E_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function cm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hm=null;function dA(){var n=window.event;return n&&n.type==="popstate"?n===hm?!1:(hm=n,!0):(hm=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(n){return w_.resolve(null).then(n).catch(gA)}:b_;function gA(n){setTimeout(function(){throw n})}function ls(n){return n==="head"}function A_(n,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var R=n.ownerDocument;if(o&1&&Ul(R.documentElement),o&2&&Ul(R.body),o&4)for(o=R.head,Ul(o),R=o.firstChild;R;){var k=R.nextSibling,H=R.nodeName;R[js]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&R.rel.toLowerCase()==="stylesheet"||o.removeChild(R),R=k}}if(f===0){n.removeChild(g),Gl(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Gl(r)}function fm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fm(o),Fr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function yA(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[js])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Ii(n.nextSibling),n===null)break}return null}function vA(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Ii(n.nextSibling),n===null))return null;return n}function dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function _A(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Ii(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var mm=null;function S_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function R_(n,r,o){switch(r=Fc(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ul(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Fr(n)}var vi=new Map,C_=new Set;function Hc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var xr=O.d;O.d={f:EA,r:TA,D:bA,C:wA,L:AA,m:SA,X:CA,S:RA,M:IA};function EA(){var n=xr.f(),r=Pc();return n||r}function TA(n){var r=ki(n);r!==null&&r.tag===5&&r.type==="form"?Ky(r):xr.r(n)}var yo=typeof document>"u"?null:document;function I_(n,r,o){var u=yo;if(u&&typeof r=="string"&&r){var f=Qt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),C_.has(f)||(C_.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),wn(r,"link",n),qt(r),u.head.appendChild(r)))}}function bA(n){xr.D(n),I_("dns-prefetch",n,null)}function wA(n,r){xr.C(n,r),I_("preconnect",n,r)}function AA(n,r,o){xr.L(n,r,o);var u=yo;if(u&&n&&r){var f='link[rel="preload"][as="'+Qt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Qt(o.imageSizes)+'"]')):f+='[href="'+Qt(n)+'"]';var g=f;switch(r){case"style":g=vo(n);break;case"script":g=_o(n)}vi.has(g)||(n=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),vi.set(g,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Ll(g))||r==="script"&&u.querySelector(jl(g))||(r=u.createElement("link"),wn(r,"link",n),qt(r),u.head.appendChild(r)))}}function SA(n,r){xr.m(n,r);var o=yo;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Qt(u)+'"][href="'+Qt(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=_o(n)}if(!vi.has(g)&&(n=y({rel:"modulepreload",href:n},r),vi.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(jl(g)))return}u=o.createElement("link"),wn(u,"link",n),qt(u),o.head.appendChild(u)}}}function RA(n,r,o){xr.S(n,r,o);var u=yo;if(u&&n){var f=Un(u).hoistableStyles,g=vo(n);r=r||"default";var R=f.get(g);if(!R){var k={loading:0,preload:null};if(R=u.querySelector(Ll(g)))k.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},o),(o=vi.get(g))&&pm(n,o);var H=R=u.createElement("link");qt(H),wn(H,"link",n),H._p=new Promise(function(oe,fe){H.onload=oe,H.onerror=fe}),H.addEventListener("load",function(){k.loading|=1}),H.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Gc(R,r,u)}R={type:"stylesheet",instance:R,count:1,state:k},f.set(g,R)}}}function CA(n,r){xr.X(n,r);var o=yo;if(o&&n){var u=Un(o).hoistableScripts,f=_o(n),g=u.get(f);g||(g=o.querySelector(jl(f)),g||(n=y({src:n,async:!0},r),(r=vi.get(f))&&gm(n,r),g=o.createElement("script"),qt(g),wn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function IA(n,r){xr.M(n,r);var o=yo;if(o&&n){var u=Un(o).hoistableScripts,f=_o(n),g=u.get(f);g||(g=o.querySelector(jl(f)),g||(n=y({src:n,async:!0,type:"module"},r),(r=vi.get(f))&&gm(n,r),g=o.createElement("script"),qt(g),wn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function x_(n,r,o,u){var f=(f=ye.current)?Hc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=vo(o.href),o=Un(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=vo(o.href);var g=Un(f).hoistableStyles,R=g.get(n);if(R||(f=f.ownerDocument||f,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,R),(g=f.querySelector(Ll(n)))&&!g._p&&(R.instance=g,R.state.loading=5),vi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vi.set(n,o),g||xA(f,n,o,R.state))),r&&u===null)throw Error(s(528,""));return R}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_o(o),o=Un(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function vo(n){return'href="'+Qt(n)+'"'}function Ll(n){return'link[rel="stylesheet"]['+n+"]"}function N_(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function xA(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),wn(r,"link",o),qt(r),n.head.appendChild(r))}function _o(n){return'[src="'+Qt(n)+'"]'}function jl(n){return"script[async]"+n}function D_(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Qt(o.href)+'"]');if(u)return r.instance=u,qt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),qt(u),wn(u,"style",f),Gc(u,o.precedence,n),r.instance=u;case"stylesheet":f=vo(o.href);var g=n.querySelector(Ll(f));if(g)return r.state.loading|=4,r.instance=g,qt(g),g;u=N_(o),(f=vi.get(f))&&pm(u,f),g=(n.ownerDocument||n).createElement("link"),qt(g);var R=g;return R._p=new Promise(function(k,H){R.onload=k,R.onerror=H}),wn(g,"link",u),r.state.loading|=4,Gc(g,o.precedence,n),r.instance=g;case"script":return g=_o(o.src),(f=n.querySelector(jl(g)))?(r.instance=f,qt(f),f):(u=o,(f=vi.get(g))&&(u=y({},o),gm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),qt(f),wn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Gc(u,o.precedence,n));return r.instance}function Gc(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,R=0;R<u.length;R++){var k=u[R];if(k.dataset.precedence===r)g=k;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function pm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function gm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var $c=null;function O_(n,r,o){if($c===null){var u=new Map,f=$c=new Map;f.set(o,u)}else f=$c,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[js]||g[nn]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var R=g.getAttribute(r)||"";R=n+R;var k=u.get(R);k?k.push(g):u.set(R,[g])}}return u}function M_(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function NA(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function k_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Bl=null;function DA(){}function OA(n,r,o){if(Bl===null)throw Error(s(475));var u=Bl;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=vo(o.href),g=n.querySelector(Ll(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Kc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=g,qt(g);return}g=n.ownerDocument||n,o=N_(o),(f=vi.get(f))&&pm(o,f),g=g.createElement("link"),qt(g);var R=g;R._p=new Promise(function(k,H){R.onload=k,R.onerror=H}),wn(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Kc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function MA(){if(Bl===null)throw Error(s(475));var n=Bl;return n.stylesheets&&n.count===0&&ym(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&ym(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qc=null;function ym(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qc=new Map,r.forEach(kA,n),Qc=null,Kc.call(n))}function kA(n,r){if(!(r.state.loading&4)){var o=Qc.get(n);if(o)var u=o.get(null);else{o=new Map,Qc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var R=f[g];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(o.set(R.dataset.precedence,R),u=R)}u&&o.set(null,u)}f=r.instance,R=f.getAttribute("data-precedence"),g=o.get(R)||u,g===u&&o.set(null,f),o.set(R,f),this.count++,u=Kc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var zl={$$typeof:F,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function PA(n,r,o,u,f,g,R,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.hiddenUpdates=yn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function P_(n,r,o,u,f,g,R,k,H,oe,fe,me){return n=new PA(n,r,o,R,k,H,oe,me),r=1,g===!0&&(r|=24),g=Zn(3,null,null,r),n.current=g,g.stateNode=n,r=Zf(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},nd(g),n}function V_(n){return n?(n=Ya,n):Ya}function U_(n,r,o,u,f,g){f=V_(f),u.context===null?u.context=f:u.pendingContext=f,u=Yr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Xr(n,u,r),o!==null&&(ii(o,n,r),yl(o,n,r))}function L_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function vm(n,r){L_(n,r),(n=n.alternate)&&L_(n,r)}function j_(n){if(n.tag===13){var r=Qa(n,67108864);r!==null&&ii(r,n,67108864),vm(n,67108864)}}var Yc=!0;function VA(n,r,o,u){var f=I.T;I.T=null;var g=O.p;try{O.p=2,_m(n,r,o,u)}finally{O.p=g,I.T=f}}function UA(n,r,o,u){var f=I.T;I.T=null;var g=O.p;try{O.p=8,_m(n,r,o,u)}finally{O.p=g,I.T=f}}function _m(n,r,o,u){if(Yc){var f=Em(u);if(f===null)am(n,r,u,Xc,o),z_(n,u);else if(jA(f,n,r,o,u))u.stopPropagation();else if(z_(n,u),r&4&&-1<LA.indexOf(n)){for(;f!==null;){var g=ki(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var R=ke(g.pendingLanes);if(R!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;R;){var H=1<<31-bt(R);k.entanglements[1]|=H,R&=~H}Qi(g),(mt&6)===0&&(Mc=Ue()+500,kl(0))}}break;case 13:k=Qa(g,2),k!==null&&ii(k,g,2),Pc(),vm(g,2)}if(g=Em(u),g===null&&am(n,r,u,Xc,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else am(n,r,u,null,o)}}function Em(n){return n=ui(n),Tm(n)}var Xc=null;function Tm(n){if(Xc=null,n=or(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Xc=n,null}function B_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Et:return 2;case St:return 8;case Xe:case en:return 32;case ct:return 268435456;default:return 32}default:return 32}}var bm=!1,us=null,cs=null,hs=null,ql=new Map,Fl=new Map,fs=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(n,r){switch(n){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Hl(n,r,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ki(r),r!==null&&j_(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function jA(n,r,o,u,f){switch(r){case"focusin":return us=Hl(us,n,r,o,u,f),!0;case"dragenter":return cs=Hl(cs,n,r,o,u,f),!0;case"mouseover":return hs=Hl(hs,n,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return ql.set(g,Hl(ql.get(g)||null,n,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Fl.set(g,Hl(Fl.get(g)||null,n,r,o,u,f)),!0}return!1}function q_(n){var r=or(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,Pu(n.priority,function(){if(o.tag===13){var u=ni();u=wi(u);var f=Qa(o,u);f!==null&&ii(f,o,u),vm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Em(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);hr=u,o.target.dispatchEvent(u),hr=null}else return r=ki(o),r!==null&&j_(r),n.blockedOn=o,!1;r.shift()}return!0}function F_(n,r,o){Wc(n)&&o.delete(r)}function BA(){bm=!1,us!==null&&Wc(us)&&(us=null),cs!==null&&Wc(cs)&&(cs=null),hs!==null&&Wc(hs)&&(hs=null),ql.forEach(F_),Fl.forEach(F_)}function Zc(n,r){n.blockedOn===r&&(n.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BA)))}var Jc=null;function H_(n){Jc!==n&&(Jc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===n&&(Jc=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Tm(u||o)===null)continue;break}var g=ki(o);g!==null&&(n.splice(r,3),r-=3,Td(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Gl(n){function r(H){return Zc(H,n)}us!==null&&Zc(us,n),cs!==null&&Zc(cs,n),hs!==null&&Zc(hs,n),ql.forEach(r),Fl.forEach(r);for(var o=0;o<fs.length;o++){var u=fs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<fs.length&&(o=fs[0],o.blockedOn===null);)q_(o),o.blockedOn===null&&fs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],R=f[Kt]||null;if(typeof g=="function")R||H_(o);else if(R){var k=null;if(g&&g.hasAttribute("formAction")){if(f=g,R=g[Kt]||null)k=R.formAction;else if(Tm(f)!==null)continue}else k=R.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),H_(o)}}}function wm(n){this._internalRoot=n}eh.prototype.render=wm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=ni();U_(o,u,n,r,null,null)},eh.prototype.unmount=wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;U_(n.current,2,null,n,null,null),Pc(),r[oi]=null}};function eh(n){this._internalRoot=n}eh.prototype.unstable_scheduleHydration=function(n){if(n){var r=In();n={blockedOn:null,target:n,priority:r};for(var o=0;o<fs.length&&r!==0&&r<fs[o].priority;o++);fs.splice(o,0,n),o===0&&q_(n)}};var G_=e.version;if(G_!=="19.1.0")throw Error(s(527,G_,"19.1.0"));O.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var zA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Ke=th.inject(zA),qe=th}catch{}}return Kl.createRoot=function(n,r){if(!a(n))throw Error(s(299));var o=!1,u="",f=ov,g=lv,R=uv,k=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(k=r.unstable_transitionCallbacks)),r=P_(n,1,!1,null,null,o,u,f,g,R,k,null),n[oi]=r.current,sm(n),new wm(r)},Kl.hydrateRoot=function(n,r,o){if(!a(n))throw Error(s(299));var u=!1,f="",g=ov,R=lv,k=uv,H=null,oe=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(R=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(oe=o.formState)),r=P_(n,1,!0,r,o??null,u,f,g,R,k,H,oe),r.context=V_(null),o=r.current,u=ni(),u=wi(u),f=Yr(u),f.callback=null,Xr(o,f,u),o=u,r.current.lanes=o,zt(r,o),Qi(r),n[oi]=r.current,sm(n),new eh(r)},Kl.version="19.1.0",Kl}var t0;function ZA(){if(t0)return Rm.exports;t0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=WA(),Rm.exports}var JA=ZA();const eS=Y1(JA);var Ql={},n0;function tS(){if(n0)return Ql;n0=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parse=c,Ql.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,A){const C=new l,V=v.length;if(V<2)return C;const B=(A==null?void 0:A.decode)||y;let j=0;do{const G=v.indexOf("=",j);if(G===-1)break;const F=v.indexOf(";",j),q=F===-1?V:F;if(G>q){j=v.lastIndexOf(";",G-1)+1;continue}const $=d(v,j,G),z=m(v,G,$),P=v.slice($,z);if(C[P]===void 0){let b=d(v,G+1,q),w=m(v,q,b);const x=B(v.slice(b,w));C[P]=x}j=q+1}while(j<V);return C}function d(v,A,C){do{const V=v.charCodeAt(A);if(V!==32&&V!==9)return A}while(++A<C);return C}function m(v,A,C){for(;A>C;){const V=v.charCodeAt(--A);if(V!==32&&V!==9)return A+1}return C}function p(v,A,C){const V=(C==null?void 0:C.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const B=V(A);if(!e.test(B))throw new TypeError(`argument val is invalid: ${A}`);let j=v+"="+B;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return a.call(v)==="[object Date]"}return Ql}tS();var i0="popstate";function nS(i={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=Ra(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Km("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof l=="string"?l:hu(l))}function s(a,l){Ti(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return rS(e,t,s,i)}function xt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ti(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iS(){return Math.random().toString(36).substring(2,10)}function r0(i,e){return{usr:i.state,key:i.key,idx:e}}function Km(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:t,key:e&&e.key||s||iS()}}function hu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ra(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function rS(i,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let B=y(),j=B==null?null:B-p;p=B,m&&m({action:d,location:V.location,delta:j})}function v(B,j){d="PUSH";let G=Km(V.location,B,j);t&&t(G,B),p=y()+1;let F=r0(G,p),q=V.createHref(G);try{c.pushState(F,"",q)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(q)}l&&m&&m({action:d,location:V.location,delta:1})}function A(B,j){d="REPLACE";let G=Km(V.location,B,j);t&&t(G,B),p=y();let F=r0(G,p),q=V.createHref(G);c.replaceState(F,"",q),l&&m&&m({action:d,location:V.location,delta:0})}function C(B){return sS(B)}let V={get action(){return d},get location(){return i(a,c)},listen(B){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(i0,_),m=B,()=>{a.removeEventListener(i0,_),m=null}},createHref(B){return e(a,B)},createURL:C,encodeLocation(B){let j=C(B);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:A,go(B){return c.go(B)}};return V}function sS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:hu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function X1(i,e,t="/"){return aS(i,e,t,!1)}function aS(i,e,t,s){let a=typeof e=="string"?Ra(e):e,l=Pr(a.pathname||"/",t);if(l==null)return null;let c=W1(i);oS(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=vS(l);d=gS(c[m],p,s)}return d}function W1(i,e=[],t=[],s=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(xt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Mr([s,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(xt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),W1(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:mS(p,l.index),routesMeta:y})};return i.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of Z1(l.path))a(l,c,m)}),e}function Z1(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Z1(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function oS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:pS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var lS=/^:[\w-]+$/,uS=3,cS=2,hS=1,fS=10,dS=-2,s0=i=>i==="*";function mS(i,e){let t=i.split("/"),s=t.length;return t.some(s0)&&(s+=dS),e&&(s+=cS),t.filter(a=>!s0(a)).reduce((a,l)=>a+(lS.test(l)?uS:l===""?hS:fS),s)}function pS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function gS(i,e,t=!1){let{routesMeta:s}=i,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),v=m.route;if(!_&&p&&t&&!s[s.length-1].route.index&&(_=Sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Mr([l,_.pathname]),pathnameBase:bS(Mr([l,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(l=Mr([l,_.pathnameBase]))}return c}function Sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=yS(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},v)=>{if(y==="*"){let C=d[v]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=d[v];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:i}}function yS(i,e=!1,t=!0){Ti(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function vS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function _S(i,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof i=="string"?Ra(i):i;return{pathname:t?t.startsWith("/")?t:ES(t,e):e,search:wS(s),hash:AS(a)}}function ES(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Nm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TS(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rp(i){let e=TS(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Cp(i,e,t,s=!1){let a;typeof i=="string"?a=Ra(i):(a={...i},xt(!a.pathname||!a.pathname.includes("?"),Nm("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Nm("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Nm("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),_-=1;a.pathname=v.join("/")}d=_>=0?e[_]:"/"}let m=_S(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Mr=i=>i.join("/").replace(/\/\/+/g,"/"),bS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),wS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,AS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function SS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var J1=["POST","PUT","PATCH","DELETE"];new Set(J1);var RS=["GET",...J1];new Set(RS);var Lo=X.createContext(null);Lo.displayName="DataRouter";var Wh=X.createContext(null);Wh.displayName="DataRouterState";var eE=X.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var CS=X.createContext(new Map);CS.displayName="Fetchers";var IS=X.createContext(null);IS.displayName="Await";var Mi=X.createContext(null);Mi.displayName="Navigation";var Tu=X.createContext(null);Tu.displayName="Location";var rr=X.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Ip=X.createContext(null);Ip.displayName="RouteError";function xS(i,{relative:e}={}){xt(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=X.useContext(Mi),{hash:a,pathname:l,search:c}=bu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Mr([t,l])),s.createHref({pathname:d,search:c,hash:a})}function jo(){return X.useContext(Tu)!=null}function Ps(){return xt(jo(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Tu).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(i){X.useContext(Mi).static||X.useLayoutEffect(i)}function Br(){let{isDataRoute:i}=X.useContext(rr);return i?qS():NS()}function NS(){xt(jo(),"useNavigate() may be used only in the context of a <Router> component.");let i=X.useContext(Lo),{basename:e,navigator:t}=X.useContext(Mi),{matches:s}=X.useContext(rr),{pathname:a}=Ps(),l=JSON.stringify(Rp(s)),c=X.useRef(!1);return nE(()=>{c.current=!0}),X.useCallback((m,p={})=>{if(Ti(c.current,tE),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=Cp(m,JSON.parse(l),a,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Mr([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,i])}X.createContext(null);function bu(i,{relative:e}={}){let{matches:t}=X.useContext(rr),{pathname:s}=Ps(),a=JSON.stringify(Rp(t));return X.useMemo(()=>Cp(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function DS(i,e){return iE(i,e)}function iE(i,e,t,s){var j;xt(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=X.useContext(Mi),{matches:l}=X.useContext(rr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let G=y&&y.path||"";rE(m,!y||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let _=Ps(),v;if(e){let G=typeof e=="string"?Ra(e):e;xt(p==="/"||((j=G.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${G.pathname}" was given in the \`location\` prop.`),v=G}else v=_;let A=v.pathname||"/",C=A;if(p!=="/"){let G=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(G.length).join("/")}let V=X1(i,{pathname:C});Ti(y||V!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ti(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=VS(V&&V.map(G=>Object.assign({},G,{params:Object.assign({},d,G.params),pathname:Mr([p,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:Mr([p,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,t,s);return e&&B?X.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},B):B}function OS(){let i=zS(),e=SS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:l},"ErrorBoundary")," or"," ",X.createElement("code",{style:l},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:a},t):null,c)}var MS=X.createElement(OS,null),kS=class extends X.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?X.createElement(rr.Provider,{value:this.props.routeContext},X.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PS({routeContext:i,match:e,children:t}){let s=X.useContext(Lo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(rr.Provider,{value:i},t)}function VS(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);xt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:_}=t,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,v=!1,A=null,C=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||MS,c&&(d<0&&y===0?(rE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):d===y&&(v=!0,C=p.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,y+1)),B=()=>{let j;return _?j=A:v?j=C:p.route.Component?j=X.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,X.createElement(PS,{match:p,routeContext:{outlet:m,matches:V,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?X.createElement(kS,{location:t.location,revalidation:t.revalidation,component:A,error:_,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):B()},null)}function xp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(i){let e=X.useContext(Lo);return xt(e,xp(i)),e}function LS(i){let e=X.useContext(Wh);return xt(e,xp(i)),e}function jS(i){let e=X.useContext(rr);return xt(e,xp(i)),e}function Np(i){let e=jS(i),t=e.matches[e.matches.length-1];return xt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function BS(){return Np("useRouteId")}function zS(){var s;let i=X.useContext(Ip),e=LS("useRouteError"),t=Np("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function qS(){let{router:i}=US("useNavigate"),e=Np("useNavigate"),t=X.useRef(!1);return nE(()=>{t.current=!0}),X.useCallback(async(a,l={})=>{Ti(t.current,tE),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var a0={};function rE(i,e,t){!e&&!a0[i]&&(a0[i]=!0,Ti(!1,t))}X.memo(FS);function FS({routes:i,future:e,state:t}){return iE(i,void 0,t,e)}function HS({to:i,replace:e,state:t,relative:s}){xt(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=X.useContext(Mi);Ti(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=X.useContext(rr),{pathname:c}=Ps(),d=Br(),m=Cp(i,Rp(l),c,s==="path"),p=JSON.stringify(m);return X.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:s})},[d,p,s,e,t]),null}function ps(i){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){xt(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Ra(t));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:v="default"}=t,A=X.useMemo(()=>{let C=Pr(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:v},navigationType:s}},[c,m,p,y,_,v,s]);return Ti(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:X.createElement(Mi.Provider,{value:d},X.createElement(Tu.Provider,{children:e,value:A}))}function $S({children:i,location:e}){return DS(Qm(i),e)}function Qm(i,e=[]){let t=[];return X.Children.forEach(i,(s,a)=>{if(!X.isValidElement(s))return;let l=[...e,a];if(s.type===X.Fragment){t.push.apply(t,Qm(s.props.children,l));return}xt(s.type===ps,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Qm(s.props.children,l)),t.push(c)}),t}var hh="get",fh="application/x-www-form-urlencoded";function Zh(i){return i!=null&&typeof i.tagName=="string"}function KS(i){return Zh(i)&&i.tagName.toLowerCase()==="button"}function QS(i){return Zh(i)&&i.tagName.toLowerCase()==="form"}function YS(i){return Zh(i)&&i.tagName.toLowerCase()==="input"}function XS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function WS(i,e){return i.button===0&&(!e||e==="_self")&&!XS(i)}var nh=null;function ZS(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var JS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!JS.has(i)?(Ti(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function e2(i,e){let t,s,a,l,c;if(QS(i)){let d=i.getAttribute("action");s=d?Pr(d,e):null,t=i.getAttribute("method")||hh,a=Dm(i.getAttribute("enctype"))||fh,l=new FormData(i)}else if(KS(i)||YS(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?Pr(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||hh,a=Dm(i.getAttribute("formenctype"))||Dm(d.getAttribute("enctype"))||fh,l=new FormData(d,i),!ZS()){let{name:p,type:y,value:_}=i;if(y==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,_)}}else{if(Zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,s=null,a=fh,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Dp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function t2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function i2(i,e,t){let s=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await t2(l,t);return c.links?c.links():[]}return[]}));return o2(s.flat(1).filter(n2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function o0(i,e,t,s,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var y;return t[p].pathname!==m.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function r2(i,e,{includeHydrateFallback:t}={}){return s2(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function s2(i){return[...new Set(i)]}function a2(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function o2(i,e){let t=new Set;return new Set(e),i.reduce((s,a)=>{let l=JSON.stringify(a2(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var l2=new Set([100,101,204,205]);function u2(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Pr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sE(){let i=X.useContext(Lo);return Dp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function c2(){let i=X.useContext(Wh);return Dp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Op=X.createContext(void 0);Op.displayName="FrameworkContext";function aE(){let i=X.useContext(Op);return Dp(i,"You must render this element inside a <HydratedRouter> element"),i}function h2(i,e){let t=X.useContext(Op),[s,a]=X.useState(!1),[l,c]=X.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,v=X.useRef(null);X.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let V=j=>{j.forEach(G=>{c(G.isIntersecting)})},B=new IntersectionObserver(V,{threshold:.5});return v.current&&B.observe(v.current),()=>{B.disconnect()}}},[i]),X.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let A=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,v,{}]:[l,v,{onFocus:Yl(d,A),onBlur:Yl(m,C),onMouseEnter:Yl(p,A),onMouseLeave:Yl(y,C),onTouchStart:Yl(_,A)}]:[!1,v,{}]}function Yl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function f2({page:i,...e}){let{router:t}=sE(),s=X.useMemo(()=>X1(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?X.createElement(m2,{page:i,matches:s,...e}):null}function d2(i){let{manifest:e,routeModules:t}=aE(),[s,a]=X.useState([]);return X.useEffect(()=>{let l=!1;return i2(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),s}function m2({page:i,matches:e,...t}){let s=Ps(),{manifest:a,routeModules:l}=aE(),{basename:c}=sE(),{loaderData:d,matches:m}=c2(),p=X.useMemo(()=>o0(i,e,m,a,s,"data"),[i,e,m,a,s]),y=X.useMemo(()=>o0(i,e,m,a,s,"assets"),[i,e,m,a,s]),_=X.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let C=new Set,V=!1;if(e.forEach(j=>{var F;let G=a.routes[j.route.id];!G||!G.hasLoader||(!p.some(q=>q.route.id===j.route.id)&&j.route.id in d&&((F=l[j.route.id])!=null&&F.shouldRevalidate)||G.hasClientLoader?V=!0:C.add(j.route.id))}),C.size===0)return[];let B=u2(i,c);return V&&C.size>0&&B.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[B.pathname+B.search]},[c,d,s,a,p,e,i,l]),v=X.useMemo(()=>r2(y,a),[y,a]),A=d2(y);return X.createElement(X.Fragment,null,_.map(C=>X.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),v.map(C=>X.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),A.map(({key:C,link:V})=>X.createElement("link",{key:C,...V})))}function p2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.6.2")}catch{}function g2({basename:i,children:e,window:t}){let s=X.useRef();s.current==null&&(s.current=nS({window:t,v5Compat:!0}));let a=s.current,[l,c]=X.useState({action:a.action,location:a.location}),d=X.useCallback(m=>{X.startTransition(()=>c(m))},[c]);return X.useLayoutEffect(()=>a.listen(d),[a,d]),X.createElement(GS,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uE=X.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...v},A){let{basename:C}=X.useContext(Mi),V=typeof p=="string"&&lE.test(p),B,j=!1;if(typeof p=="string"&&V&&(B=p,oE))try{let w=new URL(window.location.href),x=p.startsWith("//")?new URL(w.protocol+p):new URL(p),D=Pr(x.pathname,C);x.origin===w.origin&&D!=null?p=D+x.search+x.hash:j=!0}catch{Ti(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=xS(p,{relative:a}),[F,q,$]=h2(s,v),z=E2(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function P(w){e&&e(w),w.defaultPrevented||z(w)}let b=X.createElement("a",{...v,...$,href:B||G,onClick:j||l?e:P,ref:p2(A,q),target:m,"data-discover":!V&&t==="render"?"true":void 0});return F&&!V?X.createElement(X.Fragment,null,b,X.createElement(f2,{page:G})):b});uE.displayName="Link";var y2=X.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=bu(c,{relative:p.relative}),v=Ps(),A=X.useContext(Wh),{navigator:C,basename:V}=X.useContext(Mi),B=A!=null&&S2(_)&&d===!0,j=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,G=v.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(G=G.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&V&&(F=Pr(F,V)||F);const q=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let $=G===j||!a&&G.startsWith(j)&&G.charAt(q)==="/",z=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),P={isActive:$,isPending:z,isTransitioning:B},b=$?e:void 0,w;typeof s=="function"?w=s(P):w=[s,$?"active":null,z?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(P):l;return X.createElement(uE,{...p,"aria-current":b,className:w,ref:y,style:x,to:c,viewTransition:d},typeof m=="function"?m(P):m)});y2.displayName="NavLink";var v2=X.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=hh,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...v},A)=>{let C=w2(),V=A2(d,{relative:p}),B=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&lE.test(d),G=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let q=F.nativeEvent.submitter,$=(q==null?void 0:q.getAttribute("formmethod"))||c;C(q||F.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return X.createElement("form",{ref:A,method:B,action:V,onSubmit:s?m:G,...v,"data-discover":!j&&i==="render"?"true":void 0})});v2.displayName="Form";function _2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cE(i){let e=X.useContext(Lo);return xt(e,_2(i)),e}function E2(i,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Br(),m=Ps(),p=bu(i,{relative:l});return X.useCallback(y=>{if(WS(y,e)){y.preventDefault();let _=t!==void 0?t:hu(m)===hu(p);d(i,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,s,e,i,a,l,c])}var T2=0,b2=()=>`__${String(++T2)}__`;function w2(){let{router:i}=cE("useSubmit"),{basename:e}=X.useContext(Mi),t=BS();return X.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=e2(s,e);if(a.navigate===!1){let y=a.fetcherKey||b2();await i.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function A2(i,{relative:e}={}){let{basename:t}=X.useContext(Mi),s=X.useContext(rr);xt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...bu(i||".",{relative:e})},c=Ps();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Mr([t,l.pathname])),hu(l)}function S2(i,e={}){let t=X.useContext(eE);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cE("useViewTransitionState"),a=bu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Pr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Pr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sh(a.pathname,c)!=null||Sh(a.pathname,l)!=null}[...l2];const R2=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},C2=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=i[t++],c=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,m=a+2<i.length,p=m?i[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let v=(d&15)<<2|p>>6,A=p&63;m||(A=64,c||(v=64)),s.push(t[y],t[_],t[v],t[A])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(hE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):C2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const p=a<i.length?t[i.charAt(a)]:64;++a;const _=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new I2;const v=l<<2|d>>4;if(s.push(v),p!==64){const A=d<<4&240|p>>2;if(s.push(A),_!==64){const C=p<<6&192|_;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class I2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x2=function(i){const e=hE(i);return fE.encodeByteArray(e,!0)},Rh=function(i){return x2(i).replace(/\./g,"")},dE=function(i){try{return fE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=()=>N2().__FIREBASE_DEFAULTS__,O2=()=>{if(typeof process>"u"||typeof l0>"u")return;const i=l0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},M2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&dE(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return R2()||D2()||O2()||M2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},mE=i=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},pE=i=>{const e=mE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},gE=()=>{var i;return(i=Jh())===null||i===void 0?void 0:i.config},yE=i=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(i){return i.endsWith(".cloudworkstations.dev")}async function Mp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(c)),""].join(".")}const iu={};function P2(){const i={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?i.emulator.push(e):i.prod.push(e);return i}function V2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let u0=!1;function kp(i,e){if(typeof window>"u"||typeof document>"u"||!Vs(window.location.host)||iu[i]===e||iu[i]||u0)return;iu[i]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=P2().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,A){v.setAttribute("width","24"),v.setAttribute("id",A),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{u0=!0,c()},v}function y(v,A){v.setAttribute("id",A),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=V2(s),A=t("text"),C=document.getElementById(A)||document.createElement("span"),V=t("learnmore"),B=document.getElementById(V)||document.createElement("a"),j=t("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;d(F),y(B,V);const q=p();m(G,j),F.append(G,C,B,q),document.body.appendChild(F)}l?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function L2(){var i;const e=(i=Jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function z2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const i=Vn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function F2(){return!L2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H2(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="FirebaseError";class sr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=$2,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?K2(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new sr(a,d,s)}}function K2(i,e){return i.replace(Q2,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Q2=/\{\$([^}]+)}/g;function Y2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _a(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=i[a],c=e[a];if(c0(l)&&c0(c)){if(!_a(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function c0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Zl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function X2(i,e){const t=new W2(i,e);return t.subscribe.bind(t)}class W2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Z2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Om),a.error===void 0&&(a.error=Om),a.complete===void 0&&(a.complete=Om);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i){return i&&i._delegate?i._delegate:i}class Cs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new k2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tR(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eR(i){return i===ma?void 0:i}function tR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new J2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const iR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},rR=Qe.INFO,sR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},aR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=sR[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const oR=(i,e)=>e.some(t=>i instanceof t);let h0,f0;function lR(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,Ym=new WeakMap,EE=new WeakMap,Mm=new WeakMap,Vp=new WeakMap;function cR(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(bs(i.result)),a()},c=()=>{s(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&_E.set(t,i)}).catch(()=>{}),Vp.set(e,i),e}function hR(i){if(Ym.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Ym.set(i,e)}let Xm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Ym.get(i);if(e==="objectStoreNames")return i.objectStoreNames||EE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fR(i){Xm=i(Xm)}function dR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(km(this),e,...t);return EE.set(s,e.sort?e.sort():[e]),bs(s)}:uR().includes(i)?function(...e){return i.apply(km(this),e),bs(_E.get(this))}:function(...e){return bs(i.apply(km(this),e))}}function mR(i){return typeof i=="function"?dR(i):(i instanceof IDBTransaction&&hR(i),oR(i,lR())?new Proxy(i,Xm):i)}function bs(i){if(i instanceof IDBRequest)return cR(i);if(Mm.has(i))return Mm.get(i);const e=mR(i);return e!==i&&(Mm.set(i,e),Vp.set(e,i)),e}const km=i=>Vp.get(i);function pR(i,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=bs(c);return s&&c.addEventListener("upgradeneeded",m=>{s(bs(c.result),m.oldVersion,m.newVersion,bs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],Pm=new Map;function d0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=yR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||gR.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return Pm.set(e,l),l}fR(i=>({...i,get:(e,t,s)=>d0(e,t)||i.get(e,t,s),has:(e,t)=>!!d0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_R(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function _R(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",m0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Pp("@firebase/app"),ER="@firebase/app-compat",TR="@firebase/analytics-compat",bR="@firebase/analytics",wR="@firebase/app-check-compat",AR="@firebase/app-check",SR="@firebase/auth",RR="@firebase/auth-compat",CR="@firebase/database",IR="@firebase/data-connect",xR="@firebase/database-compat",NR="@firebase/functions",DR="@firebase/functions-compat",OR="@firebase/installations",MR="@firebase/installations-compat",kR="@firebase/messaging",PR="@firebase/messaging-compat",VR="@firebase/performance",UR="@firebase/performance-compat",LR="@firebase/remote-config",jR="@firebase/remote-config-compat",BR="@firebase/storage",zR="@firebase/storage-compat",qR="@firebase/firestore",FR="@firebase/ai",HR="@firebase/firestore-compat",GR="firebase",$R="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",KR={[Wm]:"fire-core",[ER]:"fire-core-compat",[bR]:"fire-analytics",[TR]:"fire-analytics-compat",[AR]:"fire-app-check",[wR]:"fire-app-check-compat",[SR]:"fire-auth",[RR]:"fire-auth-compat",[CR]:"fire-rtdb",[IR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[NR]:"fire-fn",[DR]:"fire-fn-compat",[OR]:"fire-iid",[MR]:"fire-iid-compat",[kR]:"fire-fcm",[PR]:"fire-fcm-compat",[VR]:"fire-perf",[UR]:"fire-perf-compat",[LR]:"fire-rc",[jR]:"fire-rc-compat",[BR]:"fire-gcs",[zR]:"fire-gcs-compat",[qR]:"fire-fst",[HR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,QR=new Map,Jm=new Map;function p0(i,e){try{i.container.addComponent(e)}catch(t){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ea(i){const e=i.name;if(Jm.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,i);for(const t of Ch.values())p0(t,i);for(const t of QR.values())p0(t,i);return!0}function ef(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ri(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new wu("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=$R;function TE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw ws.create("bad-app-name",{appName:String(a)});if(t||(t=gE()),!t)throw ws.create("no-options");const l=Ch.get(a);if(l){if(_a(t,l.options)&&_a(s,l.config))return l;throw ws.create("duplicate-app",{appName:a})}const c=new nR(a);for(const m of Jm.values())c.addComponent(m);const d=new XR(t,s,c);return Ch.set(a,d),d}function Up(i=Zm){const e=Ch.get(i);if(!e&&i===Zm&&gE())return TE();if(!e)throw ws.create("no-app",{appName:i});return e}function Zi(i,e,t){var s;let a=(s=KR[i])!==null&&s!==void 0?s:i;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(d.join(" "));return}Ea(new Cs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-heartbeat-database",ZR=1,fu="firebase-heartbeat-store";let Vm=null;function bE(){return Vm||(Vm=pR(WR,ZR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fu)}catch(t){console.warn(t)}}}}).catch(i=>{throw ws.create("idb-open",{originalErrorMessage:i.message})})),Vm}async function JR(i){try{const t=(await bE()).transaction(fu),s=await t.objectStore(fu).get(wE(i));return await t.done,s}catch(e){if(e instanceof sr)Vr.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(t.message)}}}async function g0(i,e){try{const s=(await bE()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,wE(i)),await s.done}catch(t){if(t instanceof sr)Vr.warn(t.message);else{const s=ws.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vr.warn(s.message)}}}function wE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=y0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>tC){const c=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Vr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y0(),{heartbeatsToSend:s,unsentEntries:a}=iC(this._heartbeatsCache.heartbeats),l=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Vr.warn(t),""}}}function y0(){return new Date().toISOString().substring(0,10)}function iC(i,e=eC){const t=[];let s=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),v0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),v0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class rC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H2()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return g0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return g0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function v0(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function sC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i){Ea(new Cs("platform-logger",e=>new vR(e),"PRIVATE")),Ea(new Cs("heartbeat",e=>new nC(e),"PRIVATE")),Zi(Wm,m0,i),Zi(Wm,m0,"esm2017"),Zi("fire-js","")}aC("");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,AE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,b){function w(){}w.prototype=b.prototype,P.D=b.prototype,P.prototype=new w,P.prototype.constructor=P,P.C=function(x,D,M){for(var N=Array(arguments.length-2),K=2;K<arguments.length;K++)N[K-2]=arguments[K];return b.prototype[D].apply(x,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,b,w){w||(w=0);var x=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)x[D]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(D=0;16>D;++D)x[D]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=P.g[0],w=P.g[1],D=P.g[2];var M=P.g[3],N=b+(M^w&(D^M))+x[0]+3614090360&4294967295;b=w+(N<<7&4294967295|N>>>25),N=M+(D^b&(w^D))+x[1]+3905402710&4294967295,M=b+(N<<12&4294967295|N>>>20),N=D+(w^M&(b^w))+x[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=w+(b^D&(M^b))+x[3]+3250441966&4294967295,w=D+(N<<22&4294967295|N>>>10),N=b+(M^w&(D^M))+x[4]+4118548399&4294967295,b=w+(N<<7&4294967295|N>>>25),N=M+(D^b&(w^D))+x[5]+1200080426&4294967295,M=b+(N<<12&4294967295|N>>>20),N=D+(w^M&(b^w))+x[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=w+(b^D&(M^b))+x[7]+4249261313&4294967295,w=D+(N<<22&4294967295|N>>>10),N=b+(M^w&(D^M))+x[8]+1770035416&4294967295,b=w+(N<<7&4294967295|N>>>25),N=M+(D^b&(w^D))+x[9]+2336552879&4294967295,M=b+(N<<12&4294967295|N>>>20),N=D+(w^M&(b^w))+x[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=w+(b^D&(M^b))+x[11]+2304563134&4294967295,w=D+(N<<22&4294967295|N>>>10),N=b+(M^w&(D^M))+x[12]+1804603682&4294967295,b=w+(N<<7&4294967295|N>>>25),N=M+(D^b&(w^D))+x[13]+4254626195&4294967295,M=b+(N<<12&4294967295|N>>>20),N=D+(w^M&(b^w))+x[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=w+(b^D&(M^b))+x[15]+1236535329&4294967295,w=D+(N<<22&4294967295|N>>>10),N=b+(D^M&(w^D))+x[1]+4129170786&4294967295,b=w+(N<<5&4294967295|N>>>27),N=M+(w^D&(b^w))+x[6]+3225465664&4294967295,M=b+(N<<9&4294967295|N>>>23),N=D+(b^w&(M^b))+x[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=w+(M^b&(D^M))+x[0]+3921069994&4294967295,w=D+(N<<20&4294967295|N>>>12),N=b+(D^M&(w^D))+x[5]+3593408605&4294967295,b=w+(N<<5&4294967295|N>>>27),N=M+(w^D&(b^w))+x[10]+38016083&4294967295,M=b+(N<<9&4294967295|N>>>23),N=D+(b^w&(M^b))+x[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=w+(M^b&(D^M))+x[4]+3889429448&4294967295,w=D+(N<<20&4294967295|N>>>12),N=b+(D^M&(w^D))+x[9]+568446438&4294967295,b=w+(N<<5&4294967295|N>>>27),N=M+(w^D&(b^w))+x[14]+3275163606&4294967295,M=b+(N<<9&4294967295|N>>>23),N=D+(b^w&(M^b))+x[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=w+(M^b&(D^M))+x[8]+1163531501&4294967295,w=D+(N<<20&4294967295|N>>>12),N=b+(D^M&(w^D))+x[13]+2850285829&4294967295,b=w+(N<<5&4294967295|N>>>27),N=M+(w^D&(b^w))+x[2]+4243563512&4294967295,M=b+(N<<9&4294967295|N>>>23),N=D+(b^w&(M^b))+x[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=w+(M^b&(D^M))+x[12]+2368359562&4294967295,w=D+(N<<20&4294967295|N>>>12),N=b+(w^D^M)+x[5]+4294588738&4294967295,b=w+(N<<4&4294967295|N>>>28),N=M+(b^w^D)+x[8]+2272392833&4294967295,M=b+(N<<11&4294967295|N>>>21),N=D+(M^b^w)+x[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=w+(D^M^b)+x[14]+4259657740&4294967295,w=D+(N<<23&4294967295|N>>>9),N=b+(w^D^M)+x[1]+2763975236&4294967295,b=w+(N<<4&4294967295|N>>>28),N=M+(b^w^D)+x[4]+1272893353&4294967295,M=b+(N<<11&4294967295|N>>>21),N=D+(M^b^w)+x[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=w+(D^M^b)+x[10]+3200236656&4294967295,w=D+(N<<23&4294967295|N>>>9),N=b+(w^D^M)+x[13]+681279174&4294967295,b=w+(N<<4&4294967295|N>>>28),N=M+(b^w^D)+x[0]+3936430074&4294967295,M=b+(N<<11&4294967295|N>>>21),N=D+(M^b^w)+x[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=w+(D^M^b)+x[6]+76029189&4294967295,w=D+(N<<23&4294967295|N>>>9),N=b+(w^D^M)+x[9]+3654602809&4294967295,b=w+(N<<4&4294967295|N>>>28),N=M+(b^w^D)+x[12]+3873151461&4294967295,M=b+(N<<11&4294967295|N>>>21),N=D+(M^b^w)+x[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=w+(D^M^b)+x[2]+3299628645&4294967295,w=D+(N<<23&4294967295|N>>>9),N=b+(D^(w|~M))+x[0]+4096336452&4294967295,b=w+(N<<6&4294967295|N>>>26),N=M+(w^(b|~D))+x[7]+1126891415&4294967295,M=b+(N<<10&4294967295|N>>>22),N=D+(b^(M|~w))+x[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=w+(M^(D|~b))+x[5]+4237533241&4294967295,w=D+(N<<21&4294967295|N>>>11),N=b+(D^(w|~M))+x[12]+1700485571&4294967295,b=w+(N<<6&4294967295|N>>>26),N=M+(w^(b|~D))+x[3]+2399980690&4294967295,M=b+(N<<10&4294967295|N>>>22),N=D+(b^(M|~w))+x[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=w+(M^(D|~b))+x[1]+2240044497&4294967295,w=D+(N<<21&4294967295|N>>>11),N=b+(D^(w|~M))+x[8]+1873313359&4294967295,b=w+(N<<6&4294967295|N>>>26),N=M+(w^(b|~D))+x[15]+4264355552&4294967295,M=b+(N<<10&4294967295|N>>>22),N=D+(b^(M|~w))+x[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=w+(M^(D|~b))+x[13]+1309151649&4294967295,w=D+(N<<21&4294967295|N>>>11),N=b+(D^(w|~M))+x[4]+4149444226&4294967295,b=w+(N<<6&4294967295|N>>>26),N=M+(w^(b|~D))+x[11]+3174756917&4294967295,M=b+(N<<10&4294967295|N>>>22),N=D+(b^(M|~w))+x[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=w+(M^(D|~b))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+b&4294967295,P.g[1]=P.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+M&4294967295}s.prototype.u=function(P,b){b===void 0&&(b=P.length);for(var w=b-this.blockSize,x=this.B,D=this.h,M=0;M<b;){if(D==0)for(;M<=w;)a(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<b;)if(x[D++]=P.charCodeAt(M++),D==this.blockSize){a(this,x),D=0;break}}else for(;M<b;)if(x[D++]=P[M++],D==this.blockSize){a(this,x),D=0;break}}this.h=D,this.o+=b},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var b=1;b<P.length-8;++b)P[b]=0;var w=8*this.o;for(b=P.length-8;b<P.length;++b)P[b]=w&255,w/=256;for(this.u(P),P=Array(16),b=w=0;4>b;++b)for(var x=0;32>x;x+=8)P[w++]=this.g[b]>>>x&255;return P};function l(P,b){var w=d;return Object.prototype.hasOwnProperty.call(w,P)?w[P]:w[P]=b(P)}function c(P,b){this.h=b;for(var w=[],x=!0,D=P.length-1;0<=D;D--){var M=P[D]|0;x&&M==b||(w[D]=M,x=!1)}this.g=w}var d={};function m(P){return-128<=P&&128>P?l(P,function(b){return new c([b|0],0>b?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return B(p(-P));for(var b=[],w=1,x=0;P>=w;x++)b[x]=P/w|0,w*=4294967296;return new c(b,0)}function y(P,b){if(P.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(P.charAt(0)=="-")return B(y(P.substring(1),b));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(b,8)),x=_,D=0;D<P.length;D+=8){var M=Math.min(8,P.length-D),N=parseInt(P.substring(D,D+M),b);8>M?(M=p(Math.pow(b,M)),x=x.j(M).add(p(N))):(x=x.j(w),x=x.add(p(N)))}return x}var _=m(0),v=m(1),A=m(16777216);i=c.prototype,i.m=function(){if(V(this))return-B(this).m();for(var P=0,b=1,w=0;w<this.g.length;w++){var x=this.i(w);P+=(0<=x?x:4294967296+x)*b,b*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(V(this))return"-"+B(this).toString(P);for(var b=p(Math.pow(P,6)),w=this,x="";;){var D=q(w,b).g;w=j(w,D.j(b));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(P);if(w=D,C(w))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var b=0;b<P.g.length;b++)if(P.g[b]!=0)return!1;return!0}function V(P){return P.h==-1}i.l=function(P){return P=j(this,P),V(P)?-1:C(P)?0:1};function B(P){for(var b=P.g.length,w=[],x=0;x<b;x++)w[x]=~P.g[x];return new c(w,~P.h).add(v)}i.abs=function(){return V(this)?B(this):this},i.add=function(P){for(var b=Math.max(this.g.length,P.g.length),w=[],x=0,D=0;D<=b;D++){var M=x+(this.i(D)&65535)+(P.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);x=N>>>16,M&=65535,N&=65535,w[D]=N<<16|M}return new c(w,w[w.length-1]&-2147483648?-1:0)};function j(P,b){return P.add(B(b))}i.j=function(P){if(C(this)||C(P))return _;if(V(this))return V(P)?B(this).j(B(P)):B(B(this).j(P));if(V(P))return B(this.j(B(P)));if(0>this.l(A)&&0>P.l(A))return p(this.m()*P.m());for(var b=this.g.length+P.g.length,w=[],x=0;x<2*b;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<P.g.length;D++){var M=this.i(x)>>>16,N=this.i(x)&65535,K=P.i(D)>>>16,ee=P.i(D)&65535;w[2*x+2*D]+=N*ee,G(w,2*x+2*D),w[2*x+2*D+1]+=M*ee,G(w,2*x+2*D+1),w[2*x+2*D+1]+=N*K,G(w,2*x+2*D+1),w[2*x+2*D+2]+=M*K,G(w,2*x+2*D+2)}for(x=0;x<b;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=b;x<2*b;x++)w[x]=0;return new c(w,0)};function G(P,b){for(;(P[b]&65535)!=P[b];)P[b+1]+=P[b]>>>16,P[b]&=65535,b++}function F(P,b){this.g=P,this.h=b}function q(P,b){if(C(b))throw Error("division by zero");if(C(P))return new F(_,_);if(V(P))return b=q(B(P),b),new F(B(b.g),B(b.h));if(V(b))return b=q(P,B(b)),new F(B(b.g),b.h);if(30<P.g.length){if(V(P)||V(b))throw Error("slowDivide_ only works with positive integers.");for(var w=v,x=b;0>=x.l(P);)w=$(w),x=$(x);var D=z(w,1),M=z(x,1);for(x=z(x,2),w=z(w,2);!C(x);){var N=M.add(x);0>=N.l(P)&&(D=D.add(w),M=N),x=z(x,1),w=z(w,1)}return b=j(P,D.j(b)),new F(D,b)}for(D=_;0<=P.l(b);){for(w=Math.max(1,Math.floor(P.m()/b.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=p(w),N=M.j(b);V(N)||0<N.l(P);)w-=x,M=p(w),N=M.j(b);C(M)&&(M=v),D=D.add(M),P=j(P,N)}return new F(D,P)}i.A=function(P){return q(this,P).h},i.and=function(P){for(var b=Math.max(this.g.length,P.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)&P.i(x);return new c(w,this.h&P.h)},i.or=function(P){for(var b=Math.max(this.g.length,P.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)|P.i(x);return new c(w,this.h|P.h)},i.xor=function(P){for(var b=Math.max(this.g.length,P.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)^P.i(x);return new c(w,this.h^P.h)};function $(P){for(var b=P.g.length+1,w=[],x=0;x<b;x++)w[x]=P.i(x)<<1|P.i(x-1)>>>31;return new c(w,P.h)}function z(P,b){var w=b>>5;b%=32;for(var x=P.g.length-w,D=[],M=0;M<x;M++)D[M]=0<b?P.i(M+w)>>>b|P.i(M+w+1)<<32-b:P.i(M+w);return new c(D,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AE=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,As=c}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SE,Jl,RE,dh,ep,CE,IE,xE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,S){return h==Array.prototype||h==Object.prototype||(h[E]=S.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var E=0;E<h.length;++E){var S=h[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=t(this);function a(h,E){if(E)e:{var S=s;h=h.split(".");for(var L=0;L<h.length-1;L++){var ne=h[L];if(!(ne in S))break e;S=S[ne]}h=h[h.length-1],L=S[h],E=E(L),E!=L&&E!=null&&e(S,h,{configurable:!0,writable:!0,value:E})}}function l(h,E){h instanceof String&&(h+="");var S=0,L=!1,ne={next:function(){if(!L&&S<h.length){var ce=S++;return{value:E(ce,h[ce]),done:!1}}return L=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}a("Array.prototype.values",function(h){return h||function(){return l(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function p(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function y(h,E,S){return h.call.apply(h.bind,arguments)}function _(h,E,S){if(!h)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,L),h.apply(E,ne)}}return function(){return h.apply(E,arguments)}}function v(h,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,v.apply(null,arguments)}function A(h,E){var S=Array.prototype.slice.call(arguments,1);return function(){var L=S.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function C(h,E){function S(){}S.prototype=E.prototype,h.aa=E.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(L,ne,ce){for(var ve=Array(arguments.length-2),We=2;We<arguments.length;We++)ve[We-2]=arguments[We];return E.prototype[ne].apply(L,ve)}}function V(h){const E=h.length;if(0<E){const S=Array(E);for(let L=0;L<E;L++)S[L]=h[L];return S}return[]}function B(h,E){for(let S=1;S<arguments.length;S++){const L=arguments[S];if(m(L)){const ne=h.length||0,ce=L.length||0;h.length=ne+ce;for(let ve=0;ve<ce;ve++)h[ne+ve]=L[ve]}else h.push(L)}}class j{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function G(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function q(h){return q[" "](h),h}q[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function z(h,E,S){for(const L in h)E.call(S,h[L],L,h)}function P(h,E){for(const S in h)E.call(void 0,h[S],S,h)}function b(h){const E={};for(const S in h)E[S]=h[S];return E}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(h,E){let S,L;for(let ne=1;ne<arguments.length;ne++){L=arguments[ne];for(S in L)h[S]=L[S];for(let ce=0;ce<w.length;ce++)S=w[ce],Object.prototype.hasOwnProperty.call(L,S)&&(h[S]=L[S])}}function D(h){var E=1;h=h.split(":");const S=[];for(;0<E&&h.length;)S.push(h.shift()),E--;return h.length&&S.push(h.join(":")),S}function M(h){d.setTimeout(()=>{throw h},0)}function N(){var h=W;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class K{constructor(){this.h=this.g=null}add(E,S){const L=ee.get();L.set(E,S),this.h?this.h.next=L:this.g=L,this.h=L}}var ee=new j(()=>new I,h=>h.reset());class I{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let O,ae=!1,W=new K,U=()=>{const h=d.Promise.resolve(void 0);O=()=>{h.then(te)}};var te=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(S){M(S)}var E=ee;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}ae=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};d.addEventListener("test",S,E),d.removeEventListener("test",S,E)}catch{}return h}();function J(h,E){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if($){e:{try{q(E.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(E=null)}}else S=="mouseover"?E=h.fromElement:S=="mouseout"&&(E=h.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ye[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&J.aa.h.call(this)}}C(J,re);var ye={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),be=0;function Se(h,E,S,L,ne){this.listener=h,this.proxy=null,this.src=E,this.type=S,this.capture=!!L,this.ha=ne,this.key=++be,this.da=this.fa=!1}function ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Le(h){this.src=h,this.g={},this.h=0}Le.prototype.add=function(h,E,S,L,ne){var ce=h.toString();h=this.g[ce],h||(h=this.g[ce]=[],this.h++);var ve=Jt(h,E,L,ne);return-1<ve?(E=h[ve],S||(E.fa=!1)):(E=new Se(E,this.src,ce,!!L,ne),E.fa=S,h.push(E)),E};function tt(h,E){var S=E.type;if(S in h.g){var L=h.g[S],ne=Array.prototype.indexOf.call(L,E,void 0),ce;(ce=0<=ne)&&Array.prototype.splice.call(L,ne,1),ce&&(ze(E),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Jt(h,E,S,L){for(var ne=0;ne<h.length;++ne){var ce=h[ne];if(!ce.da&&ce.listener==E&&ce.capture==!!S&&ce.ha==L)return ne}return-1}var Bt="closure_lm_"+(1e6*Math.random()|0),rt={};function Mt(h,E,S,L,ne){if(Array.isArray(E)){for(var ce=0;ce<E.length;ce++)Mt(h,E[ce],S,L,ne);return null}return S=$t(S),h&&h[De]?h.K(E,S,p(L)?!!L.capture:!1,ne):Ue(h,E,S,!1,L,ne)}function Ue(h,E,S,L,ne,ce){if(!E)throw Error("Invalid event type");var ve=p(ne)?!!ne.capture:!!ne,We=ct(h);if(We||(h[Bt]=We=new Le(h)),S=We.add(E,S,L,ve,ce),S.proxy)return S;if(L=lt(),S.proxy=L,L.src=h,L.listener=S,h.addEventListener)Y||(ne=ve),ne===void 0&&(ne=!1),h.addEventListener(E.toString(),L,ne);else if(h.attachEvent)h.attachEvent(Xe(E.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return S}function lt(){function h(S){return E.call(h.src,h.listener,S)}const E=en;return h}function Et(h,E,S,L,ne){if(Array.isArray(E))for(var ce=0;ce<E.length;ce++)Et(h,E[ce],S,L,ne);else L=p(L)?!!L.capture:!!L,S=$t(S),h&&h[De]?(h=h.i,E=String(E).toString(),E in h.g&&(ce=h.g[E],S=Jt(ce,S,L,ne),-1<S&&(ze(ce[S]),Array.prototype.splice.call(ce,S,1),ce.length==0&&(delete h.g[E],h.h--)))):h&&(h=ct(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Jt(E,S,L,ne)),(S=-1<h?E[h]:null)&&St(S))}function St(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[De])tt(E.i,h);else{var S=h.type,L=h.proxy;E.removeEventListener?E.removeEventListener(S,L,h.capture):E.detachEvent?E.detachEvent(Xe(S),L):E.addListener&&E.removeListener&&E.removeListener(L),(S=ct(E))?(tt(S,h),S.h==0&&(S.src=null,E[Bt]=null)):ze(h)}}}function Xe(h){return h in rt?rt[h]:rt[h]="on"+h}function en(h,E){if(h.da)h=!0;else{E=new J(E,this);var S=h.listener,L=h.ha||h.src;h.fa&&St(h),h=S.call(L,E)}return h}function ct(h){return h=h[Bt],h instanceof Le?h:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(h){return typeof h=="function"?h:(h[nt]||(h[nt]=function(E){return h.handleEvent(E)}),h[nt])}function Ke(){ie.call(this),this.i=new Le(this),this.M=this,this.F=null}C(Ke,ie),Ke.prototype[De]=!0,Ke.prototype.removeEventListener=function(h,E,S,L){Et(this,h,E,S,L)};function qe(h,E){var S,L=h.F;if(L)for(S=[];L;L=L.F)S.push(L);if(h=h.M,L=E.type||E,typeof E=="string")E=new re(E,h);else if(E instanceof re)E.target=E.target||h;else{var ne=E;E=new re(L,h),x(E,ne)}if(ne=!0,S)for(var ce=S.length-1;0<=ce;ce--){var ve=E.g=S[ce];ne=it(ve,L,!0,E)&&ne}if(ve=E.g=h,ne=it(ve,L,!0,E)&&ne,ne=it(ve,L,!1,E)&&ne,S)for(ce=0;ce<S.length;ce++)ve=E.g=S[ce],ne=it(ve,L,!1,E)&&ne}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var S=h.g[E],L=0;L<S.length;L++)ze(S[L]);delete h.g[E],h.h--}}this.F=null},Ke.prototype.K=function(h,E,S,L){return this.i.add(String(h),E,!1,S,L)},Ke.prototype.L=function(h,E,S,L){return this.i.add(String(h),E,!0,S,L)};function it(h,E,S,L){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var ne=!0,ce=0;ce<E.length;++ce){var ve=E[ce];if(ve&&!ve.da&&ve.capture==S){var We=ve.listener,rn=ve.ha||ve.src;ve.fa&&tt(h.i,ve),ne=We.call(rn,L)!==!1&&ne}}return ne&&!L.defaultPrevented}function bt(h,E,S){if(typeof h=="function")S&&(h=v(h,S));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(h,E||0)}function Nt(h){h.g=bt(()=>{h.g=null,h.i&&(h.i=!1,Nt(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class kt extends ie{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pt(h){ie.call(this),this.h=h,this.g={}}C(Pt,ie);var tn=[];function he(h){z(h.g,function(E,S){this.g.hasOwnProperty(S)&&St(E)},h),h.g={}}Pt.prototype.N=function(){Pt.aa.N.call(this),he(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=d.JSON.stringify,ht=d.JSON.parse,Pe=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Fe(){}Fe.prototype.h=null;function st(h){return h.h||(h.h=h.i())}function at(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){re.call(this,"d")}C(zt,re);function Cn(){re.call(this,"c")}C(Cn,re);var vn={},bi=null;function wi(){return bi=bi||new Ke}vn.La="serverreachability";function Fn(h){re.call(this,vn.La,h)}C(Fn,re);function In(h){const E=wi();qe(E,new Fn(E))}vn.STAT_EVENT="statevent";function Pu(h,E){re.call(this,vn.STAT_EVENT,h),this.stat=E}C(Pu,re);function Ct(h){const E=wi();qe(E,new Pu(E,h))}vn.Ma="timingevent";function nn(h,E){re.call(this,vn.Ma,h),this.size=E}C(nn,re);function Kt(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},E)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function $o(h,E,S,L,ne,ce){h.info(function(){if(h.g)if(ce)for(var ve="",We=ce.split("&"),rn=0;rn<We.length;rn++){var Ze=We[rn].split("=");if(1<Ze.length){var fn=Ze[0];Ze=Ze[1];var sn=fn.split("_");ve=2<=sn.length&&sn[1]=="type"?ve+(fn+"="+Ze+"&"):ve+(fn+"=redacted&")}}else ve=null;else ve=ce;return"XMLHTTP REQ ("+L+") [attempt "+ne+"]: "+E+`
`+S+`
`+ve})}function Cf(h,E,S,L,ne,ce,ve){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+ne+"]: "+E+`
`+S+`
`+ce+" "+ve})}function qr(h,E,S,L){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+js(h,S)+(L?" "+L:"")})}function Vu(h,E){h.info(function(){return"TIMEOUT: "+E})}oi.prototype.info=function(){};function js(h,E){if(!h.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var L=S[h];if(!(2>L.length)){var ne=L[1];if(Array.isArray(ne)&&!(1>ne.length)){var ce=ne[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var ve=1;ve<ne.length;ve++)ne[ve]=""}}}}return ke(S)}catch{return E}}var Fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ki;function Pi(){}C(Pi,Fe),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},ki=new Pi;function Un(h,E,S,L){this.j=h,this.i=E,this.l=S,this.R=L||1,this.U=new Pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var Ko={},Da={};function Ai(h,E,S){h.L=1,h.v=Hs(Xn(E)),h.m=S,h.P=!0,lr(h,null)}function lr(h,E){h.F=Date.now(),Bs(h),h.A=Xn(h.v);var S=h.A,L=h.R;Array.isArray(L)||(L=[String(L)]),Jo(S.i,"t",L),h.C=0,S=h.j.J,h.h=new qt,h.g=Zu(h.j,S?E:null,!h.m),0<h.O&&(h.M=new kt(v(h.Y,h,h.g),h.O)),E=h.U,S=h.g,L=h.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(tn[0]=ne.toString()),ne=tn);for(var ce=0;ce<ne.length;ce++){var ve=Mt(S,ne[ce],L||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),In(),$o(h.i,h.u,h.A,h.l,h.R,h.m)}Un.prototype.ca=function(h){h=h.target;const E=this.M;E&&hi(h)==3?E.j():this.Y(h)},Un.prototype.Y=function(h){try{if(h==this.g)e:{const sn=hi(this.g);var E=this.g.Ba();const gr=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||Hu(this.g)))){this.J||sn!=4||E==7||(E==8||0>=gr?In(3):In(2)),Hr(this);var S=this.g.Z();this.X=S;t:if(Uu(this)){var L=Hu(this.g);h="";var ne=L.length,ce=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Vi(this);var ve="";break t}this.h.i=new d.TextDecoder}for(E=0;E<ne;E++)this.h.h=!0,h+=this.h.i.decode(L[E],{stream:!(ce&&E==ne-1)});L.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=S==200,Cf(this.i,this.u,this.A,this.l,this.R,sn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,rn=this.g;if((We=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(We)){var Ze=We;break t}}Ze=null}if(S=Ze)qr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,S);else{this.o=!1,this.s=3,Ct(12),_n(this),Vi(this);break e}}if(this.P){S=!0;let En;for(;!this.J&&this.C<ve.length;)if(En=Lu(this,ve),En==Da){sn==4&&(this.s=4,Ct(14),S=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Ko){this.s=4,Ct(15),qr(this.i,this.l,ve,"[Invalid Chunk]"),S=!1;break}else qr(this.i,this.l,En,null),zs(this,En);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||ve.length!=0||this.h.h||(this.s=1,Ct(16),S=!1),this.o=this.o&&S,!S)qr(this.i,this.l,ve,"[Invalid Chunked Response]"),_n(this),Vi(this);else if(0<ve.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Zs(fn),fn.M=!0,Ct(11))}}else qr(this.i,this.l,ve,null),zs(this,ve);sn==4&&_n(this),this.o&&!this.J&&(sn==4?Yu(this.j,this):(this.o=!1,Bs(this)))}else Of(this.g),S==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),_n(this),Vi(this)}}}catch{}finally{}};function Uu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Lu(h,E){var S=h.C,L=E.indexOf(`
`,S);return L==-1?Da:(S=Number(E.substring(S,L)),isNaN(S)?Ko:(L+=1,L+S>E.length?Da:(E=E.slice(L,L+S),h.C=L+S,E)))}Un.prototype.cancel=function(){this.J=!0,_n(this)};function Bs(h){h.S=Date.now()+h.I,ju(h,h.I)}function ju(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Kt(v(h.ba,h),E)}function Hr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Vu(this.i,this.A),this.L!=2&&(In(),Ct(17)),_n(this),this.s=2,Vi(this)):ju(this,this.S-h)};function Vi(h){h.j.G==0||h.J||Yu(h.j,h)}function _n(h){Hr(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,he(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function zs(h,E){try{var S=h.j;if(S.G!=0&&(S.g==h||Qo(S.h,h))){if(!h.K&&Qo(S.h,h)&&S.G==3){try{var L=S.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var ne=L;if(ne[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Fa(S),za(S);else break e;rl(S),Ct(18)}}else S.za=ne[1],0<S.za-S.T&&37500>ne[2]&&S.F&&S.v==0&&!S.C&&(S.C=Kt(v(S.Za,S),6e3));if(1>=Ma(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else pr(S,11)}else if((h.K||S.g==h)&&Fa(S),!G(E))for(ne=S.Da.g.parse(E),E=0;E<ne.length;E++){let Ze=ne[E];if(S.T=Ze[0],Ze=Ze[1],S.G==2)if(Ze[0]=="c"){S.K=Ze[1],S.ia=Ze[2];const fn=Ze[3];fn!=null&&(S.la=fn,S.j.info("VER="+S.la));const sn=Ze[4];sn!=null&&(S.Aa=sn,S.j.info("SVER="+S.Aa));const gr=Ze[5];gr!=null&&typeof gr=="number"&&0<gr&&(L=1.5*gr,S.L=L,S.j.info("backChannelRequestTimeoutMs_="+L)),L=S;const En=h.g;if(En){const Fi=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var ce=L.h;ce.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(ka(ce,ce.h),ce.h=null))}if(L.D){const al=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(L.ya=al,gt(L.I,L.D,al))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),L=S;var ve=h;if(L.qa=Wu(L,L.J?L.ia:null,L.W),ve.K){Ln(L.h,ve);var We=ve,rn=L.L;rn&&(We.I=rn),We.B&&(Hr(We),Bs(We)),L.g=ve}else Ku(L);0<S.i.length&&qa(S)}else Ze[0]!="stop"&&Ze[0]!="close"||pr(S,7);else S.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?pr(S,7):nl(S):Ze[0]!="noop"&&S.l&&S.l.ta(Ze),S.v=0)}}In(4)}catch{}}var Bu=class{constructor(h,E){this.g=h,this.map=E}};function ur(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ma(h){return h.h?1:h.g?h.g.size:0}function Qo(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function ka(h,E){h.g?h.g.add(E):h.h=E}function Ln(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}ur.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Yo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const S of h.g.values())E=E.concat(S.D);return E}return V(h.i)}function If(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var E=[],S=h.length,L=0;L<S;L++)E.push(h[L]);return E}E=[],S=0;for(L in h)E[S++]=h[L];return E}function Pa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var E=[];h=h.length;for(var S=0;S<h;S++)E.push(S);return E}E=[],S=0;for(const L in h)E[S++]=L;return E}}}function Xo(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var S=Pa(h),L=If(h),ne=L.length,ce=0;ce<ne;ce++)E.call(void 0,L[ce],S&&S[ce],h)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(h,E){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var L=h[S].indexOf("="),ne=null;if(0<=L){var ce=h[S].substring(0,L);ne=h[S].substring(L+1)}else ce=h[S];E(ce,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Qt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qt){this.h=h.h,Fs(this,h.j),this.o=h.o,this.g=h.g,Gr(this,h.s),this.l=h.l;var E=h.i,S=new hr;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),cr(this,S),this.m=h.m}else h&&(E=String(h).match(qs))?(this.h=!1,Fs(this,E[1]||"",!0),this.o=li(E[2]||""),this.g=li(E[3]||"",!0),Gr(this,E[4]),this.l=li(E[5]||"",!0),cr(this,E[6]||"",!0),this.m=li(E[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Qt.prototype.toString=function(){var h=[],E=this.j;E&&h.push(Gs(E,Wo,!0),":");var S=this.g;return(S||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Gs(E,Wo,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Gs(S,S.charAt(0)=="/"?Nf:Zo,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Gs(S,Va)),h.join("")};function Xn(h){return new Qt(h)}function Fs(h,E,S){h.j=S?li(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function Gr(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function cr(h,E,S){E instanceof hr?(h.i=E,qu(h.i,h.h)):(S||(E=Gs(E,Df)),h.i=new hr(E,h.h))}function gt(h,E,S){h.i.set(E,S)}function Hs(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function li(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gs(h,E,S){return typeof h=="string"?(h=encodeURI(h).replace(E,zu),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function zu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Wo=/[#\/\?@]/g,Zo=/[#\?:]/g,Nf=/[#\?]/g,Df=/[#\?@]/g,Va=/#/g;function hr(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function ui(h){h.g||(h.g=new Map,h.h=0,h.i&&xf(h.i,function(E,S){h.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}i=hr.prototype,i.add=function(h,E){ui(this),this.i=null,h=Ui(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(E),this.h+=1,this};function fr(h,E){ui(h),E=Ui(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function dr(h,E){return ui(h),E=Ui(h,E),h.g.has(E)}i.forEach=function(h,E){ui(this),this.g.forEach(function(S,L){S.forEach(function(ne){h.call(E,ne,L,this)},this)},this)},i.na=function(){ui(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let L=0;L<E.length;L++){const ne=h[L];for(let ce=0;ce<ne.length;ce++)S.push(E[L])}return S},i.V=function(h){ui(this);let E=[];if(typeof h=="string")dr(this,h)&&(E=E.concat(this.g.get(Ui(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)E=E.concat(h[S])}return E},i.set=function(h,E){return ui(this),this.i=null,h=Ui(this,h),dr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},i.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function Jo(h,E,S){fr(h,E),0<S.length&&(h.i=null,h.g.set(Ui(h,E),V(S)),h.h+=S.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var L=E[S];const ce=encodeURIComponent(String(L)),ve=this.V(L);for(L=0;L<ve.length;L++){var ne=ce;ve[L]!==""&&(ne+="="+encodeURIComponent(String(ve[L]))),h.push(ne)}}return this.i=h.join("&")};function Ui(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function qu(h,E){E&&!h.j&&(ui(h),h.i=null,h.g.forEach(function(S,L){var ne=L.toLowerCase();L!=ne&&(fr(this,L),Jo(this,ne,S))},h)),h.j=E}function $s(h,E){const S=new oi;if(d.Image){const L=new Image;L.onload=A(ci,S,"TestLoadImage: loaded",!0,E,L),L.onerror=A(ci,S,"TestLoadImage: error",!1,E,L),L.onabort=A(ci,S,"TestLoadImage: abort",!1,E,L),L.ontimeout=A(ci,S,"TestLoadImage: timeout",!1,E,L),d.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else E(!1)}function Si(h,E){const S=new oi,L=new AbortController,ne=setTimeout(()=>{L.abort(),ci(S,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:L.signal}).then(ce=>{clearTimeout(ne),ce.ok?ci(S,"TestPingServer: ok",!0,E):ci(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ne),ci(S,"TestPingServer: error",!1,E)})}function ci(h,E,S,L,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),L(S)}catch{}}function Ks(){this.g=new Pe}function Li(h,E,S){const L=S||"";try{Xo(h,function(ne,ce){let ve=ne;p(ne)&&(ve=ke(ne)),E.push(L+ce+"="+encodeURIComponent(ve))})}catch(ne){throw E.push(L+"type="+encodeURIComponent("_badmap")),ne}}function $r(h){this.l=h.Ub||null,this.j=h.eb||!1}C($r,Fe),$r.prototype.g=function(){return new mr(this.l,this.j)},$r.prototype.i=function(h){return function(){return h}}({});function mr(h,E){Ke.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(mr,Ke),i=mr.prototype,i.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,Bi(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?ji(this):Bi(this),this.readyState==3&&el(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,ji(this))},i.Qa=function(h){this.g&&(this.response=h,ji(this))},i.ga=function(){this.g&&ji(this)};function ji(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Bi(h)}i.setRequestHeader=function(h,E){this.u.append(h,E)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=E.next();return h.join(`\r
`)};function Bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function tl(h){let E="";return z(h,function(S,L){E+=L,E+=":",E+=S,E+=`\r
`}),E}function hn(h,E,S){e:{for(L in S){var L=!1;break e}L=!0}L||(S=tl(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):gt(h,E,S))}function ft(h){Ke.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ft,Ke);var Ua=/^https?$/i,Qs=["POST","PUT"];i=ft.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,E,S,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ki.g(),this.v=this.o?st(this.o):st(ki),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(ce){Fu(this,ce);return}if(h=S||"",S=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var ne in L)S.set(ne,L[ne]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ce of L.keys())S.set(ce,L.get(ce));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(S.keys()).find(ce=>ce.toLowerCase()=="content-type"),ne=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qs,E,void 0))||L||ne||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,ve]of S)this.g.setRequestHeader(ce,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(ce){Fu(this,ce)}};function Fu(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,La(h),zi(h)}function La(h){h.A||(h.A=!0,qe(h,"complete"),qe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,qe(this,"complete"),qe(this,"abort"),zi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},i.bb=function(){ja(this)};function ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||hi(h)!=4||h.Z()!=2)){if(h.u&&hi(h)==4)bt(h.Ea,0,h);else if(qe(h,"readystatechange"),hi(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var L;if(L=ve===0){var ne=String(h.D).match(qs)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),L=!Ua.test(ne?ne.toLowerCase():"")}S=L}if(S)qe(h,"complete"),qe(h,"success");else{h.m=6;try{var ce=2<hi(h)?h.g.statusText:""}catch{ce=""}h.l=ce+" ["+h.Z()+"]",La(h)}}finally{zi(h)}}}}function zi(h,E){if(h.g){Ys(h);const S=h.g,L=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||qe(h,"ready");try{S.onreadystatechange=L}catch{}}}function Ys(h){h.I&&(d.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function hi(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),ht(E)}};function Hu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(h){const E={};h=(h.g&&2<=hi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(G(h[L]))continue;var S=D(h[L]);const ne=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ce=E[ne]||[];E[ne]=ce,ce.push(S)}P(E,function(L){return L.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(h,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||E}function Ba(h){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,h),this.cb=Xs("retryDelaySeedMs",1e4,h),this.Wa=Xs("forwardChannelMaxRetries",2,h),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ur(h&&h.concurrentRequestLimit),this.Da=new Ks,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ba.prototype,i.la=8,i.G=1,i.connect=function(h,E,S,L){Ct(0),this.W=h,this.H=E||{},S&&L!==void 0&&(this.H.OSID=S,this.H.OAID=L),this.F=this.X,this.I=Wu(this,null,this.W),qa(this)};function nl(h){if(Gu(h),h.G==3){var E=h.U++,S=Xn(h.I);if(gt(S,"SID",h.K),gt(S,"RID",E),gt(S,"TYPE","terminate"),Ws(h,S),E=new Un(h,h.j,E),E.L=2,E.v=Hs(Xn(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&d.Image&&(new Image().src=E.v,S=!0),S||(E.g=Zu(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Bs(E)}Xu(h)}function za(h){h.g&&(Zs(h),h.g.cancel(),h.g=null)}function Gu(h){za(h),h.u&&(d.clearTimeout(h.u),h.u=null),Fa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function qa(h){if(!Oa(h.h)&&!h.s){h.s=!0;var E=h.Ga;O||U(),ae||(O(),ae=!0),W.add(E,h),h.B=0}}function Mf(h,E){return Ma(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Kt(v(h.Ga,h,E),sl(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ne=new Un(this,this.j,h);let ce=this.o;if(this.S&&(ce?(ce=b(ce),x(ce,this.S)):ce=this.S),this.m!==null||this.O||(ne.H=ce,ce=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var L=this.i[S];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=$u(this,ne,E),S=Xn(this.I),gt(S,"RID",h),gt(S,"CVER",22),this.D&&gt(S,"X-HTTP-Session-Id",this.D),Ws(this,S),ce&&(this.O?E="headers="+encodeURIComponent(String(tl(ce)))+"&"+E:this.m&&hn(S,this.m,ce)),ka(this.h,ne),this.Ua&&gt(S,"TYPE","init"),this.P?(gt(S,"$req",E),gt(S,"SID","null"),ne.T=!0,Ai(ne,S,null)):Ai(ne,S,E),this.G=2}}else this.G==3&&(h?il(this,h):this.i.length==0||Oa(this.h)||il(this))};function il(h,E){var S;E?S=E.l:S=h.U++;const L=Xn(h.I);gt(L,"SID",h.K),gt(L,"RID",S),gt(L,"AID",h.T),Ws(h,L),h.m&&h.o&&hn(L,h.m,h.o),S=new Un(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),E&&(h.i=E.D.concat(h.i)),E=$u(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ka(h.h,S),Ai(S,L,E)}function Ws(h,E){h.H&&z(h.H,function(S,L){gt(E,L,S)}),h.l&&Xo({},function(S,L){gt(E,L,S)})}function $u(h,E,S){S=Math.min(h.i.length,S);var L=h.l?v(h.l.Na,h.l,h):null;e:{var ne=h.i;let ce=-1;for(;;){const ve=["count="+S];ce==-1?0<S?(ce=ne[0].g,ve.push("ofs="+ce)):ce=0:ve.push("ofs="+ce);let We=!0;for(let rn=0;rn<S;rn++){let Ze=ne[rn].g;const fn=ne[rn].map;if(Ze-=ce,0>Ze)ce=Math.max(0,ne[rn].g-100),We=!1;else try{Li(fn,ve,"req"+Ze+"_")}catch{L&&L(fn)}}if(We){L=ve.join("&");break e}}}return h=h.i.splice(0,S),E.D=h,L}function Ku(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;O||U(),ae||(O(),ae=!0),W.add(E,h),h.v=0}}function rl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Kt(v(h.Fa,h),sl(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Kt(v(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),za(this),Qu(this))};function Zs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Qu(h){h.g=new Un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Xn(h.qa);gt(E,"RID","rpc"),gt(E,"SID",h.K),gt(E,"AID",h.T),gt(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(E,"TO",h.ja),gt(E,"TYPE","xmlhttp"),Ws(h,E),h.m&&h.o&&hn(E,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=Hs(Xn(E)),S.m=null,S.P=!0,lr(S,h)}i.Za=function(){this.C!=null&&(this.C=null,za(this),rl(this),Ct(19))};function Fa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Yu(h,E){var S=null;if(h.g==E){Fa(h),Zs(h),h.g=null;var L=2}else if(Qo(h.h,E))S=E.D,Ln(h.h,E),L=1;else return;if(h.G!=0){if(E.o)if(L==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var ne=h.B;L=wi(),qe(L,new nn(L,S)),qa(h)}else Ku(h);else if(ne=E.s,ne==3||ne==0&&0<E.X||!(L==1&&Mf(h,E)||L==2&&rl(h)))switch(S&&0<S.length&&(E=h.h,E.i=E.i.concat(S)),ne){case 1:pr(h,5);break;case 4:pr(h,10);break;case 3:pr(h,6);break;default:pr(h,2)}}}function sl(h,E){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*E}function pr(h,E){if(h.j.info("Error code "+E),E==2){var S=v(h.fb,h),L=h.Xa;const ne=!L;L=new Qt(L||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fs(L,"https"),Hs(L),ne?$s(L.toString(),S):Si(L.toString(),S)}else Ct(2);h.G=0,h.l&&h.l.sa(E),Xu(h),Gu(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Xu(h){if(h.G=0,h.ka=[],h.l){const E=Yo(h.h);(E.length!=0||h.i.length!=0)&&(B(h.ka,E),B(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function Wu(h,E,S){var L=S instanceof Qt?Xn(S):new Qt(S);if(L.g!="")E&&(L.g=E+"."+L.g),Gr(L,L.s);else{var ne=d.location;L=ne.protocol,E=E?E+"."+ne.hostname:ne.hostname,ne=+ne.port;var ce=new Qt(null);L&&Fs(ce,L),E&&(ce.g=E),ne&&Gr(ce,ne),S&&(ce.l=S),L=ce}return S=h.D,E=h.ya,S&&E&&gt(L,S,E),gt(L,"VER",h.la),Ws(h,L),L}function Zu(h,E,S){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new ft(new $r({eb:S})):new ft(h.pa),E.Ha(h.J),E}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ha(){}Ha.prototype.g=function(h,E){return new jn(h,E)};function jn(h,E){Ke.call(this),this.g=new Ba(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!G(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!G(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new qi(this)}C(jn,Ke),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){nl(this.g)},jn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=ke(h),h=S);E.i.push(new Bu(E.Ya++,h)),E.G==3&&qa(E)},jn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,jn.aa.N.call(this)};function ec(h){zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const S in E){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}C(ec,zt);function tc(){Cn.call(this),this.status=1}C(tc,Cn);function qi(h){this.g=h}C(qi,Ju),qi.prototype.ua=function(){qe(this.g,"a")},qi.prototype.ta=function(h){qe(this.g,new ec(h))},qi.prototype.sa=function(h){qe(this.g,new tc)},qi.prototype.ra=function(){qe(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,xE=function(){return new Ha},IE=function(){return wi()},CE=vn,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,dh=Fr,or.COMPLETE="complete",RE=or,at.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Jl=at,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,SE=ft}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",T0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Pp("@firebase/firestore");function Eo(){return Ta.logLevel}function _e(i,...e){if(Ta.logLevel<=Qe.DEBUG){const t=e.map(Lp);Ta.debug(`Firestore (${Bo}): ${i}`,...t)}}function Ur(i,...e){if(Ta.logLevel<=Qe.ERROR){const t=e.map(Lp);Ta.error(`Firestore (${Bo}): ${i}`,...t)}}function No(i,...e){if(Ta.logLevel<=Qe.WARN){const t=e.map(Lp);Ta.warn(`Firestore (${Bo}): ${i}`,...t)}}function Lp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,NE(i,s,t)}function NE(i,e,t){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ur(s),new Error(s)}function dt(i,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,i||NE(e,a,s)}function Me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mn.UNAUTHENTICATED))}shutdown(){}}class lC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uC{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ss,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ss)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dt(typeof s.accessToken=="string",31837,{l:s}),new DE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class cC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new cC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const s=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new b0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=dC(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Be(i,e){return i<e?-1:i>e?1:0}function tp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return Be(s,a);{const l=OE(),c=mC(l.encode(w0(i,t)),l.encode(w0(e,t)));return c!==0?c:Be(s,a)}}t+=s>65535?2:1}return Be(i.length,e.length)}function w0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function mC(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Be(i[t],e[t]);return Be(i.length,e.length)}function Do(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=-62135596800,S0=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*S0);return new un(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<A0)throw new Ee(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new un(0,0))}static max(){return new Oe(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__name__";class Yi{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&xe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Yi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const s=Yi.isNumericId(e),a=Yi.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Yi.extractNumericId(e).compare(Yi.extractNumericId(t)):tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class Rt extends Yi{construct(e,t,s){return new Rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(ge.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Rt(t)}static emptyPath(){return new Rt([])}}const pC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Yi{construct(e,t,s){return new Sn(e,t,s)}static isValidIdentifier(e){return pC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new Sn([R0])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new Ee(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ee(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new Ee(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Rt.fromString(e))}static fromName(e){return new Ae(Rt.fromString(e).popFirst(5))}static empty(){return new Ae(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function gC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new un(t+1,0):new un(t,s));return new Is(a,Ae.empty(),e)}function yC(i){return new Is(i.readTime,i.key,du)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(Oe.min(),Ae.empty(),du)}static max(){return new Is(Oe.max(),Ae.empty(),du)}}function vC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(i.documentKey,e.documentKey),t!==0?t:Be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(i){if(i.code!==ge.FAILED_PRECONDITION||i.message!==_C)throw i;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,s)=>{t(e)})}static reject(e){return new pe((t,s)=>{s(e)})}static waitFor(e){return new pe((t,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>s(m))}),c=!0,l===a&&t()})}static or(e){let t=pe.resolve(!1);for(const s of e)t=t.next(a=>a?pe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new pe((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(y=>{c[p]=y,++d,d===l&&s(c)},y=>a(y))}})}static doWhile(e,t){return new pe((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function TC(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}tf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=-1;function nf(i){return i==null}function Ih(i){return i===0&&1/i==-1/0}function bC(i){return typeof i=="number"&&Number.isInteger(i)&&!Ih(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function wC(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=C0(e)),e=AC(i.get(t),e);return C0(e)}function AC(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case kE:t+="";break;default:t+=l}}return t}function C0(i){return i+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function PE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??An.RED,this.left=a??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new An(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return An.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(e){return new x0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cn(this.comparator);return t.data=e,t}}class x0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new si([])}unionWith(e){let t=new cn(Sn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VE("Invalid base64 string: "+l):l}}(e);return new Rn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const SC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(i){if(dt(!!i,39018),typeof i=="string"){let e=0;const t=SC.exec(i);if(dt(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gt(i.seconds),nanos:Gt(i.nanos)}}function Gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ns(i){return typeof i=="string"?Rn.fromBase64String(i):Rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="server_timestamp",LE="__type__",jE="__previous_value__",BE="__local_write_time__";function Bp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||t===void 0?void 0:t.stringValue)===UE}function rf(i){const e=i.mapValue.fields[jE];return Bp(e)?rf(e):e}function mu(i){const e=xs(i.mapValue.fields[BE].timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,s,a,l,c,d,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const xh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__type__",CC="__max__",sh={mapValue:{}},qE="__vector__",Nh="value";function Ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:xC(i)?9007199254740991:IC(i)?10:11:xe(28295,{value:i})}function ir(i,e){if(i===e)return!0;const t=Ds(i);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return mu(i).isEqual(mu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=xs(a.timestampValue),d=xs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,l){return Ns(a.bytesValue).isEqual(Ns(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,l){return Gt(a.geoPointValue.latitude)===Gt(l.geoPointValue.latitude)&&Gt(a.geoPointValue.longitude)===Gt(l.geoPointValue.longitude)}(i,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Gt(a.integerValue)===Gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Gt(a.doubleValue),d=Gt(l.doubleValue);return c===d?Ih(c)===Ih(d):isNaN(c)&&isNaN(d)}return!1}(i,e);case 9:return Do(i.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(I0(c)!==I0(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ir(c[m],d[m])))return!1;return!0}(i,e);default:return xe(52216,{left:i})}}function gu(i,e){return(i.values||[]).find(t=>ir(t,e))!==void 0}function Oo(i,e){if(i===e)return 0;const t=Ds(i),s=Ds(e);if(t!==s)return Be(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Gt(l.integerValue||l.doubleValue),m=Gt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return N0(i.timestampValue,e.timestampValue);case 4:return N0(mu(i),mu(e));case 5:return tp(i.stringValue,e.stringValue);case 6:return function(l,c){const d=Ns(l),m=Ns(c);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Be(d[p],m[p]);if(y!==0)return y}return Be(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Be(Gt(l.latitude),Gt(c.latitude));return d!==0?d:Be(Gt(l.longitude),Gt(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return D0(i.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,p,y;const _=l.fields||{},v=c.fields||{},A=(d=_[Nh])===null||d===void 0?void 0:d.arrayValue,C=(m=v[Nh])===null||m===void 0?void 0:m.arrayValue,V=Be(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:D0(A,C)}(i.mapValue,e.mapValue);case 11:return function(l,c){if(l===sh.mapValue&&c===sh.mapValue)return 0;if(l===sh.mapValue)return 1;if(c===sh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const v=tp(m[_],y[_]);if(v!==0)return v;const A=Oo(d[m[_]],p[y[_]]);if(A!==0)return A}return Be(m.length,y.length)}(i.mapValue,e.mapValue);default:throw xe(23264,{Pe:t})}}function N0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const t=xs(i),s=xs(e),a=Be(t.seconds,s.seconds);return a!==0?a:Be(t.nanos,s.nanos)}function D0(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Oo(t[a],s[a]);if(l)return l}return Be(t.length,s.length)}function Mo(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=xs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ns(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ae.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=np(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${np(t.fields[c])}`;return a+"}"}(i.mapValue):xe(61005,{value:i})}function mh(i){switch(Ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(i);return e?16+mh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ns(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+mh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Us(s.fields,(l,c)=>{a+=l.length+mh(c)}),a}(i.mapValue);default:throw xe(13486,{value:i})}}function O0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ip(i){return!!i&&"integerValue"in i}function zp(i){return!!i&&"arrayValue"in i}function M0(i){return!!i&&"nullValue"in i}function k0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function IC(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[zE])===null||t===void 0?void 0:t.stringValue)===qE}function ru(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Us(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ru(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(i.arrayValue.values[t]);return e}return Object.assign({},i)}function xC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===CC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=Sn.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=ru(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Us(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Yn(ru(this.value))}}function FE(i){const e=[];return Us(i.fields,(t,s)=>{const a=new Sn([t]);if(ph(s)){const l=FE(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new kn(e,0,Oe.min(),Oe.min(),Oe.min(),Yn.empty(),0)}static newFoundDocument(e,t,s,a){return new kn(e,1,t,Oe.min(),s,a,0)}static newNoDocument(e,t){return new kn(e,2,t,Oe.min(),Oe.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,Oe.min(),Oe.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t){this.position=e,this.inclusive=t}}function P0(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?s=Ae.comparator(Ae.fromName(c.referenceValue),t.key):s=Oo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function V0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ir(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function NC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class Zt extends HE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new OC(e,t,s):t==="array-contains"?new PC(e,s):t==="in"?new VC(e,s):t==="not-in"?new UC(e,s):t==="array-contains-any"?new LC(e,s):new Zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new MC(e,s):new kC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oo(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends HE{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Di(e,t)}matches(e){return GE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GE(i){return i.op==="and"}function $E(i){return DC(i)&&GE(i)}function DC(i){for(const e of i.filters)if(e instanceof Di)return!1;return!0}function rp(i){if(i instanceof Zt)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if($E(i))return i.filters.map(e=>rp(e)).join(",");{const e=i.filters.map(t=>rp(t)).join(",");return`${i.op}(${e})`}}function KE(i,e){return i instanceof Zt?function(s,a){return a instanceof Zt&&s.op===a.op&&s.field.isEqual(a.field)&&ir(s.value,a.value)}(i,e):i instanceof Di?function(s,a){return a instanceof Di&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&KE(c,a.filters[d]),!0):!1}(i,e):void xe(19439)}function QE(i){return i instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(i):i instanceof Di?function(t){return t.op.toString()+" {"+t.getFilters().map(QE).join(" ,")+"}"}(i):"Filter"}class OC extends Zt{constructor(e,t,s){super(e,t,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class MC extends Zt{constructor(e,t){super(e,"in",t),this.keys=YE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kC extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=YE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YE(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class PC extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zp(t)&&gu(t.arrayValue,this.value)}}class VC extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class UC extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class LC extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function U0(i,e=null,t=[],s=[],a=null,l=null,c=null){return new jC(i,e,t,s,a,l,c)}function qp(i){const e=Me(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>rp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Mo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Mo(s)).join(",")),e.Ie=t}return e.Ie}function Fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!NC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!KE(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!V0(i.startAt,e.startAt)&&V0(i.endAt,e.endAt)}function sp(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BC(i,e,t,s,a,l,c,d){return new Su(i,e,t,s,a,l,c,d)}function sf(i){return new Su(i)}function L0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XE(i){return i.collectionGroup!==null}function su(i){const e=Me(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new cn(Sn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Oh(l,s))}),t.has(Sn.keyField().canonicalString())||e.Ee.push(new Oh(Sn.keyField(),s))}return e.Ee}function Ji(i){const e=Me(i);return e.de||(e.de=zC(e,su(i))),e.de}function zC(i,e){if(i.limitType==="F")return U0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Oh(a.field,l)});const t=i.endAt?new Dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dh(i.startAt.position,i.startAt.inclusive):null;return U0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function ap(i,e){const t=i.filters.concat([e]);return new Su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function op(i,e,t){return new Su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function af(i,e){return Fp(Ji(i),Ji(e))&&i.limitType===e.limitType}function WE(i){return`${qp(Ji(i))}|lt:${i.limitType}`}function To(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>QE(a)).join(", ")}]`),nf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Mo(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Mo(a)).join(",")),`Target(${s})`}(Ji(i))}; limitType=${i.limitType})`}function of(i,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ae.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,a){for(const l of su(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(c,d,m){const p=P0(c,d,m);return c.inclusive?p<=0:p<0}(s.startAt,su(s),a)||s.endAt&&!function(c,d,m){const p=P0(c,d,m);return c.inclusive?p>=0:p>0}(s.endAt,su(s),a))}(i,e)}function qC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZE(i){return(e,t)=>{let s=!1;for(const a of su(i)){const l=FC(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function FC(i,e,t){const s=i.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Oo(m,p):xe(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Ot(Ae.comparator);function Lr(){return HC}const JE=new Ot(Ae.comparator);function eu(...i){let e=JE;for(const t of i)e=e.insert(t.key,t);return e}function eT(i){let e=JE;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function pa(){return au()}function tT(){return au()}function au(){return new Ia(i=>i.toString(),(i,e)=>i.isEqual(e))}const GC=new Ot(Ae.comparator),$C=new cn(Ae.comparator);function Ye(...i){let e=$C;for(const t of i)e=e.add(t);return e}const KC=new cn(Be);function QC(){return KC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function nT(i){return{integerValue:""+i}}function YC(i,e){return bC(e)?nT(e):Hp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function XC(i,e,t){return i instanceof Mh?function(a,l){const c={fields:{[LE]:{stringValue:UE},[BE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Bp(l)&&(l=rf(l)),l&&(c.fields[jE]=l),{mapValue:c}}(t,e):i instanceof yu?rT(i,e):i instanceof vu?sT(i,e):function(a,l){const c=iT(a,l),d=j0(c)+j0(a.Re);return ip(c)&&ip(a.Re)?nT(d):Hp(a.serializer,d)}(i,e)}function WC(i,e,t){return i instanceof yu?rT(i,e):i instanceof vu?sT(i,e):t}function iT(i,e){return i instanceof kh?function(s){return ip(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Mh extends lf{}class yu extends lf{constructor(e){super(),this.elements=e}}function rT(i,e){const t=aT(e);for(const s of i.elements)t.some(a=>ir(a,s))||t.push(s);return{arrayValue:{values:t}}}class vu extends lf{constructor(e){super(),this.elements=e}}function sT(i,e){let t=aT(e);for(const s of i.elements)t=t.filter(a=>!ir(a,s));return{arrayValue:{values:t}}}class kh extends lf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function j0(i){return Gt(i.integerValue||i.doubleValue)}function aT(i){return zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ZC(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof yu&&a instanceof yu||s instanceof vu&&a instanceof vu?Do(s.elements,a.elements,ir):s instanceof kh&&a instanceof kh?ir(s.Re,a.Re):s instanceof Mh&&a instanceof Mh}(i.transform,e.transform)}class JC{constructor(e,t){this.version=e,this.transformResults=t}}class _i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class uf{}function oT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Gp(i.key,_i.none()):new Ru(i.key,i.data,_i.none());{const t=i.data,s=Yn.empty();let a=new cn(Sn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ls(i.key,s,new si(a.toArray()),_i.none())}}function eI(i,e,t){i instanceof Ru?function(a,l,c){const d=a.value.clone(),m=z0(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Ls?function(a,l,c){if(!gh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=z0(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(lT(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(i,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ou(i,e,t,s){return i instanceof Ru?function(l,c,d,m){if(!gh(l.precondition,c))return d;const p=l.value.clone(),y=q0(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ls?function(l,c,d,m){if(!gh(l.precondition,c))return d;const p=q0(l.fieldTransforms,m,c),y=c.data;return y.setAll(lT(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(i,e,t,s):function(l,c,d){return gh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(i,e,t)}function tI(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),l=iT(s.transform,a||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(s.field,l))}return t||null}function B0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Do(s,a,(l,c)=>ZC(l,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ru extends uf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ls extends uf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function z0(i,e,t){const s=new Map;dt(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,WC(c,d,t[a]))}return s}function q0(i,e,t){const s=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);s.set(a.field,XC(l,c,e))}return s}class Gp extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nI extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&eI(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=tT();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=oT(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(t,s)=>B0(t,s))&&Do(this.baseMutations,e.baseMutations,(t,s)=>B0(t,s))}}class $p{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){dt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return GC}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new $p(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,et;function aI(i){switch(i){case ge.OK:return xe(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function uT(i){if(i===void 0)return Ur("GRPC error has no .code"),ge.UNKNOWN;switch(i){case Wt.OK:return ge.OK;case Wt.CANCELLED:return ge.CANCELLED;case Wt.UNKNOWN:return ge.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ge.INTERNAL;case Wt.UNAVAILABLE:return ge.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ge.NOT_FOUND;case Wt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Wt.ABORTED:return ge.ABORTED;case Wt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Wt.DATA_LOSS:return ge.DATA_LOSS;default:return xe(39323,{code:i})}}(et=Wt||(Wt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new As([4294967295,4294967295],0);function F0(i){const e=OE().encode(i),t=new AE;return t.update(e),new Uint8Array(t.digest())}function H0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new As([t,s],0),new As([a,l],0)]}class Kp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new tu(`Invalid padding: ${t}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new tu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=As.fromNumber(this.pe)}we(e,t,s){let a=e.add(t.multiply(As.fromNumber(s)));return a.compare(oI)===1&&(a=new As([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=F0(e),[s,a]=H0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.be(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Kp(l,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=F0(e),[s,a]=H0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new cf(Oe.min(),a,new Ot(Be),Lr(),Ye())}}class Cu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Cu(s,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,s,a){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=a}}class cT{constructor(e,t){this.targetId=e,this.Ce=t}}class hT{constructor(e,t,s=Rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class G0{constructor(){this.Fe=0,this.Me=$0(),this.xe=Rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),t=Ye(),s=Ye();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}}),new Cu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=$0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lI{constructor(e){this.ze=e,this.je=new Map,this.He=Lr(),this.Je=ah(),this.Ye=ah(),this.Ze=new Ot(Be)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,s=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(sp(l))if(s===0){const c=new Ae(l.path);this.tt(t,c,kn.newNoDocument(c,Oe.min()))}else dt(s===1,20013,{expectedCount:s});else{const c=this.ut(t);if(c!==s){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ns(s).toUint8Array()}catch(m){if(m instanceof VE)return No("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Kp(c,a,l)}catch(m){return No(m instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&sp(d.target)){const m=new Ae(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,kn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let s=Ye();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new cf(e,t,this.Ze,this.He,s);return this.He=Lr(),this.Je=ah(),this.Ye=ah(),this.Ze=new Ot(Be),a}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new G0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new cn(Be),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new cn(Be),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new G0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ah(){return new Ot(Ae.comparator)}function $0(){return new Ot(Ae.comparator)}const uI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hI={and:"AND",or:"OR"};class fI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lp(i,e){return i.useProto3Json||nf(e)?e:{value:e}}function Ph(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function dI(i,e){return Ph(i,e.toTimestamp())}function er(i){return dt(!!i,49232),Oe.fromTimestamp(function(t){const s=xs(t);return new un(s.seconds,s.nanos)}(i))}function Qp(i,e){return up(i,e).canonicalString()}function up(i,e){const t=function(a){return new Rt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function dT(i){const e=Rt.fromString(i);return dt(vT(e),10190,{key:e.toString()}),e}function cp(i,e){return Qp(i.databaseId,e.path)}function Um(i,e){const t=dT(e);if(t.get(1)!==i.databaseId.projectId)throw new Ee(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ee(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ae(pT(t))}function mT(i,e){return Qp(i.databaseId,e)}function mI(i){const e=dT(i);return e.length===4?Rt.emptyPath():pT(e)}function hp(i){return new Rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pT(i){return dt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function K0(i,e,t){return{name:cp(i,e),fields:t.value.mapValue.fields}}function pI(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(dt(y===void 0||typeof y=="string",58123),Rn.fromBase64String(y||"")):(dt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Rn.fromUint8Array(y||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?ge.UNKNOWN:uT(p.code);return new Ee(y,p.message||"")}(c);t=new hT(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Um(i,s.document.name),l=er(s.document.updateTime),c=s.document.createTime?er(s.document.createTime):Oe.min(),d=new Yn({mapValue:{fields:s.document.fields}}),m=kn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];t=new yh(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Um(i,s.document),l=s.readTime?er(s.readTime):Oe.min(),c=kn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new yh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Um(i,s.document),l=s.removedTargetIds||[];t=new yh([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new sI(a,l),d=s.targetId;t=new cT(d,c)}}return t}function gI(i,e){let t;if(e instanceof Ru)t={update:K0(i,e.key,e.value)};else if(e instanceof Gp)t={delete:cp(i,e.key)};else if(e instanceof Ls)t={update:K0(i,e.key,e.data),updateMask:SI(e.fieldMask)};else{if(!(e instanceof nI))return xe(16599,{ft:e.type});t={verify:cp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Mh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof kh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw xe(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:dI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)}(i,e.precondition)),t}function yI(i,e){return i&&i.length>0?(dt(e!==void 0,14353),i.map(t=>function(a,l){let c=a.updateTime?er(a.updateTime):er(l);return c.isEqual(Oe.min())&&(c=er(l)),new JC(c,a.transformResults||[])}(t,e))):[]}function vI(i,e){return{documents:[mT(i,e.path)]}}function _I(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=mT(i,a);const l=function(p){if(p.length!==0)return yT(Di.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(v){return{field:bo(v.field),direction:bI(v.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=lp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function EI(i){let e=mI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){dt(s===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const v=gT(_);return v instanceof Di&&$E(v)?v.getFilters():[v]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(v=>function(C){return new Oh(wo(C.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(t.orderBy));let d=null;t.limit&&(d=function(_){let v;return v=typeof _=="object"?_.value:_,nf(v)?null:v}(t.limit));let m=null;t.startAt&&(m=function(_){const v=!!_.before,A=_.values||[];return new Dh(A,v)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const v=!_.before,A=_.values||[];return new Dh(A,v)}(t.endAt)),BC(e,a,c,l,d,"F",m,p)}function TI(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gT(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=wo(t.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=wo(t.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wo(t.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(i):i.fieldFilter!==void 0?function(t){return Zt.create(wo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Di.create(t.compositeFilter.filters.map(s=>gT(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(t.compositeFilter.op))}(i):xe(30097,{filter:i})}function bI(i){return uI[i]}function wI(i){return cI[i]}function AI(i){return hI[i]}function bo(i){return{fieldPath:i.canonicalString()}}function wo(i){return Sn.fromServerFormat(i.fieldPath)}function yT(i){return i instanceof Zt?function(t){if(t.op==="=="){if(k0(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(M0(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(k0(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(M0(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:wI(t.op),value:t.value}}}(i):i instanceof Di?function(t){const s=t.getFilters().map(a=>yT(a));return s.length===1?s[0]:{compositeFilter:{op:AI(t.op),filters:s}}}(i):xe(54877,{filter:i})}function SI(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,s,a,l=Oe.min(),c=Oe.min(),d=Rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.wt=e}}function CI(i){const e=EI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.Cn=new xI}addToCollectionParentIndex(e,t){return this.Cn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Is.min())}updateCollectionGroup(e,t,s){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class xI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new cn(Rt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new cn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(_T,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ko(0)}static lr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="LruGarbageCollector",NI=1048576;function X0([i,e],[t,s]){const a=Be(i,t);return a===0?Be(e,s):a}class DI{constructor(e){this.Er=e,this.buffer=new cn(X0),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();X0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(Y0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qo(t)?_e(Y0,"Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.mr(3e5)})}}class MI{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(tf.le);const s=new DI(t);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Q0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(s=_,d=Date.now(),this.removeTargets(e,s,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(_=>(p=Date.now(),Eo()<=Qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function kI(i,e){return new MI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.changes=new Ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?pe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&ou(s.mutation,a,si.empty(),un.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ye()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ye()){const a=pa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=eu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=pa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ye()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let l=Lr();const c=au(),d=function(){return au()}();return t.forEach((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ls)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ou(y.mutation,p,y.mutation.getFieldMask(),un.now())):c.set(p.key,si.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var _;return d.set(p,new VI(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const s=au();let a=new Ot((c,d)=>c-d),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let y=s.get(m)||si.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||Ye()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=tT();y.forEach(v=>{if(!l.has(v)){const A=oT(t.get(v),s.get(v));A!==null&&_.set(v,A),l=l.add(v)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return pe.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):pe.resolve(pa());let d=du,m=l;return c.next(p=>pe.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(v=>{m=m.insert(y,v)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Ye())).next(y=>({batchId:d,changes:eT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(s=>{let a=eu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=eu();return this.indexManager.getCollectionParents(e,l).next(d=>pe.forEach(d,m=>{const p=function(_,v){return new Su(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(y=>{y.forEach((_,v)=>{c=c.insert(_,v)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,kn.newInvalidDocument(y)))});let d=eu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&ou(y.mutation,p,si.empty(),un.now()),of(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return pe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:er(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:CI(a.bundledQuery),readTime:er(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.overlays=new Ot(Ae.comparator),this.Qr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=pa();return pe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.St(e,t,l)}),pe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),pe.resolve()}getOverlaysForCollection(e,t,s){const a=pa(),l=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Ot((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=pa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return pe.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new rI(t,s));let l=this.Qr.get(t);l===void 0&&(l=Ye(),this.Qr.set(t,l)),this.Qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.$r=new cn(gn.Ur),this.Kr=new cn(gn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new gn(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new gn(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new Ae(new Rt([])),s=new gn(t,e),a=new gn(t,e+1),l=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ae(new Rt([])),s=new gn(t,e),a=new gn(t,e+1);let l=Ye();return this.Kr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new gn(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class gn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ae.comparator(e.key,t.key)||Be(e.Zr,t.Zr)}static Wr(e,t){return Be(e.Zr,t.Zr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new cn(gn.Ur)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iI(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new gn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ti(s),l=a<0?0:a;return pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?jp:this.nr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new gn(t,0),a=new gn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);l.push(d)}),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new cn(Be);return t.forEach(a=>{const l=new gn(a,0),c=new gn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{s=s.add(d.Zr)})}),pe.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ae.isDocumentKey(l)||(l=l.child(""));const c=new gn(new Ae(l),0);let d=new cn(Be);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Zr)),!0)},c),pe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){dt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return pe.forEach(t.mutations,a=>{const l=new gn(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new gn(t,0),a=this.Xr.firstAfterOrEqual(s);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.ii=e,this.docs=function(){return new Ot(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return pe.resolve(s?s.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let s=Lr();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():kn.newInvalidDocument(a))}),pe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Lr();const c=t.path,d=new Ae(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||vC(yC(y),s)<=0||(a.has(y.key)||of(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return pe.resolve(l)}getAllFromCollectionGroup(e,t,s,a){xe(9500)}si(e,t){return pe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new FI(this)}getSize(e){return pe.resolve(this.size)}}class FI extends PI{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),pe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.persistence=e,this.oi=new Ia(t=>qp(t),Fp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Yp,this.targetCount=0,this.ui=ko.cr()}forEachTarget(e,t){return this.oi.forEach((s,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),pe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ko(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Tr(t),pe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),pe.waitFor(l).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return pe.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),pe.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),pe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return pe.resolve(s)}containsKey(e,t){return pe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.ci={},this.overlays={},this.li=new tf(0),this.hi=!1,this.hi=!0,this.Pi=new BI,this.referenceDelegate=e(this),this.Ti=new HI(this),this.indexManager=new II,this.remoteDocumentCache=function(a){return new qI(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new RI(t),this.Ei=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new zI(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){_e("MemoryPersistence","Starting transaction:",e);const a=new GI(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return pe.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class GI extends EC{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Vi=new Yp,this.mi=null}static fi(e){return new Xp(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),pe.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.gi,s=>{const a=Ae.fromPath(s);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return pe.or([()=>pe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Vh{constructor(e,t){this.persistence=e,this.yi=new Ia(s=>wC(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=kI(this,t)}static fi(e,t){return new Vh(e,t)}di(){}Ai(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return pe.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(l=>l?pe.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),pe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mh(e.data.value)),t}Dr(e,t,s){return pe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return pe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.ds=s,this.As=a}static Rs(e,t){let s=Ye(),a=Ye();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Wp(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return F2()?8:TC(Vn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new $I;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,s,a){return s.documentReadCount<this.gs?(Eo()<=Qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",To(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),pe.resolve()):(Eo()<=Qe.DEBUG&&_e("QueryEngine","Query:",To(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Eo()<=Qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",To(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(t))):pe.resolve())}ws(e,t){if(L0(t))return pe.resolve(null);let s=Ji(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=op(t,null,"F"),s=Ji(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Ye(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.vs(t,d);return this.Cs(t,p,c,m.readTime)?this.ws(e,op(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,s,a){return L0(t)||a.isEqual(Oe.min())?pe.resolve(null):this.ys.getDocuments(e,s).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,s,a)?pe.resolve(null):(Eo()<=Qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),To(t)),this.Fs(e,c,t,gC(a,du)).next(d=>d))})}vs(e,t){let s=new cn(ZE(e));return t.forEach((a,l)=>{of(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Eo()<=Qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",To(t)),this.ys.getDocumentsMatchingQuery(e,t,Is.min(),s)}Fs(e,t,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",QI=3e8;class YI{constructor(e,t,s,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Ot(Be),this.Os=new Ia(l=>qp(l),Fp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function XI(i,e,t,s){return new YI(i,e,t,s)}async function TT(i,e){const t=Me(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=Ye();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(s,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function WI(i,e){const t=Me(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const _=p.batch,v=_.keys();let A=pe.resolve();return v.forEach(C=>{A=A.next(()=>y.getEntry(m,C)).next(V=>{const B=p.docVersions.get(C);dt(B!==null,48541),V.version.compareTo(B)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function bT(i){const e=Me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function ZI(i,e){const t=Me(i),s=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((y,_)=>{const v=a.get(_);if(!v)return;d.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,_)));let A=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Rn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(_,A),function(V,B,j){return V.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=QI?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(v,A,y)&&d.push(t.Ti.updateTargetData(l,A))});let m=Lr(),p=Ye();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(JI(l,c,e.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!s.isEqual(Oe.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(_=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(y)}return pe.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.xs=a,l))}function JI(i,e,t){let s=Ye(),a=Ye();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let c=Lr();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):_e(Zp,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function ex(i,e){const t=Me(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function tx(i,e){const t=Me(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ti.getTargetData(s,e).next(l=>l?(a=l,pe.resolve(a)):t.Ti.allocateTargetId(s).next(c=>(a=new Ts(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function fp(i,e,t){const s=Me(i),a=s.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!qo(c))throw c;_e(Zp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function W0(i,e,t){const s=Me(i);let a=Oe.min(),l=Ye();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Me(m),v=_.Os.get(y);return v!==void 0?pe.resolve(_.xs.get(v)):_.Ti.getTargetData(p,y)}(s,c,Ji(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?l:Ye())).next(d=>(nx(s,qC(e),d),{documents:d,$s:l})))}function nx(i,e,t){let s=i.Ns.get(e)||Oe.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Ns.set(e,s)}class Z0{constructor(){this.activeTargetIds=QC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ix{constructor(){this.xo=new Z0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Z0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="ConnectivityMonitor";class e1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(J0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(J0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function dp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ax{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,t,s,a,l){const c=dp(),d=this.jo(e,t.toUriEncodedString());_e(Lm,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(d),y=Vs(p);return this.Jo(e,d,m,s,y).then(_=>(_e(Lm,`Received RPC '${e}' ${c}: `,_),_),_=>{throw No(Lm,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",s),_})}Yo(e,t,s,a,l,c){return this.zo(e,t,s,a,l)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const s=sx[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class lx extends ax{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=dp();return new Promise((d,m)=>{const p=new SE;p.setWithCredentials(!0),p.listenOnce(RE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dh.NO_ERROR:const _=p.getResponseJson();_e(Dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case dh.TIMEOUT:_e(Dn,`RPC '${e}' ${c} timed out`),m(new Ee(ge.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const v=p.getStatus();if(_e(Dn,`RPC '${e}' ${c} failed with status:`,v,"response text:",p.getResponseText()),v>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const V=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(G)>=0?G:ge.UNKNOWN}(C.status);m(new Ee(V,C.message))}else m(new Ee(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(ge.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{_e(Dn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);_e(Dn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",y,s,15)})}I_(e,t,s){const a=dp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=xE(),d=IE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const y=l.join("");_e(Dn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.E_(_);let v=!1,A=!1;const C=new ox({Zo:B=>{A?_e(Dn,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(v||(_e(Dn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),v=!0),_e(Dn,`RPC '${e}' stream ${a} sending:`,B),_.send(B))},Xo:()=>_.close()}),V=(B,j,G)=>{B.listen(j,F=>{try{G(F)}catch(q){setTimeout(()=>{throw q},0)}})};return V(_,Jl.EventType.OPEN,()=>{A||(_e(Dn,`RPC '${e}' stream ${a} transport opened.`),C.__())}),V(_,Jl.EventType.CLOSE,()=>{A||(A=!0,_e(Dn,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(_))}),V(_,Jl.EventType.ERROR,B=>{A||(A=!0,No(Dn,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),C.u_(new Ee(ge.UNAVAILABLE,"The operation could not be completed")))}),V(_,Jl.EventType.MESSAGE,B=>{var j;if(!A){const G=B.data[0];dt(!!G,16349);const F=G,q=(F==null?void 0:F.error)||((j=F[0])===null||j===void 0?void 0:j.error);if(q){_e(Dn,`RPC '${e}' stream ${a} received error:`,q);const $=q.status;let z=function(w){const x=Wt[w];if(x!==void 0)return uT(x)}($),P=q.message;z===void 0&&(z=ge.INTERNAL,P="Unknown error status: "+$+" with message "+q.message),A=!0,C.u_(new Ee(z,P)),_.close()}else _e(Dn,`RPC '${e}' stream ${a} received:`,G),C.c_(G)}}),V(d,CE.STAT_EVENT,B=>{B.stat===ep.PROXY?_e(Dn,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===ep.NOPROXY&&_e(Dn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i){return new fI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t,s=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-s);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="PersistentStream";class AT{constructor(e,t,s,a,l,c,d,m){this.xi=e,this.S_=s,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wT(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===t&&this.z_(s,a)},s=>{e(()=>{const a=new Ee(ge.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(t1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(_e(t1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ux extends AT{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=pI(this.serializer,e),s=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?er(c.readTime):Oe.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=sp(m)?{documents:vI(l,m)}:{query:_I(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=fT(l,c.resumeToken);const p=lp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Ph(l,c.snapshotVersion.toTimestamp());const p=lp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const s=TI(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.Q_(t)}}class cx extends AT{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=yI(e.writeResults,e.commitTime),s=er(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=hp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>gI(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{}class fx extends hx{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ee(ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,up(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ge.UNKNOWN,l.toString())})}Yo(e,t,s,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,up(t,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ge.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class dx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ur(t),this.ua=!1):_e("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class mx{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{s.enqueueAndForget(async()=>{xa(this)&&(_e(ba,"Restarting streams for network reachability change."),await async function(m){const p=Me(m);p.da.add(4),await Iu(p),p.Va.set("Unknown"),p.da.delete(4),await ff(p)}(this))})}),this.Va=new dx(s,a)}}async function ff(i){if(xa(i))for(const e of i.Aa)await e(!0)}async function Iu(i){for(const e of i.Aa)await e(!1)}function ST(i,e){const t=Me(i);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),ng(t)?tg(t):Fo(t).N_()&&eg(t,e))}function Jp(i,e){const t=Me(i),s=Fo(t);t.Ea.delete(e),s.N_()&&RT(t,e),t.Ea.size===0&&(s.N_()?s.k_():xa(t)&&t.Va.set("Unknown"))}function eg(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(i).Z_(e)}function RT(i,e){i.ma.Ke(e),Fo(i).X_(e)}function tg(i){i.ma=new lI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Va.ca()}function ng(i){return xa(i)&&!Fo(i).O_()&&i.Ea.size>0}function xa(i){return Me(i).da.size===0}function CT(i){i.ma=void 0}async function px(i){i.Va.set("Online")}async function gx(i){i.Ea.forEach((e,t)=>{eg(i,e)})}async function yx(i,e){CT(i),ng(i)?(i.Va.Pa(e),tg(i)):i.Va.set("Unknown")}async function vx(i,e,t){if(i.Va.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(i,e)}catch(s){_e(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(i,s)}else if(e instanceof yh?i.ma.Xe(e):e instanceof cT?i.ma.ot(e):i.ma.nt(e),!t.isEqual(Oe.min()))try{const s=await bT(i.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l.Ea.get(m);if(!y)return;l.Ea.set(m,y.withResumeToken(Rn.EMPTY_BYTE_STRING,y.snapshotVersion)),RT(l,m);const _=new Ts(y.target,m,p,y.sequenceNumber);eg(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){_e(ba,"Failed to raise snapshot:",s),await Uh(i,s)}}async function Uh(i,e,t){if(!qo(e))throw e;i.da.add(1),await Iu(i),i.Va.set("Offline"),t||(t=()=>bT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{_e(ba,"Retrying IndexedDB access"),await t(),i.da.delete(1),await ff(i)})}function IT(i,e){return e().catch(t=>Uh(i,t,e))}async function df(i){const e=Me(i),t=Os(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:jp;for(;_x(e);)try{const a=await ex(e.localStore,s);if(a===null){e.Ia.length===0&&t.k_();break}s=a.batchId,Ex(e,a)}catch(a){await Uh(e,a)}xT(e)&&NT(e)}function _x(i){return xa(i)&&i.Ia.length<10}function Ex(i,e){i.Ia.push(e);const t=Os(i);t.N_()&&t.ea&&t.ta(e.mutations)}function xT(i){return xa(i)&&!Os(i).O_()&&i.Ia.length>0}function NT(i){Os(i).start()}async function Tx(i){Os(i).ia()}async function bx(i){const e=Os(i);for(const t of i.Ia)e.ta(t.mutations)}async function wx(i,e,t){const s=i.Ia.shift(),a=$p.from(s,e,t);await IT(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await df(i)}async function Ax(i,e){e&&Os(i).ea&&await async function(s,a){if(function(c){return aI(c)&&c!==ge.ABORTED}(a.code)){const l=s.Ia.shift();Os(s).L_(),await IT(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await df(s)}}(i,e),xT(i)&&NT(i)}async function n1(i,e){const t=Me(i);t.asyncQueue.verifyOperationInProgress(),_e(ba,"RemoteStore received new credentials");const s=xa(t);t.da.add(3),await Iu(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await ff(t)}async function Sx(i,e){const t=Me(i);e?(t.da.delete(2),await ff(t)):e||(t.da.add(2),await Iu(t),t.Va.set("Unknown"))}function Fo(i){return i.fa||(i.fa=function(t,s,a){const l=Me(t);return l.oa(),new ux(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{e_:px.bind(null,i),n_:gx.bind(null,i),i_:yx.bind(null,i),Y_:vx.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),ng(i)?tg(i):i.Va.set("Unknown")):(await i.fa.stop(),CT(i))})),i.fa}function Os(i){return i.ga||(i.ga=function(t,s,a){const l=Me(t);return l.oa(),new cx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:Tx.bind(null,i),i_:Ax.bind(null,i),na:bx.bind(null,i),ra:wx.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await df(i)):(await i.ga.stop(),i.Ia.length>0&&(_e(ba,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new ig(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(i,e){if(Ur("AsyncQueue",`${e}: ${i}`),qo(i))return new Ee(ge.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ae.comparator(t.key,s.key):(t,s)=>Ae.comparator(t.key,s.key),this.keyedMap=eu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.pa=new Ot(Ae.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Po{constructor(e,t,s,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Po(e,t,Ro.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Cx{constructor(){this.queries=r1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Me(t),l=a.queries;a.queries=r1(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new Ee(ge.ABORTED,"Firestore shutting down"))}}function r1(){return new Ia(i=>WE(i),af)}async function DT(i,e){const t=Me(i);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(s=2):(l=new Rx,s=e.va()?0:1);try{switch(s){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=rg(c,`Initialization of query '${To(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&sg(t)}async function OT(i,e){const t=Me(i),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Ix(i,e){const t=Me(i);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Ma(a)&&(s=!0);c.ba=a}}s&&sg(t)}function xx(i,e,t){const s=Me(i),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function sg(i){i.Ca.forEach(e=>{e.next()})}var mp,s1;(s1=mp||(mp={})).xa="default",s1.Cache="cache";class MT{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.key=e}}class PT{constructor(e){this.key=e}}class Nx{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.Za=ZE(e),this.Xa=new Ro(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new i1,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const v=a.get(y),A=of(this.query,_)?_:null,C=!!v&&this.mutatedKeys.has(v.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let B=!1;v&&A?v.data.isEqual(A.data)?C!==V&&(s.track({type:3,doc:A}),B=!0):this.ru(v,A)||(s.track({type:2,doc:A}),B=!0,(m&&this.Za(A,m)>0||p&&this.Za(A,p)<0)&&(d=!0)):!v&&A?(s.track({type:0,doc:A}),B=!0):v&&!A&&(s.track({type:1,doc:v}),B=!0,(m||p)&&(d=!0)),B&&(A?(c=c.add(A),l=V?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{Xa:c,nu:s,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,_)=>function(A,C){const V=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:B})}};return V(A)-V(C)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(s),a=a!=null&&a;const d=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new Po(this.query,e.Xa,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new i1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new PT(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new kT(s))}),t}au(e){this.Ha=e.$s,this.Ya=Ye();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Po.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ag="SyncEngine";class Dx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Ox{constructor(e){this.key=e,this.cu=!1}}class Mx{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ia(d=>WE(d),af),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ot(Ae.comparator),this.Eu=new Map,this.du=new Yp,this.Au={},this.Ru=new Map,this.Vu=ko.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function kx(i,e,t=!0){const s=zT(i);let a;const l=s.hu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await VT(s,e,t,!0),a}async function Px(i,e){const t=zT(i);await VT(t,e,!0,!1)}async function VT(i,e,t,s){const a=await tx(i.localStore,Ji(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await Vx(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&ST(i.remoteStore,a),d}async function Vx(i,e,t,s,a){i.fu=(_,v,A)=>async function(V,B,j,G){let F=B.view.tu(j);F.Cs&&(F=await W0(V.localStore,B.query,!1).then(({documents:P})=>B.view.tu(P,F)));const q=G&&G.targetChanges.get(B.targetId),$=G&&G.targetMismatches.get(B.targetId)!=null,z=B.view.applyChanges(F,V.isPrimaryClient,q,$);return o1(V,B.targetId,z.ou),z.snapshot}(i,_,v,A);const l=await W0(i.localStore,e,!0),c=new Nx(e,l.$s),d=c.tu(l.documents),m=Cu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),p=c.applyChanges(d,i.isPrimaryClient,m);o1(i,t,p.ou);const y=new Dx(e,t,c);return i.hu.set(e,y),i.Pu.has(t)?i.Pu.get(t).push(e):i.Pu.set(t,[e]),p.snapshot}async function Ux(i,e,t){const s=Me(i),a=s.hu.get(e),l=s.Pu.get(a.targetId);if(l.length>1)return s.Pu.set(a.targetId,l.filter(c=>!af(c,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await fp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Jp(s.remoteStore,a.targetId),pp(s,a.targetId)}).catch(zo)):(pp(s,a.targetId),await fp(s.localStore,a.targetId,!0))}async function Lx(i,e){const t=Me(i),s=t.hu.get(e),a=t.Pu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Jp(t.remoteStore,s.targetId))}async function jx(i,e,t){const s=$x(i);try{const a=await function(c,d){const m=Me(c),p=un.now(),y=d.reduce((A,C)=>A.add(C.key),Ye());let _,v;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Lr(),V=Ye();return m.Bs.getEntries(A,y).next(B=>{C=B,C.forEach((j,G)=>{G.isValidDocument()||(V=V.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,C)).next(B=>{_=B;const j=[];for(const G of d){const F=tI(G,_.get(G.key).overlayedDocument);F!=null&&j.push(new Ls(G.key,F,FE(F.value.mapValue),_i.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,j,d)}).next(B=>{v=B;const j=B.applyToLocalDocumentSet(_,V);return m.documentOverlayCache.saveOverlays(A,B.batchId,j)})}).then(()=>({batchId:v.batchId,changes:eT(_)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Au[c.currentUser.toKey()];p||(p=new Ot(Be)),p=p.insert(d,m),c.Au[c.currentUser.toKey()]=p}(s,a.batchId,t),await xu(s,a.changes),await df(s.remoteStore)}catch(a){const l=rg(a,"Failed to persist write");t.reject(l)}}async function UT(i,e){const t=Me(i);try{const s=await ZI(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?dt(c.cu,14607):a.removedDocuments.size>0&&(dt(c.cu,42227),c.cu=!1))}),await xu(t,s,e)}catch(s){await zo(s)}}function a1(i,e,t){const s=Me(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.hu.forEach((l,c)=>{const d=c.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Me(c);m.onlineState=d;let p=!1;m.queries.forEach((y,_)=>{for(const v of _.Sa)v.Fa(d)&&(p=!0)}),p&&sg(m)}(s.eventManager,e),a.length&&s.lu.Y_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Bx(i,e,t){const s=Me(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),l=a&&a.key;if(l){let c=new Ot(Ae.comparator);c=c.insert(l,kn.newNoDocument(l,Oe.min()));const d=Ye().add(l),m=new cf(Oe.min(),new Map,new Ot(Be),c,d);await UT(s,m),s.Iu=s.Iu.remove(l),s.Eu.delete(e),og(s)}else await fp(s.localStore,e,!1).then(()=>pp(s,e,t)).catch(zo)}async function zx(i,e){const t=Me(i),s=e.batch.batchId;try{const a=await WI(t.localStore,e);jT(t,s,null),LT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await xu(t,a)}catch(a){await zo(a)}}async function qx(i,e,t){const s=Me(i);try{const a=await function(c,d){const m=Me(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(dt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(s.localStore,e);jT(s,e,t),LT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await xu(s,a)}catch(a){await zo(a)}}function LT(i,e){(i.Ru.get(e)||[]).forEach(t=>{t.resolve()}),i.Ru.delete(e)}function jT(i,e,t){const s=Me(i);let a=s.Au[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Au[s.currentUser.toKey()]=a}}function pp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),t&&i.lu.gu(s,t);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||BT(i,s)})}function BT(i,e){i.Tu.delete(e.path.canonicalString());const t=i.Iu.get(e);t!==null&&(Jp(i.remoteStore,t),i.Iu=i.Iu.remove(e),i.Eu.delete(t),og(i))}function o1(i,e,t){for(const s of t)s instanceof kT?(i.du.addReference(s.key,e),Fx(i,s)):s instanceof PT?(_e(ag,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||BT(i,s.key)):xe(19791,{pu:s})}function Fx(i,e){const t=e.key,s=t.path.canonicalString();i.Iu.get(t)||i.Tu.has(s)||(_e(ag,"New document in limbo: "+t),i.Tu.add(s),og(i))}function og(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const t=new Ae(Rt.fromString(e)),s=i.Vu.next();i.Eu.set(s,new Ox(t)),i.Iu=i.Iu.insert(t,s),ST(i.remoteStore,new Ts(Ji(sf(t.path)),s,"TargetPurposeLimboResolution",tf.le))}}async function xu(i,e,t){const s=Me(i),a=[],l=[],c=[];s.hu.isEmpty()||(s.hu.forEach((d,m)=>{c.push(s.fu(m,e,t).then(p=>{var y;if((p||t)&&s.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Wp.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),s.lu.Y_(a),await async function(m,p){const y=Me(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>pe.forEach(p,v=>pe.forEach(v.ds,A=>y.persistence.referenceDelegate.addReference(_,v.targetId,A)).next(()=>pe.forEach(v.As,A=>y.persistence.referenceDelegate.removeReference(_,v.targetId,A)))))}catch(_){if(!qo(_))throw _;_e(Zp,"Failed to update sequence numbers: "+_)}for(const _ of p){const v=_.targetId;if(!_.fromCache){const A=y.xs.get(v),C=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(v,V)}}}(s.localStore,l))}async function Hx(i,e){const t=Me(i);if(!t.currentUser.isEqual(e)){_e(ag,"User change. New user:",e.toKey());const s=await TT(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(d=>{d.forEach(m=>{m.reject(new Ee(ge.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(t,s.ks)}}function Gx(i,e){const t=Me(i),s=t.Eu.get(e);if(s&&s.cu)return Ye().add(s.key);{let a=Ye();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const d=t.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function zT(i){const e=Me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bx.bind(null,e),e.lu.Y_=Ix.bind(null,e.eventManager),e.lu.gu=xx.bind(null,e.eventManager),e}function $x(i){const e=Me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qx.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return XI(this.persistence,new KI,e.initialUser,this.serializer)}Su(e){return new ET(Xp.fi,this.serializer)}bu(e){return new ix}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class Kx extends Lh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){dt(this.persistence.referenceDelegate instanceof Vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OI(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new ET(s=>Vh.fi(s,t),this.serializer)}}class gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>a1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hx.bind(null,this.syncEngine),await Sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Cx}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),s=function(l){return new lx(l)}(e.databaseInfo);return function(l,c,d,m){return new fx(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,d){return new mx(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>a1(this.syncEngine,t,0),function(){return e1.C()?new e1:new rx}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,y){const _=new Mx(a,l,c,d,m,p);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Me(a);_e(ba,"RemoteStore shutting down."),l.da.add(5),await Iu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class Qx{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Mn.UNAUTHENTICATED,this.clientId=ME.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{_e(Ms,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(_e(Ms,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=rg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bm(i,e){i.asyncQueue.verifyOperationInProgress(),_e(Ms,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await TT(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function l1(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Yx(i);_e(Ms,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>n1(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>n1(e.remoteStore,a)),i._onlineComponents=e}async function Yx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_e(Ms,"Using user provided OfflineComponentProvider");try{await Bm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await Bm(i,new Lh)}}else _e(Ms,"Using default OfflineComponentProvider"),await Bm(i,new Kx(void 0));return i._offlineComponents}async function FT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_e(Ms,"Using user provided OnlineComponentProvider"),await l1(i,i._uninitializedComponentsProvider._online)):(_e(Ms,"Using default OnlineComponentProvider"),await l1(i,new gp))),i._onlineComponents}function Xx(i){return FT(i).then(e=>e.syncEngine)}async function yp(i){const e=await FT(i),t=e.eventManager;return t.onListen=kx.bind(null,e.syncEngine),t.onUnlisten=Ux.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Px.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Lx.bind(null,e.syncEngine),t}function Wx(i,e,t={}){const s=new Ss;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new qT({next:v=>{y.xu(),c.enqueueAndForget(()=>OT(l,_));const A=v.docs.has(d);!A&&v.fromCache?p.reject(new Ee(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&v.fromCache&&m&&m.source==="server"?p.reject(new Ee(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(v)},error:v=>p.reject(v)}),_=new MT(sf(d.path),y,{includeMetadataChanges:!0,Qa:!0});return DT(l,_)}(await yp(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e,t){if(!t)throw new Ee(ge.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Zx(i,e,t,s){if(e===!0&&s===!0)throw new Ee(ge.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function c1(i){if(!Ae.isDocumentKey(i))throw new Ee(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function h1(i){if(Ae.isDocumentKey(i))throw new Ee(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Ei(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mf(i);throw new Ee(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",f1=!0;class d1{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=f1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:f1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NI)throw new Ee(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oC;switch(s.type){case"firstParty":return new hC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=u1.get(t);s&&(_e("ComponentProvider","Removing Datastore"),u1.delete(t),s.terminate())}(this),Promise.resolve()}}function Jx(i,e,t,s={}){var a;i=Ei(i,pf);const l=Vs(e),c=i._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;l&&(Mp(`https://${m}`),kp("Firestore",!0)),c.host!==$T&&c.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:s});if(!_a(p,d)&&(i._setSettings(p),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=Mn.MOCK_USER;else{y=vE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Ee(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Mn(v)}i._authCredentials=new lC(new DE(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class Pn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Rs extends Ho{constructor(e,t,s){super(e,t,sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Ae(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function lu(i,e,...t){if(i=At(i),GT("collection","path",e),i instanceof pf){const s=Rt.fromString(e,...t);return h1(s),new Rs(i,null,s)}{if(!(i instanceof Pn||i instanceof Rs))throw new Ee(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...t));return h1(s),new Rs(i.firestore,null,s)}}function qn(i,e,...t){if(i=At(i),arguments.length===1&&(e=ME.newId()),GT("doc","path",e),i instanceof pf){const s=Rt.fromString(e,...t);return c1(s),new Pn(i,null,new Ae(s))}{if(!(i instanceof Pn||i instanceof Rs))throw new Ee(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...t));return c1(s),new Pn(i.firestore,i instanceof Rs?i.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="AsyncQueue";class p1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wT(this,"async_queue_retry"),this.rc=()=>{const s=jm();s&&_e(m1,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ss;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!qo(e))throw e;_e(m1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ur("INTERNAL UNHANDLED ERROR: ",g1(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=ig.createAndSchedule(this,e,t,s,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&xe(47125,{cc:g1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function g1(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(i,["next","error","complete"])}class ks extends pf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new p1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p1(e),this._firestoreClient=void 0,await e}}}function eN(i,e){const t=typeof i=="object"?i:Up(),s=typeof i=="string"?i:xh,a=ef(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=pE("firestore");l&&Jx(a,...l)}return a}function lg(i){if(i._terminated)throw new Ee(ge.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||tN(i),i._firestoreClient}function tN(i){var e,t,s;const a=i._freezeSettings(),l=function(d,m,p,y){return new RC(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,HT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new Qx(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(Rn.fromBase64String(e))}catch(t){throw new Ee(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^__.*__$/;class iN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ru(e,this.data,t,this.fieldTransforms)}}class KT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ic:i})}}class fg{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Vc(e),a}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return jh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(QT(this.Ic)&&nN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class rN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hf(e)}bc(e,t,s,a=!1){return new fg({Ic:e,methodName:t,wc:s,path:Sn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(i){const e=i._freezeSettings(),t=hf(i._databaseId);return new rN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function YT(i,e,t,s,a,l={}){const c=i.bc(l.merge||l.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",c,s);const d=XT(s,c);let m,p;if(l.merge)m=new si(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const v=vp(e,_,t);if(!c.contains(v))throw new Ee(ge.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ZT(y,v)||y.push(v)}m=new si(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new iN(new Yn(d),m,p)}class vf extends ug{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}function sN(i,e,t,s){const a=i.bc(1,e,t);dg("Data must be an object, but it was:",a,s);const l=[],c=Yn.empty();Us(s,(m,p)=>{const y=mg(e,m,t);p=At(p);const _=a.mc(y);if(p instanceof vf)l.push(y);else{const v=Nu(p,_);v!=null&&(l.push(y),c.set(y,v))}});const d=new si(l);return new KT(c,d,a.fieldTransforms)}function aN(i,e,t,s,a,l){const c=i.bc(1,e,t),d=[vp(e,s,t)],m=[a];if(l.length%2!=0)throw new Ee(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)d.push(vp(e,l[v])),m.push(l[v+1]);const p=[],y=Yn.empty();for(let v=d.length-1;v>=0;--v)if(!ZT(p,d[v])){const A=d[v];let C=m[v];C=At(C);const V=c.mc(A);if(C instanceof vf)p.push(A);else{const B=Nu(C,V);B!=null&&(p.push(A),y.set(A,B))}}const _=new si(p);return new KT(y,_,c.fieldTransforms)}function oN(i,e,t,s=!1){return Nu(t,i.bc(s?4:3,e))}function Nu(i,e){if(WT(i=At(i)))return dg("Unsupported field value:",e,i),XT(i,e);if(i instanceof ug)return function(s,a){if(!QT(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=Nu(d,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(i,e)}return function(s,a){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YC(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=un.fromDate(s);return{timestampValue:Ph(a.serializer,l)}}if(s instanceof un){const l=new un(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(a.serializer,l)}}if(s instanceof cg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vo)return{bytesValue:fT(a.serializer,s._byteString)};if(s instanceof Pn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qp(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof hg)return function(c,d){return{mapValue:{fields:{[zE]:{stringValue:qE},[Nh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return Hp(d.serializer,p)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${mf(s)}`)}(i,e)}function XT(i,e){const t={};return PE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(i,(s,a)=>{const l=Nu(a,e.Ac(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function WT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof un||i instanceof cg||i instanceof Vo||i instanceof Pn||i instanceof ug||i instanceof hg)}function dg(i,e,t){if(!WT(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=mf(t);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function vp(i,e,t){if((e=At(e))instanceof gf)return e._internalPath;if(typeof e=="string")return mg(i,e);throw jh("Field path arguments must be of type string or ",i,!1,void 0,t)}const lN=new RegExp("[~\\*/\\[\\]]");function mg(i,e,t){if(e.search(lN)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gf(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function jh(i,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(ge.INVALID_ARGUMENT,d+i+m)}function ZT(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uN extends JT{data(){return super.data()}}function pg(i,e){return typeof e=="string"?mg(i,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ee(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class hN extends gg{}function v1(i,e,...t){let s=[];e instanceof gg&&s.push(e),s=s.concat(t),function(l){const c=l.filter(m=>m instanceof yg).length,d=l.filter(m=>m instanceof _f).length;if(c>1||c>0&&d>0)throw new Ee(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class _f extends hN{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new _f(e,t,s)}_apply(e){const t=this._parse(e);return eb(e._query,t),new Ho(e.firestore,e.converter,ap(e._query,t))}_parse(e){const t=yf(e.firestore);return function(l,c,d,m,p,y,_){let v;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){T1(_,y);const C=[];for(const V of _)C.push(E1(m,l,V));v={arrayValue:{values:C}}}else v=E1(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||T1(_,y),v=oN(d,c,_,y==="in"||y==="not-in");return Zt.create(p,y,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _1(i,e,t){const s=e,a=pg("where",i);return _f._create(a,s,t)}class yg extends gg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)eb(c,m),c=ap(c,m)}(e._query,t),new Ho(e.firestore,e.converter,ap(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function E1(i,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new Ee(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&t.indexOf("/")!==-1)throw new Ee(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rt.fromString(t));if(!Ae.isDocumentKey(s))throw new Ee(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return O0(i,new Ae(s))}if(t instanceof Pn)return O0(i,t._key);throw new Ee(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(t)}.`)}function T1(i,e){if(!Array.isArray(i)||i.length===0)throw new Ee(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eb(i,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fN{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Us(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Nh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>Gt(c.doubleValue));return new hg(l)}convertGeoPoint(e){return new cg(Gt(e.latitude),Gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=xs(e);return new un(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rt.fromString(e);dt(vT(s),9688,{name:e});const a=new pu(s.get(1),s.get(3)),l=new Ae(s.popFirst(5));return a.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nb extends JT{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(pg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class vh extends nb{data(e={}){return super.data(e)}}class dN{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new vh(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new vh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new vh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:mN(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){i=Ei(i,Pn);const e=Ei(i.firestore,ks);return Wx(lg(e),i._key).then(t=>rb(e,i,t))}class ib extends fN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function _p(i,e,t){i=Ei(i,Pn);const s=Ei(i.firestore,ks),a=tb(i.converter,e);return Ef(s,[YT(yf(s),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,_i.none())])}function Nr(i,e,t,...s){i=Ei(i,Pn);const a=Ei(i.firestore,ks),l=yf(a);let c;return c=typeof(e=At(e))=="string"||e instanceof gf?aN(l,"updateDoc",i._key,e,t,s):sN(l,"updateDoc",i._key,e),Ef(a,[c.toMutation(i._key,_i.exists(!0))])}function pN(i){return Ef(Ei(i.firestore,ks),[new Gp(i._key,_i.none())])}function gN(i,e){const t=Ei(i.firestore,ks),s=qn(i),a=tb(i.converter,e);return Ef(t,[YT(yf(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then(()=>s)}function _h(i,...e){var t,s,a;i=At(i);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||y1(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(y1(e[c])){const _=e[c];e[c]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[c+1]=(s=_.error)===null||s===void 0?void 0:s.bind(_),e[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,p,y;if(i instanceof Pn)p=Ei(i.firestore,ks),y=sf(i._key.path),m={next:_=>{e[c]&&e[c](rb(p,i,_))},error:e[c+1],complete:e[c+2]};else{const _=Ei(i,Ho);p=Ei(_.firestore,ks),y=_._query;const v=new ib(p);m={next:A=>{e[c]&&e[c](new dN(p,v,_,A))},error:e[c+1],complete:e[c+2]},cN(i._query)}return function(v,A,C,V){const B=new qT(V),j=new MT(A,B,C);return v.asyncQueue.enqueueAndForget(async()=>DT(await yp(v),j)),()=>{B.xu(),v.asyncQueue.enqueueAndForget(async()=>OT(await yp(v),j))}}(lg(p),y,d,m)}function Ef(i,e){return function(s,a){const l=new Ss;return s.asyncQueue.enqueueAndForget(async()=>jx(await Xx(s),a,l)),l.promise}(lg(i),e)}function rb(i,e,t){const s=t.docs.get(e._key),a=new ib(i);return new nb(i,a,e._key,s,new nu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Bo=a})(Ca),Ea(new Cs("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ks(new uC(s.getProvider("auth-internal")),new fC(c,s.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Zi(E0,T0,e),Zi(E0,T0,"esm2017")})();var yN="firebase",vN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(yN,vN,"app");function vg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]]);return t}function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _N=sb,ab=new wu("auth","Firebase",sb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Pp("@firebase/auth");function EN(i,...e){Bh.logLevel<=Qe.WARN&&Bh.warn(`Auth (${Ca}): ${i}`,...e)}function Eh(i,...e){Bh.logLevel<=Qe.ERROR&&Bh.error(`Auth (${Ca}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(i,...e){throw _g(i,...e)}function tr(i,...e){return _g(i,...e)}function ob(i,e,t){const s=Object.assign(Object.assign({},_N()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:i.name})}function kr(i){return ob(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ab.create(i,...e)}function Ie(i,e,...t){if(!i)throw _g(e,...t)}function Dr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Eh(e),new Error(e)}function jr(i,e){i||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function TN(){return b1()==="http:"||b1()==="https:"}function b1(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TN()||B2()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=U2()||z2()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,e){jr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RN=new Du(3e4,6e4);function zr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ar(i,e,t,s,a={}){return ub(i,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Au(Object.assign({key:i.config.apiKey},c)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},l);return j2()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Vs(i.emulatorConfig.host)&&(p.credentials="include"),lb.fetch()(await cb(i,i.config.apiHost,t,d),p)})}async function ub(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},AN),e);try{const a=new IN(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw lh(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(i,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw lh(i,"email-already-in-use",c);if(m==="USER_DISABLED")throw lh(i,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ob(i,y,p);Oi(i,y)}}catch(a){if(a instanceof sr)throw a;Oi(i,"network-request-failed",{message:String(a)})}}async function Ou(i,e,t,s,a={}){const l=await ar(i,e,t,s,a);return"mfaPendingCredential"in l&&Oi(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function cb(i,e,t,s){const a=`${e}${t}?${s}`,l=i,c=l.config.emulator?Eg(i.config,a):`${i.config.apiScheme}://${a}`;return SN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function CN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),RN.get())})}}function lh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=tr(i,e,s);return a.customData._tokenResponse=t,a}function w1(i){return i!==void 0&&i.enterprise!==void 0}class xN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NN(i,e){return ar(i,"GET","/v2/recaptchaConfig",zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(i,e){return ar(i,"POST","/v1/accounts:delete",e)}async function zh(i,e){return ar(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ON(i,e=!1){const t=At(i),s=await t.getIdToken(e),a=Tg(s);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:uu(zm(a.auth_time)),issuedAtTime:uu(zm(a.iat)),expirationTime:uu(zm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zm(i){return Number(i)*1e3}function Tg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const a=dE(t);return a?JSON.parse(a):(Eh("Failed to decode base64 JWT payload"),null)}catch(a){return Eh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function A1(i){const e=Tg(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof sr&&MN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function MN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(i){var e;const t=i.auth,s=await i.getIdToken(),a=await Uo(i,zh(t,{idToken:s}));Ie(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?hb(l.providerUserInfo):[],d=VN(i.providerData,c),m=i.isAnonymous,p=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function PN(i){const e=At(i);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VN(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function hb(i){return i.map(e=>{var{providerId:t}=e,s=vg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(i,e){const t=await ub(i,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await cb(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return i.emulatorConfig&&Vs(i.emulatorConfig.host)&&(m.credentials="include"),lb.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LN(i,e){return ar(i,"POST","/v2/accounts:revokeToken",zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=A1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await UN(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Co;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ON(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Uo(this,DN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,c,d,m,p,y;const _=(s=t.displayName)!==null&&s!==void 0?s:void 0,v=(a=t.email)!==null&&a!==void 0?a:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,B=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,G=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:q,isAnonymous:$,providerData:z,stsTokenManager:P}=t;Ie(F&&P,e,"internal-error");const b=Co.fromJSON(this.name,P);Ie(typeof F=="string",e,"internal-error"),ms(_,e.name),ms(v,e.name),Ie(typeof q=="boolean",e,"internal-error"),Ie(typeof $=="boolean",e,"internal-error"),ms(A,e.name),ms(C,e.name),ms(V,e.name),ms(B,e.name),ms(j,e.name),ms(G,e.name);const w=new Ni({uid:F,auth:e,email:v,emailVerified:q,displayName:_,isAnonymous:$,photoURL:C,phoneNumber:A,tenantId:V,stsTokenManager:b,createdAt:j,lastLoginAt:G});return z&&Array.isArray(z)&&(w.providerData=z.map(x=>Object.assign({},x))),B&&(w._redirectEventId=B),w}static async _fromIdTokenResponse(e,t,s=!1){const a=new Co;a.updateFromServerResponse(t);const l=new Ni({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await qh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Co;d.updateFromIdToken(s);const m=new Ni({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Tp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;function Or(i){jr(i instanceof Function,"Expected a class definition");let e=S1.get(i);return e?(jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,S1.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fb.type="NONE";const R1=fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i,e,t){return`firebase:${i}:${e}:${t}`}class Io{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Th(this.userKey,a.apiKey,l),this.fullPersistenceKey=Th("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?Ni._fromGetAccountInfoResponse(this.auth,t,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Io(Or(R1),e,s);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Or(R1);const c=Th(s,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const v=await zh(e,{idToken:y}).catch(()=>{});if(!v)break;_=await Ni._fromGetAccountInfoResponse(e,v,y)}else _=Ni._fromJSON(e,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Io(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Io(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vb(e))return"Blackberry";if(_b(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(yb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function db(i=Vn()){return/firefox\//i.test(i)}function mb(i=Vn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(i=Vn()){return/crios\//i.test(i)}function gb(i=Vn()){return/iemobile/i.test(i)}function yb(i=Vn()){return/android/i.test(i)}function vb(i=Vn()){return/blackberry/i.test(i)}function _b(i=Vn()){return/webos/i.test(i)}function bg(i=Vn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function jN(i=Vn()){var e;return bg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BN(){return q2()&&document.documentMode===10}function Eb(i=Vn()){return bg(i)||yb(i)||_b(i)||vb(i)||/windows phone/i.test(i)||gb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(i,e=[]){let t;switch(i){case"Browser":t=C1(Vn());break;case"Worker":t=`${C1(Vn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ca}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(i,e={}){return ar(i,"GET","/v2/passwordPolicy",zr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=6;class HN{constructor(e){var t,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:FN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I1(this),this.idTokenSubscription=new I1(this),this.beforeStateQueue=new zN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),s=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(kr(this));const t=e?At(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qN(this),t=new HN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await LN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&EN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Na(i){return At(i)}class I1{constructor(e){this.auth=e,this.observer=null,this.addObserver=X2(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $N(i){Tf=i}function bb(i){return Tf.loadJS(i)}function KN(){return Tf.recaptchaEnterpriseScript}function QN(){return Tf.gapiScript}function YN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class XN{constructor(){this.enterprise=new WN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class WN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZN="recaptcha-enterprise",wb="NO_RECAPTCHA";class JN{constructor(e){this.type=ZN,this.auth=Na(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{NN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new xN(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;w1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(wb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&w1(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=KN();m.length!==0&&(m+=d),bb(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function x1(i,e,t,s=!1,a=!1){const l=new JN(i);let c;if(a)c=wb;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bp(i,e,t,s,a){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await x1(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await x1(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(i,e){const t=ef(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(_a(l,e??{}))return a;Oi(a,"already-initialized")}return t.initialize({options:e})}function t4(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Or);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function n4(i,e,t){const s=Na(i);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Ab(e),{host:c,port:d}=i4(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(_a(p,s.config.emulator)&&_a(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Vs(c)?(Mp(`${l}//${c}${m}`),kp("Auth",!0)):r4()}function Ab(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function i4(i){const e=Ab(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:N1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:N1(c)}}}function N1(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function r4(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,t){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function s4(i,e){return ar(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(i,e){return Ou(i,"POST","/v1/accounts:signInWithPassword",zr(i,e))}async function o4(i,e){return ar(i,"POST","/v1/accounts:sendOobCode",zr(i,e))}async function l4(i,e){return o4(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",zr(i,e))}async function c4(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends wg{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Eu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Eu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,t,"signInWithPassword",a4);case"emailLink":return u4(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,s,"signUpPassword",s4);case"emailLink":return c4(e,{idToken:t,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i,e){return Ou(i,"POST","/v1/accounts:signInWithIdp",zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="http://localhost";class wa extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=vg(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new wa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,xo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:h4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d4(i){const e=Wl(Zl(i)).link,t=e?Wl(Zl(e)).deep_link_id:null,s=Wl(Zl(i)).deep_link_id;return(s?Wl(Zl(s)).link:null)||s||t||e||i}class Ag{constructor(e){var t,s,a,l,c,d;const m=Wl(Zl(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,y=(s=m.oobCode)!==null&&s!==void 0?s:null,_=f4((a=m.mode)!==null&&a!==void 0?a:null);Ie(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=d4(e);try{return new Ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,t){return Eu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ag.parseLink(t);return Ie(s,"argument-error"),Eu._fromEmailAndCode(e,s.code,s.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Mu{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ys.credential(t,s)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Mu{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Mu{constructor(){super("twitter.com")}static credential(e,t){return wa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return _s.credential(t,s)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(i,e){return Ou(i,"POST","/v1/accounts:signUp",zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Ni._fromIdTokenResponse(e,s,a),c=D1(s);return new Aa({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=D1(s);return new Aa({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function D1(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends sr{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Fh(e,t,s,a)}}function Rb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(i,l,e,s):l})}async function p4(i,e,t=!1){const s=await Uo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Aa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(i,e,t=!1){const{auth:s}=i;if(ri(s.app))return Promise.reject(kr(s));const a="reauthenticate";try{const l=await Uo(i,Rb(s,a,e,i),t);Ie(l.idToken,s,"internal-error");const c=Tg(l.idToken);Ie(c,s,"internal-error");const{sub:d}=c;return Ie(i.uid===d,s,"user-mismatch"),Aa._forOperation(i,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Oi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(i,e,t=!1){if(ri(i.app))return Promise.reject(kr(i));const s="signIn",a=await Rb(i,s,e),l=await Aa._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(l.user),l}async function y4(i,e){return Cb(Na(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(i){const e=Na(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v4(i,e,t){if(ri(i.app))return Promise.reject(kr(i));const s=Na(i),c=await bp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Ib(i),m}),d=await Aa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function O1(i,e,t){return ri(i.app)?Promise.reject(kr(i)):y4(At(i),Go.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ib(i),s})}async function xb(i,e){const t=At(i),a={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:l}=await l4(t.auth,a);l!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(i,e){return ar(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=At(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Uo(s,_4(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function T4(i,e,t,s){return At(i).onIdTokenChanged(e,t,s)}function b4(i,e,t){return At(i).beforeAuthStateChanged(e,t)}function Nb(i,e,t,s){return At(i).onAuthStateChanged(e,t,s)}function Hh(i){return At(i).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=1e3,A4=10;class Ob extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);BN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,A4):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},w4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ob.type="LOCAL";const S4=Ob;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mb.type="SESSION";const kb=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new bf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),m=await R4(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Sg("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const v=_;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function I4(i){nr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function x4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function D4(){return Pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebaseLocalStorageDb",O4=1,$h="firebaseLocalStorage",Ub="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wf(i,e){return i.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function M4(){const i=indexedDB.deleteDatabase(Vb);return new ku(i).toPromise()}function wp(){const i=indexedDB.open(Vb,O4);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore($h,{keyPath:Ub})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains($h)?e(s):(s.close(),await M4(),e(await wp()))})})}async function M1(i,e,t){const s=wf(i,!0).put({[Ub]:e,value:t});return new ku(s).toPromise()}async function k4(i,e){const t=wf(i,!1).get(e),s=await new ku(t).toPromise();return s===void 0?null:s.value}function k1(i,e){const t=wf(i,!0).delete(e);return new ku(t).toPromise()}const P4=800,V4=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>V4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(D4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await x4(),!this.activeServiceWorker)return;this.sender=new C4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await M1(e,Gh,"1"),await k1(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>M1(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>k4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>k1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=wf(a,!1).getAll();return new ku(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const U4=Lb;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(i,e){return e?Or(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function j4(i){return Cb(i.auth,new Rg(i),i.bypassAuthState)}function B4(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),g4(t,new Rg(i),i.bypassAuthState)}async function z4(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),p4(t,new Rg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j4;case"linkViaPopup":case"linkViaRedirect":return z4;case"reauthViaPopup":case"reauthViaRedirect":return B4;default:Oi(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Du(2e3,1e4);class Ao extends jb{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q4.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="pendingRedirect",bh=new Map;class H4 extends jb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const s=await G4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G4(i,e){const t=Q4(e),s=K4(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function $4(i,e){bh.set(i._key(),e)}function K4(i){return Or(i._redirectPersistence)}function Q4(i){return Th(F4,i.config.apiKey,i.name)}async function Y4(i,e,t=!1){if(ri(i.app))return Promise.reject(kr(i));const s=Na(i),a=L4(s,e),c=await new H4(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=10*60*1e3;class W4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Bb(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X4&&this.cachedEventUids.clear(),this.cachedEventUids.has(P1(e))}saveEventToCache(e){this.cachedEventUids.add(P1(e)),this.lastProcessedEventTime=Date.now()}}function P1(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Bb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(i,e={}){return ar(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tD=/^https?/;async function nD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await J4(i);for(const t of e)try{if(iD(t))return}catch{}Oi(i,"unauthorized-domain")}function iD(i){const e=Ep(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!tD.test(t))return!1;if(eD.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Du(3e4,6e4);function V1(){const i=nr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function sD(i){return new Promise((e,t)=>{var s,a,l;function c(){V1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V1(),t(tr(i,"network-request-failed"))},timeout:rD.get()})}if(!((a=(s=nr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=nr().gapi)===null||l===void 0)&&l.load)c();else{const d=YN("iframefcb");return nr()[d]=()=>{gapi.load?c():t(tr(i,"network-request-failed"))},bb(`${QN()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw wh=null,e})}let wh=null;function aD(i){return wh=wh||sD(i),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Du(5e3,15e3),lD="__/auth/iframe",uD="emulator/auth/iframe",cD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Eg(e,uD):`https://${i.config.authDomain}/${lD}`,s={apiKey:e.apiKey,appName:i.name,v:Ca},a=hD.get(i.config.apiHost);a&&(s.eid=a);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Au(s).slice(1)}`}async function dD(i){const e=await aD(i),t=nr().gapi;return Ie(t,i,"internal-error"),e.open({where:document.body,url:fD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=tr(i,"network-request-failed"),d=nr().setTimeout(()=>{l(c)},oD.get());function m(){nr().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,gD=600,yD="_blank",vD="http://localhost";class U1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _D(i,e,t,s=pD,a=gD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},mD),{width:s.toString(),height:a.toString(),top:l,left:c}),p=Vn().toLowerCase();t&&(d=pb(p)?yD:t),db(p)&&(e=e||vD,m.scrollbars="yes");const y=Object.entries(m).reduce((v,[A,C])=>`${v}${A}=${C},`,"");if(jN(p)&&d!=="_self")return ED(e||"",d),new U1(null);const _=window.open(e||"",d,y);Ie(_,i,"popup-blocked");try{_.focus()}catch{}return new U1(_)}function ED(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="__/auth/handler",bD="emulator/auth/handler",wD=encodeURIComponent("fac");async function L1(i,e,t,s,a,l){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ca,eventId:a};if(e instanceof Sb){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",Y2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Mu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await i._getAppCheckToken(),p=m?`#${wD}=${encodeURIComponent(m)}`:"";return`${AD(i)}?${Au(d).slice(1)}${p}`}function AD({config:i}){return i.emulator?Eg(i,bD):`https://${i.authDomain}/${TD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class SD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kb,this._completeRedirectFn=Y4,this._overrideRedirectResult=$4}async _openPopup(e,t,s,a){var l;jr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await L1(e,t,s,Ep(),a);return _D(e,c,Sg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await L1(e,t,s,Ep(),a);return I4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(jr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await dD(e),s=new W4(e);return t.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[qm];c!==void 0&&t(!!c),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Eb()||mb()||bg()}}const RD=SD;var j1="@firebase/auth",B1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xD(i){Ea(new Cs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tb(i)},p=new GN(s,a,l,m);return t4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ea(new Cs("auth-internal",e=>{const t=Na(e.getProvider("auth").getImmediate());return(s=>new CD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(j1,B1,ID(i)),Zi(j1,B1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=5*60,DD=yE("authIdTokenMaxAge")||ND;let z1=null;const OD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>DD)return;const a=t==null?void 0:t.token;z1!==a&&(z1=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zb(i=Up()){const e=ef(i,"auth");if(e.isInitialized())return e.getImmediate();const t=e4(i,{popupRedirectResolver:RD,persistence:[U4,S4,kb]}),s=yE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=OD(l.toString());b4(t,c,()=>c(t.currentUser)),T4(t,d=>c(d))}}const a=mE("auth");return a&&n4(t,`http://${a}`),t}function MD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}$N({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const l=tr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",MD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebasestorage.googleapis.com",Fb="storageBucket",kD=2*60*1e3,PD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends sr{constructor(e,t,s=0){super(Fm(e),`Firebase Storage: ${t} (${Fm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lt||(Lt={}));function Fm(i){return"storage/"+i}function Cg(){const i="An unknown error occurred, please check the error payload for server response.";return new jt(Lt.UNKNOWN,i)}function VD(i){return new jt(Lt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function UD(i){return new jt(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt(Lt.UNAUTHENTICATED,i)}function jD(){return new jt(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BD(i){return new jt(Lt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function zD(){return new jt(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qD(){return new jt(Lt.CANCELED,"User canceled the upload/download.")}function FD(i){return new jt(Lt.INVALID_URL,"Invalid URL '"+i+"'.")}function HD(i){return new jt(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function GD(){return new jt(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fb+"' property when initializing the app?")}function $D(){return new jt(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KD(){return new jt(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function QD(i){return new jt(Lt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ap(i){return new jt(Lt.INVALID_ARGUMENT,i)}function Hb(){return new jt(Lt.APP_DELETED,"The Firebase app was deleted.")}function YD(i){return new jt(Lt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cu(i,e){return new jt(Lt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Xl(i){throw new jt(Lt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ai.makeFromUrl(e,t)}catch{return new ai(e,"")}if(s.path==="")return s;throw HD(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(q){q.path_=decodeURIComponent(q.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${a}/o${v}`,"i"),C={bucket:1,path:3},V=t===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",j=new RegExp(`^https?://${V}/${a}/${B}`,"i"),F=[{regex:d,indices:m,postModify:l},{regex:A,indices:C,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let q=0;q<F.length;q++){const $=F[q],z=$.regex.exec(e);if(z){const P=z[$.indices.bucket];let b=z[$.indices.path];b||(b=""),s=new ai(P,b),$.postModify(s);break}}if(s==null)throw FD(e);return s}}class XD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(i,e,t){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...B){p||(p=!0,e.apply(null,B))}function _(B){a=setTimeout(()=>{a=null,i(A,m())},B)}function v(){l&&clearTimeout(l)}function A(B,...j){if(p){v();return}if(B){v(),y.call(null,B,...j);return}if(m()||c){v(),y.call(null,B,...j);return}s<64&&(s*=2);let F;d===1?(d=2,F=0):F=(s+Math.random())*1e3,_(F)}let C=!1;function V(B){C||(C=!0,v(),!p&&(a!==null?(B||(d=2),clearTimeout(a),_(0)):B||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,V(!0)},t),V}function ZD(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i){return i!==void 0}function eO(i){return typeof i=="object"&&!Array.isArray(i)}function Ig(i){return typeof i=="string"||i instanceof String}function q1(i){return xg()&&i instanceof Blob}function xg(){return typeof Blob<"u"}function F1(i,e,t,s){if(s<e)throw Ap(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Ap(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function Gb(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const a=e(s)+"="+e(i[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var va;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(i,e){const t=i>=500&&i<600,a=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t,s,a,l,c,d,m,p,y,_,v=!0,A=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=v,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,V)=>{this.resolve_=C,this.reject_=V,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new uh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===va.NO_ERROR,m=l.getStatus();if(!d||tO(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===va.ABORT;s(!1,new uh(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new uh(p,l))})},t=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());JD(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=Cg();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?Hb():qD();c(m)}else{const m=zD();c(m)}};this.canceled_?t(!1,new uh(!1,null,!0)):this.backoffId_=WD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function iO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function rO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function aO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function oO(i,e,t,s,a,l,c=!0,d=!1){const m=Gb(i.urlParams),p=i.url+m,y=Object.assign({},i.headers);return sO(y,e),iO(y,t),rO(y,l),aO(y,s),new nO(p,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uO(...i){const e=lO();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(xg())return new Blob(i);throw new jt(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cO(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(i){if(typeof atob>"u")throw QD("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hm{constructor(e,t){this.data=e,this.contentType=t||null}}function fO(i,e){switch(i){case Wi.RAW:return new Hm($b(e));case Wi.BASE64:case Wi.BASE64URL:return new Hm(Kb(i,e));case Wi.DATA_URL:return new Hm(mO(e),pO(e))}throw Cg()}function $b(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=i.charCodeAt(++t);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function dO(i){let e;try{e=decodeURIComponent(i)}catch{throw cu(Wi.DATA_URL,"Malformed data URL.")}return $b(e)}function Kb(i,e){switch(i){case Wi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw cu(i,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw cu(i,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=hO(e)}catch(a){throw a.message.includes("polyfill")?a:cu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class Qb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw cu(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=gO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function mO(i){const e=new Qb(i);return e.base64?Kb(Wi.BASE64,e.rest):dO(e.rest)}function pO(i){return new Qb(i).contentType}function gO(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t){let s=0,a="";q1(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(q1(this.data_)){const s=this.data_,a=cO(s,e,t);return a===null?null:new Es(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Es(s,!0)}}static getBlob(...e){if(xg()){const t=e.map(s=>s instanceof Es?s.data_:s);return new Es(uO.apply(null,t))}else{const t=e.map(c=>Ig(c)?fO(Wi.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Es(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i){let e;try{e=JSON.parse(i)}catch{return null}return eO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function vO(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function Xb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(i,e){return e}class zn{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||_O}}let ch=null;function EO(i){return!Ig(i)||i.length<2?i:Xb(i)}function Wb(){if(ch)return ch;const i=[];i.push(new zn("bucket")),i.push(new zn("generation")),i.push(new zn("metageneration")),i.push(new zn("name","fullPath",!0));function e(l,c){return EO(c)}const t=new zn("name");t.xform=e,i.push(t);function s(l,c){return c!==void 0?Number(c):c}const a=new zn("size");return a.xform=s,i.push(a),i.push(new zn("timeCreated")),i.push(new zn("updated")),i.push(new zn("md5Hash",null,!0)),i.push(new zn("cacheControl",null,!0)),i.push(new zn("contentDisposition",null,!0)),i.push(new zn("contentEncoding",null,!0)),i.push(new zn("contentLanguage",null,!0)),i.push(new zn("contentType",null,!0)),i.push(new zn("metadata","customMetadata",!0)),ch=i,ch}function TO(i,e){function t(){const s=i.bucket,a=i.fullPath,l=new ai(s,a);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function bO(i,e,t){const s={};s.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];s[c.local]=c.xform(s,e[c.server])}return TO(s,i),s}function Zb(i,e,t){const s=Yb(e);return s===null?null:bO(i,s,t)}function wO(i,e,t,s){const a=Yb(e);if(a===null||!Ig(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=i.bucket,_=i.fullPath,v="/b/"+c(y)+"/o/"+c(_),A=Af(v,t,s),C=Gb({alt:"media",token:p});return A+C})[0]}function AO(i,e){const t={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}class Ng{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(i){if(!i)throw Cg()}function SO(i,e){function t(s,a){const l=Zb(i,a,e);return Jb(l!==null),l}return t}function RO(i,e){function t(s,a){const l=Zb(i,a,e);return Jb(l!==null),wO(l,a,i.host,i._protocol)}return t}function ew(i){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=jD():a=LD():t.getStatus()===402?a=UD(i.bucket):t.getStatus()===403?a=BD(i.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function tw(i){const e=ew(i);function t(s,a){let l=e(s,a);return s.getStatus()===404&&(l=VD(i.path)),l.serverResponse=a.serverResponse,l}return t}function CO(i,e,t){const s=e.fullServerUrl(),a=Af(s,i.host,i._protocol),l="GET",c=i.maxOperationRetryTime,d=new Ng(a,l,RO(i,t),c);return d.errorHandler=tw(e),d}function IO(i,e){const t=e.fullServerUrl(),s=Af(t,i.host,i._protocol),a="DELETE",l=i.maxOperationRetryTime;function c(m,p){}const d=new Ng(s,a,c,l);return d.successCodes=[200,204],d.errorHandler=tw(e),d}function xO(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function NO(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=xO(null,e)),s}function DO(i,e,t,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let F="";for(let q=0;q<2;q++)F=F+Math.random().toString().slice(2);return F}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const p=NO(e,s,a),y=AO(p,t),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,v=`\r
--`+m+"--",A=Es.getBlob(_,s,v);if(A===null)throw $D();const C={name:p.fullPath},V=Af(l,i.host,i._protocol),B="POST",j=i.maxUploadRetryTime,G=new Ng(V,B,SO(i,t),j);return G.urlParams=C,G.headers=c,G.body=A.uploadData(),G.errorHandler=ew(e),G}class OO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,l){if(this.sent_)throw Xl("cannot .send() more than once");if(Vs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MO extends OO{initXhr(){this.xhr_.responseType="text"}}function Dg(){return new MO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this._service=e,t instanceof ai?this._location=t:this._location=ai.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Sa(e,t)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xb(this._location.path)}get storage(){return this._service}get parent(){const e=yO(this._location.path);if(e===null)return null;const t=new ai(this._location.bucket,e);return new Sa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw YD(e)}}function kO(i,e,t){i._throwIfRoot("uploadBytes");const s=DO(i.storage,i._location,Wb(),new Es(e,!0),t);return i.storage.makeRequestWithTokens(s,Dg).then(a=>({metadata:a,ref:i}))}function PO(i){i._throwIfRoot("getDownloadURL");const e=CO(i.storage,i._location,Wb());return i.storage.makeRequestWithTokens(e,Dg).then(t=>{if(t===null)throw KD();return t})}function VO(i){i._throwIfRoot("deleteObject");const e=IO(i.storage,i._location);return i.storage.makeRequestWithTokens(e,Dg)}function UO(i,e){const t=vO(i._location.path,e),s=new ai(i._location.bucket,t);return new Sa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(i){return/^[A-Za-z]+:\/\//.test(i)}function jO(i,e){return new Sa(i,e)}function nw(i,e){if(i instanceof Og){const t=i;if(t._bucket==null)throw GD();const s=new Sa(t,t._bucket);return e!=null?nw(s,e):s}else return e!==void 0?UO(i,e):i}function BO(i,e){if(e&&LO(e)){if(i instanceof Og)return jO(i,e);throw Ap("To use ref(service, url), the first argument must be a Storage instance.")}else return nw(i,e)}function H1(i,e){const t=e==null?void 0:e[Fb];return t==null?null:ai.makeFromBucketSpec(t,i)}function zO(i,e,t,s={}){i.host=`${e}:${t}`;const a=Vs(e);a&&(Mp(`https://${i.host}/b`),kp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(i._overrideAuthToken=typeof l=="string"?l:vE(l,i.app.options.projectId))}class Og{constructor(e,t,s,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kD,this._maxUploadRetryTime=PD,this._requests=new Set,a!=null?this._bucket=ai.makeFromBucketSpec(a,this._host):this._bucket=H1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=H1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sa(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new XD(Hb());{const c=oO(e,this._appId,s,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const G1="@firebase/storage",$1="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="storage";function qO(i,e,t){return i=At(i),kO(i,e,t)}function FO(i){return i=At(i),PO(i)}function HO(i){return i=At(i),VO(i)}function rw(i,e){return i=At(i),BO(i,e)}function GO(i=Up(),e){i=At(i);const s=ef(i,iw).getImmediate({identifier:e}),a=pE("storage");return a&&$O(s,...a),s}function $O(i,e,t,s={}){zO(i,e,t,s)}function KO(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return new Og(t,s,a,e,Ca)}function QO(){Ea(new Cs(iw,KO,"PUBLIC").setMultipleInstances(!0)),Zi(G1,$1,""),Zi(G1,$1,"esm2017")}QO();const YO={apiKey:"AIzaSyDM7ok2P_WnrqMcH69gVC4cR9EP4J9fD_8",authDomain:"goodneighbor-b1fb3.firebaseapp.com",projectId:"goodneighbor-b1fb3",storageBucket:"goodneighbor-b1fb3.appspot.com",messagingSenderId:"437041543135",appId:"1:437041543135:web:c20ac170d742746f49366a",measurementId:"G-CCYJ56JPMB"},Mg=TE(YO),ga=zb(Mg),ln=eN(Mg),sw=GO(Mg),XO=qn(ln,"meta","stats");async function aw(){const i=await _u(XO);return i.exists()?i.data():{accounts:0,listings:0}}const ow=X.createContext(),Sf=()=>{const i=X.useContext(ow);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},WO=({children:i})=>{const[e,t]=X.useState(null),[s,a]=X.useState(null),[l,c]=X.useState(!0),d=zb(),m=async A=>{var B;if(!A)return;const C=qn(ln,"users",A.uid),V=await _u(C);if(V.exists()){const j=V.data();await Nr(C,{email:A.email,lastLogin:new Date}),a(j)}else{const j={uid:A.uid,email:A.email,fullName:A.displayName||((B=A.email)==null?void 0:B.split("@")[0])||"User",phone:A.phoneNumber||"",createdAt:new Date,lastLogin:new Date};await _p(C,j),a(j)}},p=async A=>{try{const C=qn(ln,"users",A),V=await _u(C);return V.exists()?V.data():null}catch(C){return console.error("Error getting user profile:",C),null}},y=async A=>{if(e)try{const C=qn(ln,"users",e.uid);return await Nr(C,A),a(V=>({...V,...A})),!0}catch(C){return console.error("Error updating user profile:",C),!1}},_=async()=>{try{await Hh(d),t(null),a(null)}catch(A){console.error("Error signing out:",A)}};X.useEffect(()=>Nb(d,async C=>{t(C),C?await m(C):a(null),c(!1)}),[d]);const v={currentUser:e,userProfile:s,loading:l,getUserProfile:p,updateUserProfile:y,logout:_};return T.jsx(ow.Provider,{value:v,children:i})};function ZO(){const i=Br(),{currentUser:e}=Sf();return T.jsx("div",{className:"start-container",children:T.jsxs("div",{className:"start-card",children:[T.jsxs("div",{className:"start-header",children:[T.jsx("h1",{className:"start-title",children:"Welcome to GoodNeighbor"}),T.jsx("p",{className:"start-subtitle",children:"Your community marketplace"})]}),T.jsxs("div",{className:"start-content",children:[T.jsx("p",{className:"start-description",children:"Connect with your neighbors, discover local services, and build a stronger community together."}),T.jsxs("div",{className:"start-buttons",children:[T.jsx("button",{className:"start-button primary",onClick:()=>i("/signin"),children:"Sign In"}),T.jsx("button",{className:"start-button secondary",onClick:()=>i("/listingspage"),children:"Browse Listings"}),T.jsx("button",{className:"start-button secondary",onClick:()=>i("/createlistings"),children:"Create Listing"}),e&&T.jsx("button",{className:"start-button secondary",onClick:()=>i("/account"),children:"Account"}),T.jsx("button",{className:"start-button secondary",onClick:()=>i("/about"),children:"About"})]}),T.jsx("div",{className:"start-footer",children:T.jsxs("p",{className:"signup-prompt",children:["New to GoodNeighbor?"," ",T.jsx("button",{className:"signup-link",onClick:()=>i("/signup"),children:"Create an account"})]})})]})]})})}function JO(){const i=Br(),[e,t]=X.useState({email:"",password:""}),[s,a]=X.useState(""),[l,c]=X.useState(!1),[d,m]=X.useState(!1),[p,y]=X.useState(""),_=V=>{t({...e,[V.target.name]:V.target.value}),s&&a(""),d&&m(!1),p&&y("")},v=async V=>{V.preventDefault(),a(""),c(!0),m(!1),y("");try{if(!(await O1(ga,e.email,e.password)).user.emailVerified){a("Please verify your email before signing in."),m(!0),await Hh(ga),c(!1);return}i("/listingspage")}catch(B){a(B.message)}finally{c(!1)}},A=async()=>{y(""),c(!0);try{const B=(await O1(ga,e.email,e.password)).user;await xb(B),y("Verification email sent! Please check your inbox."),await Hh(ga)}catch{y("Failed to send verification email. Please check your credentials and try again.")}finally{c(!1)}},C=()=>{i("/")};return T.jsxs("div",{className:"signin-container",children:[T.jsx("div",{className:"back-button-container",children:T.jsxs("button",{onClick:C,className:"back-to-start-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]})}),T.jsxs("div",{className:"signin-card",children:[T.jsxs("div",{className:"signin-header",children:[T.jsx("h1",{className:"signin-title",children:"Welcome Back"}),T.jsx("p",{className:"signin-subtitle",children:"Sign in to your account"})]}),T.jsxs("form",{onSubmit:v,className:"signin-form",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),T.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:_,required:!0,className:"signin-input"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),T.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:e.password,onChange:_,required:!0,className:"signin-input"})]}),s&&T.jsxs("div",{className:"error-message",children:[T.jsx("span",{className:"error-icon",children:""}),s]}),d&&T.jsxs("div",{className:"resend-verification-container",children:[T.jsx("button",{type:"button",className:"resend-button",onClick:A,disabled:l,children:l?"Sending...":"Resend Verification Email"}),p&&T.jsx("div",{className:`resend-message ${p.includes("Failed")?"error":""}`,children:p})]}),T.jsx("button",{type:"submit",className:"signin-button",disabled:l,children:l?"Signing In...":"Sign In"})]}),T.jsxs("div",{className:"signin-footer",children:[T.jsxs("p",{className:"signup-prompt",children:["Don't have an account?"," ",T.jsx("button",{className:"signup-link",onClick:()=>i("/signup"),children:"Sign up"})]}),T.jsxs("p",{className:"verification-prompt",children:["Need to verify your email?"," ",T.jsx("button",{className:"verification-link",onClick:()=>m(!0),children:"Resend verification email"})]})]})]})]})}function e3(){const i=Br(),[e,t]=X.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),[s,a]=X.useState(""),[l,c]=X.useState(!1),d=_=>{t({...e,[_.target.name]:_.target.value}),s&&a("")},m=async _=>{try{const v=qn(ln,"usernames",_.toLowerCase());return!(await _u(v)).exists()}catch(v){return console.error("Error checking username uniqueness:",v),!1}},p=async _=>{if(_.preventDefault(),a(""),c(!0),!e.username.trim()){a("Username is required"),c(!1);return}if(!e.fullName.trim()){a("Full name is required"),c(!1);return}if(!e.email.trim()){a("Email is required"),c(!1);return}if(e.password.length<6){a("Password must be at least 6 characters long"),c(!1);return}if(e.password!==e.confirmPassword){a("Passwords do not match"),c(!1);return}const v=e.username.trim().toLowerCase();if(v.length<3){a("Username must be at least 3 characters long"),c(!1);return}if(!/^[a-zA-Z0-9_]+$/.test(v)){a("Username can only contain letters, numbers, and underscores"),c(!1);return}try{if(!await m(v)){a("Username is already taken. Please choose another."),c(!1);return}const V=(await v4(ga,e.email,e.password)).user;await E4(V,{displayName:e.fullName}),await xb(V),await _p(qn(ln,"users",V.uid),{username:v,fullName:e.fullName,email:e.email,createdAt:new Date}),await _p(qn(ln,"usernames",v),{userId:V.uid,createdAt:new Date}),c(!1),alert("Account created successfully! Please check your email and verify your account before signing in."),i("/account")}catch(A){console.error("Signup error:",A);let C="An error occurred during signup. Please try again.";A.code==="auth/email-already-in-use"?C="An account with this email already exists. Please sign in instead.":A.code==="auth/invalid-email"?C="Please enter a valid email address.":A.code==="auth/weak-password"?C="Password is too weak. Please choose a stronger password.":A.code==="auth/network-request-failed"&&(C="Network error. Please check your internet connection and try again."),a(C),c(!1)}},y=()=>{i("/")};return T.jsxs("div",{className:"signup-container",children:[T.jsx("div",{className:"back-button-container",children:T.jsxs("button",{onClick:y,className:"back-to-start-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]})}),T.jsxs("div",{className:"signup-card",children:[T.jsxs("div",{className:"signup-header",children:[T.jsx("h1",{className:"signup-title",children:"Create Account"}),T.jsx("p",{className:"signup-subtitle",children:"Join our community today"})]}),T.jsxs("form",{onSubmit:p,className:"signup-form",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"username",className:"input-label",children:"Username"}),T.jsx("input",{id:"username",name:"username",type:"text",placeholder:"Choose a unique username",value:e.username,onChange:d,required:!0,className:"signup-input"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"fullName",className:"input-label",children:"Full Name"}),T.jsx("input",{id:"fullName",name:"fullName",type:"text",placeholder:"Enter your full name",value:e.fullName,onChange:d,required:!0,className:"signup-input"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),T.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:d,required:!0,className:"signup-input"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),T.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Create a password",value:e.password,onChange:d,required:!0,className:"signup-input"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"confirmPassword",className:"input-label",children:"Confirm Password"}),T.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:e.confirmPassword,onChange:d,required:!0,className:"signup-input"})]}),s&&T.jsxs("div",{className:"error-message",children:[T.jsx("span",{className:"error-icon",children:""}),s]}),T.jsx("button",{type:"submit",className:"signup-button",disabled:l,children:l?"Creating Account...":"Create Account"})]}),T.jsx("div",{className:"signup-footer",children:T.jsxs("p",{className:"signin-prompt",children:["Already have an account?"," ",T.jsx("button",{className:"signin-link",onClick:()=>i("/signin"),children:"Sign in"})]})})]})]})}function t3({listing:i,onContact:e,onFavorite:t,onShare:s,onMatch:a,onClaim:l,showActions:c=!0,isFavorited:d=!1,currentUserId:m=null,viewMode:p="grid"}){const[y,_]=X.useState(!1),[v,A]=X.useState(!1),[C,V]=X.useState(!1),[B,j]=X.useState(null),G=I=>{const O=new Date(I),W=Math.abs(new Date-O),U=Math.floor(W/(1e3*60*60*24)),te=Math.floor(W/(1e3*60*60)),ie=Math.floor(W/(1e3*60));return ie<60?`${ie}m ago`:te<24?`${te}h ago`:U<7?`${U}d ago`:O.toLocaleDateString()},F=I=>{switch(I==null?void 0:I.toLowerCase()){case"like new":return"condition-like-new";case"good":return"condition-good";case"fair":return"condition-fair";case"poor":return"condition-poor";default:return"condition-good"}},q=I=>{switch(I==null?void 0:I.toLowerCase()){case"available":return"status-available";case"matched":return"status-matched";case"claimed":return"status-claimed";default:return"status-available"}},$=I=>{switch(I==null?void 0:I.toLowerCase()){case"service":return"type-flair-service";case"item":return"type-flair-item";default:return"type-flair-item"}},z=I=>{switch(I==null?void 0:I.toLowerCase()){case"service":return{icon:"",text:"Service"};case"item":return{icon:"",text:"Item"};default:return{icon:"",text:"Item"}}},P=()=>{A(!0)},b=()=>{_(!0)},w=I=>{I.stopPropagation(),e&&e(i)},x=I=>{I.stopPropagation(),t&&t(i.id)},D=I=>{I.stopPropagation(),s&&s(i)},M=()=>{V(!1),j(null)},N=m&&i.userId===m,K=(i.requestors||[]).some(I=>I.userId===m),ee=(i.requestors||[]).length;if(p==="list"){const I=z(i.type);return T.jsxs("div",{className:"listing-row",children:[T.jsxs("div",{className:"listing-row-main",children:[T.jsx("div",{className:"listing-row-title",children:i.title}),T.jsxs("div",{className:"listing-row-meta",children:[T.jsxs("span",{className:`type-flair ${$(i.type)}`,children:[I.icon," ",I.text]}),T.jsx("span",{className:"listing-row-sep",children:""}),T.jsx("span",{className:"listing-row-category",children:i.category||i.serviceType}),T.jsx("span",{className:"listing-row-sep",children:""}),T.jsx("span",{className:"listing-row-location",children:i.location}),T.jsx("span",{className:"listing-row-sep",children:""}),(i.status==="available"||i.status==="claimed")&&T.jsx("span",{className:`status-badge ${q(i.status)}`,children:i.status}),i.status==="matched"&&T.jsx("span",{className:"matched-badge",children:" Matched"}),T.jsx("span",{className:"listing-row-sep",children:""}),T.jsx("span",{className:"listing-row-date",children:G(i.datePosted)})]})]}),c&&T.jsx("div",{className:"listing-row-actions"})]})}return T.jsxs("div",{className:"listing-card",children:[T.jsxs("div",{className:"listing-image-container",children:[(()=>{let I=null;return i.photos&&i.photos.length>0?I=typeof i.photos[0]=="string"?i.photos[0]:i.photos[0].url:i.image&&(I=i.image),I&&!v?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:I,alt:i.title,className:`listing-image ${y?"loaded":""}`,onLoad:b,onError:P}),!y&&T.jsx("div",{className:"image-placeholder",children:T.jsx("div",{className:"loading-spinner"})})]}):T.jsxs("div",{className:"image-placeholder no-image",children:[T.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),T.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),T.jsx("polyline",{points:"21,15 16,10 5,21"})]}),T.jsx("span",{children:"No Image"})]})})(),(i.status==="available"||i.status==="claimed")&&T.jsx("div",{className:`status-badge ${q(i.status)}`,children:i.status||"Available"}),(()=>{const I=z(i.type);return T.jsxs("div",{className:`type-flair-badge ${$(i.type)}`,children:[I.icon," ",I.text]})})(),N&&ee>0&&T.jsxs("div",{className:"request-count-badge",children:[ee," request",ee!==1?"s":""]}),c&&!N&&T.jsx("button",{className:`favorite-btn ${d?"favorited":""}`,onClick:x,"aria-label":d?"Remove from favorites":"Add to favorites",children:T.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:d?"currentColor":"none",stroke:"currentColor",children:T.jsx("path",{d:"20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),T.jsxs("div",{className:"listing-content",children:[T.jsx("h3",{className:"listing-title",children:i.title}),T.jsxs("div",{className:"listing-meta",children:[T.jsx("span",{className:"listing-category",children:i.category}),i.condition&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"meta-separator",children:""}),T.jsx("span",{className:`condition-badge ${F(i.condition)}`,children:i.condition})]})]}),i.description&&T.jsx("p",{className:"listing-description",children:i.description.length>100?`${i.description.substring(0,100)}...`:i.description}),T.jsx("div",{className:"listing-footer",children:T.jsxs("div",{className:"location-date",children:[T.jsxs("span",{className:"listing-location",children:[T.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),T.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),i.location]}),T.jsx("span",{className:"listing-date",children:G(i.datePosted)})]})}),c&&T.jsxs("div",{className:"listing-actions",children:[!N&&i.status==="available"&&!K&&T.jsxs("button",{className:"contact-btn primary",onClick:w,children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),T.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact"]}),!N&&K&&T.jsx("span",{className:"requested-indicator",children:"Requested"}),T.jsxs("button",{className:"share-btn secondary",onClick:D,children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("circle",{cx:"18",cy:"5",r:"3"}),T.jsx("circle",{cx:"6",cy:"12",r:"3"}),T.jsx("circle",{cx:"18",cy:"19",r:"3"}),T.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),T.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),"Share"]}),N&&T.jsx("span",{className:"own-listing-indicator",children:"Your listing"})]})]}),C&&B&&T.jsx("div",{className:"contact-popup-overlay",onClick:M,children:T.jsxs("div",{className:"contact-popup",onClick:I=>I.stopPropagation(),children:[T.jsx("h4",{children:"Contact Information"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Name:"})," ",B.userFullName]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",B.userEmail]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Requested:"})," ",G(B.requestDate)]}),T.jsx("button",{className:"close-popup-btn",onClick:M,children:"Close"})]})})]})}const n3=["All","Books & Media","Electronics","Toys & Games","Sports & Outdoors","Home & Garden","Office & School Supplies","Vehicles & Parts","Baby & Kids"],i3=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"title",label:"Title A-Z"},{value:"category",label:"Category"}];function r3({listings:i=[],onContact:e,onFavorite:t,onShare:s,onMatch:a,onClaim:l,favorites:c=[],currentUserId:d,loading:m=!1}){const[p,y]=X.useState("All"),[_,v]=X.useState(""),[A,C]=X.useState("newest"),[V,B]=X.useState("grid"),[j,G]=X.useState(!1),[F,q]=X.useState(1),$=18,z=X.useMemo(()=>{let Y=i;if(p!=="All"&&(Y=Y.filter(J=>J.category===p)),_){const J=_.toLowerCase();Y=Y.filter(ye=>ye.title.toLowerCase().includes(J)||ye.description.toLowerCase().includes(J)||ye.location.toLowerCase().includes(J)||ye.category.toLowerCase().includes(J))}return Y.sort((J,ye)=>{switch(A){case"newest":return new Date(ye.createdAt||ye.datePosted)-new Date(J.createdAt||J.datePosted);case"oldest":return new Date(J.createdAt||J.datePosted)-new Date(ye.createdAt||ye.datePosted);case"title":return J.title.localeCompare(ye.title);case"category":return J.category.localeCompare(ye.category);default:return 0}}),Y},[i,p,_,A]),P=Math.ceil(z.length/$),b=(F-1)*$,w=b+$,x=z.slice(b,w);X.useEffect(()=>{q(1)},[p,_,A]);const D=Y=>{q(Y),window.scrollTo({top:0,behavior:"smooth"})},M=Y=>{y(Y)},N=Y=>{v(Y.target.value)},K=Y=>{C(Y.target.value)},ee=Y=>{B(Y)},I=()=>{y("All"),v(""),C("newest")},O=Y=>{e&&e(Y)},ae=Y=>{t&&t(Y)},W=Y=>{s?s(Y):navigator.share?navigator.share({title:Y.title,text:`Check out this free item: ${Y.title}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},U=(Y,J)=>{a&&a(Y,J)},te=Y=>{l&&l(Y)},ie=Br(),re=()=>{ie("/")};return T.jsxs("div",{className:"listings-page",children:[T.jsxs("div",{className:"listings-header",children:[T.jsxs("button",{onClick:re,className:"back-to-start-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"m12 19-7-7 7-7"}),T.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),T.jsxs("div",{className:"header-content",children:[T.jsx("h1",{children:"Marketplace"}),T.jsx("p",{children:"Find free items in your community"})]})]}),T.jsxs("div",{className:"listings-controls",children:[T.jsxs("div",{className:"controls-container",children:[T.jsx("div",{className:"search-container",children:T.jsxs("div",{className:"search-input-wrapper",children:[T.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("circle",{cx:"11",cy:"11",r:"8"}),T.jsx("path",{d:"M21 21l-4.35-4.35"})]}),T.jsx("input",{type:"text",placeholder:"Search for items...",value:_,onChange:N,className:"search-input"}),_&&T.jsx("button",{className:"clear-search",onClick:()=>v(""),children:T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),T.jsxs("button",{className:"filter-toggle",onClick:()=>G(!j),children:[T.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:T.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})}),"Filters"]}),T.jsxs("div",{className:"view-mode-toggle",children:[T.jsx("button",{className:`view-btn ${V==="grid"?"active":""}`,onClick:()=>ee("grid"),children:T.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),T.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),T.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),T.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),T.jsx("button",{className:`view-btn ${V==="list"?"active":""}`,onClick:()=>ee("list"),children:T.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),T.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),T.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),T.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),T.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),T.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})})]})]}),T.jsxs("div",{className:`filters-panel ${j?"show":""}`,children:[T.jsxs("div",{className:"filter-section",children:[T.jsx("h3",{children:"Categories"}),T.jsx("div",{className:"category-filters",children:n3.map(Y=>T.jsx("button",{className:`category-btn ${p===Y?"active":""}`,onClick:()=>M(Y),children:Y},Y))})]}),T.jsxs("div",{className:"filter-section",children:[T.jsx("h3",{children:"Sort By"}),T.jsx("select",{value:A,onChange:K,className:"sort-select",children:i3.map(Y=>T.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),T.jsx("button",{className:"clear-filters-btn",onClick:I,children:"Clear All Filters"})]})]}),(z.length>0||p!=="All"||_)&&T.jsxs("div",{className:"results-summary",children:[z.length>0&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"results-count-badge",children:z.length}),T.jsx("span",{className:"results-count-text",children:z.length===1?"item found":"items found"})]}),(p!=="All"||_)&&T.jsxs("div",{className:"active-filters",children:[p!=="All"&&T.jsxs("span",{className:"filter-tag",children:[p,T.jsx("button",{onClick:()=>y("All"),children:""})]}),_&&T.jsxs("span",{className:"filter-tag",children:['"',_,'"',T.jsx("button",{onClick:()=>v(""),children:""})]})]})]}),T.jsx("div",{className:"listings-container",children:m?T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Loading listings..."})]}):z.length>0?T.jsx("div",{className:`listings-grid ${V}`,children:x.map(Y=>T.jsx(t3,{listing:Y,onContact:O,onFavorite:ae,onShare:W,onMatch:U,onClaim:te,isFavorited:c.includes(Y.id),currentUserId:d,showActions:!0,viewMode:V},Y.id))}):T.jsxs("div",{className:"no-results",children:[T.jsx("div",{className:"no-results-icon",children:T.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"11",cy:"11",r:"8"}),T.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),T.jsx("h2",{className:"no-results-title",children:"No items found"}),T.jsx("p",{className:"no-results-message",children:_||p!=="All"?"Try adjusting your search or filters.":"There are no listings available at the moment. Be the first to share something with your community!"}),T.jsxs("div",{className:"no-results-actions",children:[(_||p!=="All")&&T.jsx("button",{className:"clear-filters-btn",onClick:I,children:"Clear Filters"}),T.jsx("button",{className:"create-listing-cta",onClick:()=>ie("/createlistings"),children:"+ Create a Listing"})]})]})}),P>1&&T.jsxs("div",{className:"pagination-controls",children:[T.jsx("button",{className:`page-btn ${F===1?"disabled":""}`,onClick:()=>D(F-1),disabled:F===1,children:"Previous"}),T.jsxs("span",{className:"page-info",children:["Page ",F," of ",P]}),T.jsx("button",{className:`page-btn ${F===P?"disabled":""}`,onClick:()=>D(F+1),disabled:F===P,children:"Next"})]})]})}const Gm=["Books & Media","Electronics","Toys & Games","Sports & Outdoors","Home & Garden","Office & School Supplies","Vehicles & Parts","Baby & Kids"];function s3({onCreate:i}){const e=Br(),[t,s]=X.useState({title:"",location:"",category:Gm[0],condition:"Good",description:"",serviceType:"Tutoring"}),[a,l]=X.useState([]),[c,d]=X.useState(!1),[m,p]=X.useState({current:0,total:0}),[y,_]=X.useState({}),[v,A]=X.useState("item"),C=["Tutoring","Volunteer Opportunity","Yardwork","Pet Care","Other"],V=q=>{const{name:$,value:z}=q.target;s({...t,[$]:z}),y[$]&&_(P=>({...P,[$]:""}))},B=q=>{const $=Array.from(q.target.files);l($),$.length>0&&y.photos&&_(z=>({...z,photos:""}))},j=()=>{let q=!0;const $={};return t.title.trim()||($.title="Title is required.",q=!1),t.location.trim()||($.location="Location is required.",q=!1),t.description.trim()||($.description="Description is required.",q=!1),v==="item"?(t.category||($.category="Category is required.",q=!1),t.condition||($.condition="Condition is required.",q=!1)):v==="service"&&(t.serviceType||($.serviceType="Service type is required.",q=!1)),_($),q},G=async q=>{if(q.preventDefault(),!!j()){d(!0),p({current:0,total:a.length});try{let $=null;if(v==="item"){const z={...t,type:"item"};i&&($=await i(z,a))}else{const z={title:t.title,description:t.description,location:t.location,serviceType:t.serviceType,type:"service"};i&&($=await i(z))}s({title:"",description:"",location:"",category:Gm[0],condition:"Good",serviceType:C[0]}),l([]),_({}),p({current:0,total:0}),alert("Listing created successfully!"),e("/")}catch($){console.error("Error creating listing:",$),alert("Failed to create listing. Please try again.")}finally{d(!1)}}},F=()=>{e("/")};return T.jsx("div",{className:"create-listing-page",children:T.jsxs("div",{className:"create-listing-container",children:[T.jsxs("button",{onClick:F,className:"back-to-start-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"M12 19-7-7 7-7"}),T.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),T.jsxs("div",{className:"create-listing-header",children:[T.jsx("h1",{children:"Create New Listing"}),T.jsx("p",{children:"Share items or services you can offer to your community - completely free!"})]}),T.jsxs("div",{className:"listing-type-toggle",children:[T.jsxs("label",{className:v==="item"?"selected":"",children:[T.jsx("input",{type:"radio",name:"listingType",value:"item",checked:v==="item",onChange:()=>A("item")}),T.jsx("span",{children:"Item"})]}),T.jsxs("label",{className:v==="service"?"selected":"",children:[T.jsx("input",{type:"radio",name:"listingType",value:"service",checked:v==="service",onChange:()=>A("service")}),T.jsx("span",{children:"Service"})]})]}),T.jsxs("form",{onSubmit:G,className:"create-listing-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"title",children:"Title *"}),T.jsx("input",{type:"text",id:"title",name:"title",value:t.title,onChange:V,placeholder:v==="item"?"What are you giving away?":"What service are you offering?",maxLength:"100",className:y.title?"error":""}),y.title&&T.jsx("span",{className:"error-message",children:y.title})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"description",children:"Description *"}),T.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:V,placeholder:v==="item"?"Describe the item's condition, any flaws, pickup instructions, etc.":"Describe the service, requirements, schedule, etc.",rows:"4",maxLength:"500",className:y.description?"error":""}),T.jsxs("div",{className:"character-count",children:[t.description.length,"/500"]}),y.description&&T.jsx("span",{className:"error-message",children:y.description})]}),v==="service"&&T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"serviceType",children:"Service Type *"}),T.jsx("select",{id:"serviceType",name:"serviceType",value:t.serviceType||C[0],onChange:V,className:y.serviceType?"error":"",children:C.map(q=>T.jsx("option",{value:q,children:q},q))}),y.serviceType&&T.jsx("span",{className:"error-message",children:y.serviceType})]}),v==="item"&&T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"category",children:"Category"}),T.jsx("select",{id:"category",name:"category",value:t.category,onChange:V,children:Gm.map(q=>T.jsx("option",{value:q,children:q},q))})]}),v==="item"&&T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"condition",children:"Condition"}),T.jsxs("select",{id:"condition",name:"condition",value:t.condition,onChange:V,children:[T.jsx("option",{value:"",children:"Select condition"}),T.jsx("option",{value:"Like New",children:"Like New"}),T.jsx("option",{value:"Good",children:"Good"}),T.jsx("option",{value:"Fair",children:"Fair"}),T.jsx("option",{value:"Poor",children:"Poor"})]})]}),v==="item"&&T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"photos",children:"Photos"}),T.jsxs("label",{htmlFor:"photos",className:"image-upload-label",children:[T.jsx("span",{role:"img","aria-label":"camera",style:{marginRight:8},children:""}),a.length>0?`${a.length} photo${a.length>1?"s":""} selected`:"Choose Photos"]}),T.jsx("input",{type:"file",id:"photos",name:"photos",accept:"image/*",multiple:!0,onChange:B,disabled:c,className:"image-input"}),a.length>0&&T.jsx("div",{className:"image-preview-list",children:a.map((q,$)=>T.jsxs("div",{className:"image-preview-item",children:[T.jsx("span",{className:"image-preview-name",children:q.name}),T.jsxs("span",{className:"image-preview-size",children:["(",(q.size/1024/1024).toFixed(2)," MB)"]})]},$))}),y.photos&&T.jsx("span",{className:"error-message",children:y.photos}),m.total>0&&T.jsxs("div",{className:"upload-progress",children:["Uploading ",m.current," of ",m.total," photos..."]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"location",children:v==="item"?"Pickup Location *":"Service Location *"}),T.jsx("input",{type:"text",id:"location",name:"location",value:t.location,onChange:V,placeholder:v==="item"?"City, State or general area":"Where is the service provided?",className:y.location?"error":""}),y.location&&T.jsx("span",{className:"error-message",children:y.location})]}),T.jsx("div",{className:"form-actions",children:T.jsx("button",{type:"submit",disabled:c,className:"submit-btn",children:c?"Creating Listing...":"Create Listing"})})]})]})})}function a3(){const{currentUser:i,userProfile:e,logout:t,updateUserProfile:s}=Sf(),a=Br(),[l,c]=X.useState("profile"),[d,m]=X.useState([]),[p,y]=X.useState([]),[_,v]=X.useState(!0),[A,C]=X.useState(!1),[V,B]=X.useState(!1),[j,G]=X.useState(!1),[F,q]=X.useState(null),[$,z]=X.useState(null),[P,b]=X.useState(null),[w,x]=X.useState({}),[D,M]=X.useState({}),[N,K]=X.useState({}),[ee,I]=X.useState({}),[O,ae]=X.useState({accounts:0,listings:0}),[W,U]=X.useState(!0),[te,ie]=X.useState(!1),[re,Y]=X.useState(null),[J,ye]=X.useState(!1),[De,be]=X.useState(!1),[Se,ze]=X.useState(null),[Le,tt]=X.useState({}),[Jt,Bt]=X.useState(!1),[rt,Mt]=X.useState([]);X.useEffect(()=>{async function he(){U(!0);try{const ke=await aw();ae(ke)}catch{ae({accounts:0,listings:0})}finally{U(!1)}}he()},[]),X.useEffect(()=>{if(!i)return;const he=_h(v1(lu(ln,"listings"),_1("userId","==",i.uid)),Pe=>{const Fe=Pe.docs.map(st=>({id:st.id,type:"item",...st.data()}));m(Fe)}),ke=_h(v1(lu(ln,"services"),_1("userId","==",i.uid)),Pe=>{Pe.docs.map(Fe=>({id:Fe.id,type:"service",...Fe.data()})),m(listings)}),ht=_h(lu(ln,"listings"),Pe=>{const st=Pe.docs.map(at=>({id:at.id,type:"item",...at.data()})).filter(at=>(at.requestors||[]).some(yn=>yn.userId===i.uid)).map(at=>{var zt;const yn=(at.requestors||[]).find(Cn=>Cn.userId===i.uid);return{...at,userRequest:yn,isMatched:((zt=at.matchedWith)==null?void 0:zt.userId)===i.uid}});y(st),v(!1)});return()=>{he(),ke(),ht()}},[i]);const Ue=he=>{Y(he),ie(!0)},lt=async()=>{if(re){ye(!0);try{const he=re.type==="service"?"services":"listings",ke=qn(ln,he,re.id),ht=await _u(ke);if(!ht.exists())throw new Error(`${re.type==="service"?"Service":"Listing"} not found`);const Pe=ht.data();if(Pe.userId!==i.uid)throw new Error(`You can only delete your own ${re.type==="service"?"services":"listings"}`);if(Pe.photos&&Pe.photos.length>0){const Fe=Pe.photos.map(st=>{const at=rw(sw,st.path);return HO(at)});await Promise.allSettled(Fe)}await pN(ke),alert(`${re.type==="service"?"Service":"Listing"} deleted successfully!`),ie(!1),Y(null)}catch(he){console.error("Error deleting:",he),alert(`Failed to delete ${re.type==="service"?"service":"listing"}. Please try again.`)}finally{ye(!1)}}},Et=()=>{ie(!1),Y(null)},St=he=>{ze(he),he.type==="service"?tt({title:he.title||"",description:he.description||"",serviceType:he.serviceType||"",location:he.location||""}):tt({title:he.title||"",description:he.description||"",category:he.category||"",condition:he.condition||"",location:he.location||""}),be(!0)},Xe=he=>{const{name:ke,value:ht}=he.target;tt(Pe=>({...Pe,[ke]:ht}))},en=async()=>{if(Se){Bt(!0);try{const he=Se.type==="service"?"services":"listings",ke=qn(ln,he,Se.id);await Nr(ke,{...Le,updatedAt:new Date}),alert(`${Se.type==="service"?"Service":"Listing"} updated successfully!`),be(!1),ze(null),tt({})}catch(he){console.error("Error updating:",he),alert(`Failed to update ${Se.type==="service"?"service":"listing"}. Please try again.`)}finally{Bt(!1)}}},ct=()=>{be(!1),ze(null),tt({})},nt=async()=>{try{await t(),a("/")}catch(he){console.error("Error logging out:",he)}},$t=()=>{a("/")},Ke=he=>new Date(he).toLocaleDateString(),qe=he=>{switch(he==null?void 0:he.toLowerCase()){case"available":return"status-available";case"matched":return"status-matched";case"claimed":return"status-claimed";default:return"status-available"}},it=he=>{q(he),C(!0)},bt=he=>{z(he),B(!0)},Nt=(he,ke)=>{b(he),q({id:ke}),G(!0)},kt=()=>{C(!1),B(!1),G(!1),q(null),z(null),b(null)},Pt=async(he,ke)=>{const ht=`${he}-${ke.userId}`;x(Pe=>({...Pe,[ht]:!0}));try{const Pe=qn(ln,"listings",he);await Nr(Pe,{matchedWith:{userId:ke.userId,userEmail:ke.userEmail,userFullName:ke.userFullName,matchDate:new Date().toISOString()},status:"matched"}),M(Fe=>({...Fe,[ht]:!0})),setTimeout(()=>{M(Fe=>{const st={...Fe};return delete st[ht],st}),x(Fe=>{const st={...Fe};return delete st[ht],st})},3e3)}catch(Pe){console.error("Error matching with user:",Pe),alert("Failed to match with user. Please try again.")}finally{x(Pe=>{const Fe={...Pe};return delete Fe[ht],Fe})}},tn=async(he,ke,ht)=>{const Pe=`${F.id}-${he}`;K(Fe=>({...Fe,[Pe]:!0}));try{const Fe=qn(ln,"listings",F.id);await Nr(Fe,{contactExchanged:{[he]:{sharedBy:i.uid,sharedAt:new Date().toISOString(),userEmail:i.email,userFullName:(e==null?void 0:e.fullName)||"Unknown"}}}),I(st=>({...st,[Pe]:!0})),setTimeout(()=>{I(st=>{const at={...st};return delete at[Pe],at}),K(st=>{const at={...st};return delete at[Pe],at})},3e3)}catch(Fe){console.error("Error sharing contact:",Fe),alert("Failed to share contact. Please try again.")}finally{K(Fe=>{const st={...Fe};return delete st[Pe],st})}};return _?T.jsx("div",{className:"account-page",children:T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Loading account information..."})]})}):T.jsxs("div",{className:"account-page",children:[T.jsxs("div",{className:"account-container",children:[T.jsxs("button",{onClick:$t,className:"back-to-start-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"M12 19-7-7 7-7"}),T.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),T.jsxs("div",{className:"account-header",children:[T.jsx("h1",{children:"Account"}),T.jsx("p",{children:"Manage your profile, listings, and requests"})]}),T.jsxs("div",{className:"account-tabs",children:[T.jsx("button",{className:`tab-btn ${l==="profile"?"active":""}`,onClick:()=>c("profile"),children:"Profile"}),T.jsxs("button",{className:`tab-btn ${l==="listings"?"active":""}`,onClick:()=>c("listings"),children:["My Listings (",d.length+rt.length,")"]}),T.jsxs("button",{className:`tab-btn ${l==="requests"?"active":""}`,onClick:()=>c("requests"),children:["My Requests (",p.length,")"]})]}),T.jsxs("div",{className:"tab-content",children:[l==="profile"&&T.jsxs("div",{className:"profile-section",children:[T.jsx("h3",{children:"Profile Information"}),T.jsxs("div",{className:"profile-info",children:[T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Email:"}),T.jsx("span",{className:"info-value",children:i.email}),T.jsx("span",{className:`verification-badge ${i.emailVerified?"verified":"unverified"}`,children:i.emailVerified?" Verified":" Unverified"})]}),T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Full Name:"}),T.jsx("span",{className:"info-value",children:(e==null?void 0:e.fullName)||"Not set"})]}),T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Username:"}),T.jsx("span",{className:"info-value",children:(e==null?void 0:e.username)||"Not set"})]}),T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Member Since:"}),T.jsx("span",{className:"info-value",children:e!=null&&e.createdAt?new Date(e.createdAt.toDate()).toLocaleDateString():"Unknown"})]})]}),T.jsxs("div",{className:"profile-update",children:[T.jsx("h3",{children:"Update Profile"}),T.jsxs("form",{onSubmit:async he=>{he.preventDefault();const ht=new FormData(he.target).get("fullName");if(ht.trim()){const Pe=await s({fullName:ht.trim()});alert(Pe?"Profile updated successfully!":"Failed to update profile. Please try again.")}},children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"fullName",children:"Full Name"}),T.jsx("input",{type:"text",id:"fullName",name:"fullName",placeholder:"Enter your full name",defaultValue:(e==null?void 0:e.fullName)||"",className:"profile-input"})]}),T.jsx("button",{type:"submit",className:"update-profile-btn",children:"Update Profile"})]})]}),T.jsx("button",{onClick:nt,className:"logout-btn",children:"Sign Out"})]}),l==="listings"&&T.jsxs("div",{className:"listings-section",children:[T.jsx("h2",{children:"My Listings"}),d.length===0&&rt.length===0?T.jsxs("div",{className:"empty-state",children:[T.jsx("p",{children:"You haven't created any listings yet."}),T.jsx("button",{onClick:()=>a("/createlistings"),className:"create-listing-btn",children:"Create Your First Listing"})]}):T.jsxs("div",{className:"listings-grid",children:[d.map(he=>T.jsxs("div",{className:"listing-card",children:[T.jsxs("div",{className:"listing-header",children:[T.jsx("h3",{children:he.title}),T.jsxs("div",{className:"listing-status",children:[T.jsx("span",{className:"listing-type-badge item",children:"Item"}),he.status!=="matched"&&T.jsx("span",{className:`status-badge ${qe(he.status)}`,children:he.status}),he.matchedWith&&T.jsx("span",{className:"matched-badge",children:" Matched"})]})]}),T.jsx("p",{className:"listing-description",children:he.description}),T.jsxs("div",{className:"listing-meta",children:[T.jsx("span",{children:he.category}),T.jsx("span",{children:""}),T.jsx("span",{children:he.condition}),T.jsx("span",{children:""}),T.jsx("span",{children:he.location})]}),T.jsxs("div",{className:"listing-actions",children:[T.jsxs("span",{className:"request-count",children:[(he.requestors||[]).length," request",(he.requestors||[]).length!==1?"s":""]}),T.jsxs("div",{className:"listing-buttons",children:[(he.requestors||[]).length>0&&T.jsx("button",{className:"view-requests-btn",onClick:()=>it(he),children:"View Requests"}),T.jsx("button",{className:"edit-listing-btn",onClick:()=>St(he),children:"Edit"}),T.jsx("button",{className:"delete-listing-btn",onClick:()=>Ue(he),children:"Delete"})]})]})]},`item-${he.id}`)),rt.map(he=>T.jsxs("div",{className:"listing-card",children:[T.jsxs("div",{className:"listing-header",children:[T.jsx("h3",{children:he.title}),T.jsxs("div",{className:"listing-status",children:[T.jsx("span",{className:"listing-type-badge service",children:"Service"}),he.status!=="matched"&&T.jsx("span",{className:`status-badge ${qe(he.status)}`,children:he.status}),he.matchedWith&&T.jsx("span",{className:"matched-badge",children:" Matched"})]})]}),T.jsx("p",{className:"listing-description",children:he.description}),T.jsxs("div",{className:"listing-meta",children:[T.jsx("span",{children:he.serviceType}),T.jsx("span",{children:""}),T.jsx("span",{children:he.location})]}),T.jsxs("div",{className:"listing-actions",children:[T.jsxs("span",{className:"request-count",children:[(he.requestors||[]).length," request",(he.requestors||[]).length!==1?"s":""]}),T.jsxs("div",{className:"listing-buttons",children:[(he.requestors||[]).length>0&&T.jsx("button",{className:"view-requests-btn",onClick:()=>it(he),children:"View Requests"}),T.jsx("button",{className:"edit-listing-btn",onClick:()=>St(he),children:"Edit"}),T.jsx("button",{className:"delete-listing-btn",onClick:()=>Ue(he),children:"Delete"})]})]})]},`service-${he.id}`))]})]}),l==="requests"&&T.jsxs("div",{className:"requests-section",children:[T.jsx("h2",{children:"My Requests"}),p.length===0?T.jsxs("div",{className:"empty-state",children:[T.jsx("p",{children:"You haven't requested any items yet."}),T.jsx("button",{onClick:()=>a("/listingspage"),className:"browse-listings-btn",children:"Browse Listings"})]}):T.jsx("div",{className:"requests-grid",children:p.map(he=>T.jsxs("div",{className:"request-card",children:[T.jsxs("div",{className:"request-header",children:[T.jsx("h3",{children:he.title}),T.jsxs("div",{className:"request-status",children:[(he.status==="available"||he.status==="claimed")&&T.jsx("span",{className:`status-badge ${qe(he.status)}`,children:he.status}),he.isMatched&&T.jsx("span",{className:"matched-badge",children:" Matched"})]})]}),T.jsx("p",{className:"request-description",children:he.description}),T.jsxs("div",{className:"request-meta",children:[T.jsxs("span",{children:["Posted by: ",he.userFullName]}),T.jsx("span",{children:""}),T.jsxs("span",{children:["Requested: ",Ke(he.userRequest.requestDate)]})]}),he.isMatched&&T.jsx("div",{className:"matched-info",children:T.jsx("button",{className:"view-owner-contact-btn",onClick:()=>bt(he),children:"View Owner Contact"})})]},he.id))})]})]})]}),A&&F&&T.jsx("div",{className:"modal-overlay",onClick:kt,children:T.jsxs("div",{className:"modal-content",onClick:he=>he.stopPropagation(),children:[T.jsxs("div",{className:"modal-header",children:[T.jsxs("h3",{children:['Requests for "',F.title,'"']}),T.jsx("button",{className:"close-modal-btn",onClick:kt,children:""})]}),T.jsx("div",{className:"modal-body",children:(F.requestors||[]).length===0?T.jsx("p",{children:"No requests yet."}):T.jsx("div",{className:"requests-list",children:F.requestors.map((he,ke)=>{const ht=`${F.id}-${he.userId}`,Pe=`${F.id}-${he.userId}`,Fe=w[ht],st=D[ht],at=N[Pe],yn=ee[Pe];return T.jsxs("div",{className:"requestor-item",children:[T.jsxs("div",{className:"requestor-header",children:[T.jsxs("div",{className:"requestor-info",children:[T.jsx("h4",{children:he.userFullName}),T.jsxs("p",{children:["Email: ",he.userEmail]}),T.jsxs("p",{children:["Requested: ",Ke(he.requestDate)]})]}),T.jsx("div",{className:"requestor-status",children:T.jsx("button",{className:`match-btn ${Fe?"loading":""}`,onClick:()=>Pt(F.id,he),disabled:Fe,children:Fe?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"spinner"}),"Matching..."]}):"Match"})})]}),T.jsx("div",{className:"requestor-actions",children:st?yn?T.jsx("button",{className:"contact-btn shared",disabled:!0,children:" Contact Shared"}):T.jsx("button",{className:`contact-btn ${at?"loading":""}`,onClick:()=>Nt(he,F.id),disabled:at,children:at?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"spinner"}),"Sharing..."]}):"Share Contact"}):T.jsx("button",{className:"contact-btn",onClick:()=>Nt(he,F.id),children:"Contact"})})]},ke)})})})]})}),V&&$&&T.jsx("div",{className:"modal-overlay",onClick:kt,children:T.jsxs("div",{className:"modal-content",onClick:he=>he.stopPropagation(),children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h3",{children:"Owner Contact Information"}),T.jsx("button",{className:"close-modal-btn",onClick:kt,children:""})]}),T.jsxs("div",{className:"modal-body",children:[T.jsxs("div",{className:"owner-info",children:[T.jsxs("h4",{children:["Item: ",$.title]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Owner Name:"})," ",$.userFullName]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Owner Email:"})," ",$.userEmail]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Posted:"})," ",Ke($.datePosted)]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Your Request:"})," ",Ke($.userRequest.requestDate)]})]}),T.jsx("div",{className:"contact-actions",children:T.jsx("p",{className:"contact-note",children:"You can now contact the owner directly using their email address above."})})]})]})}),j&&P&&F&&T.jsx("div",{className:"modal-overlay",onClick:kt,children:T.jsxs("div",{className:"modal-content",onClick:he=>he.stopPropagation(),children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h3",{children:"Contact Exchange"}),T.jsx("button",{className:"close-modal-btn",onClick:kt,children:""})]}),T.jsx("div",{className:"modal-body",children:T.jsxs("div",{className:"contact-exchange-info",children:[T.jsxs("h4",{children:["Exchange Contact with ",P.userFullName]}),T.jsx("p",{children:"Share your contact information to facilitate the exchange."}),T.jsxs("div",{className:"contact-details",children:[T.jsxs("div",{className:"your-contact",children:[T.jsx("h5",{children:"Your Contact Information:"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Name:"})," ",(e==null?void 0:e.fullName)||"Not set"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",i==null?void 0:i.email]})]}),T.jsxs("div",{className:"their-contact",children:[T.jsx("h5",{children:"Their Contact Information:"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Name:"})," ",P.userFullName]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",P.userEmail]})]})]}),T.jsxs("div",{className:"contact-exchange-actions",children:[T.jsx("button",{className:"share-contact-btn",onClick:()=>tn(P.userId,P.userEmail,P.userFullName),children:"Share My Contact"}),T.jsx("p",{className:"contact-exchange-note",children:"By sharing your contact, you agree to exchange contact information with this user."})]})]})})]})}),te&&re&&T.jsx("div",{className:"modal-overlay",onClick:Et,children:T.jsxs("div",{className:"modal-content",onClick:he=>he.stopPropagation(),children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h3",{children:"Delete Listing"}),T.jsx("button",{className:"close-modal-btn",onClick:Et,children:""})]}),T.jsx("div",{className:"modal-body",children:T.jsxs("p",{children:["Are you sure you want to delete ",T.jsx("strong",{children:re.title}),"? This action cannot be undone."]})}),T.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[T.jsx("button",{className:"cancel-btn",onClick:Et,disabled:J,children:"Cancel"}),T.jsx("button",{className:"confirm-delete-btn",onClick:lt,disabled:J,style:{background:"#dc2626",color:"white"},children:J?"Deleting...":"Delete"})]})]})}),De&&Se&&T.jsx("div",{className:"modal-overlay",onClick:ct,children:T.jsxs("div",{className:"modal-content",onClick:he=>he.stopPropagation(),children:[T.jsxs("div",{className:"modal-header",children:[T.jsxs("h3",{children:["Edit ",Se.type==="service"?"Service":"Listing"]}),T.jsx("button",{className:"close-modal-btn",onClick:ct,children:""})]}),T.jsx("div",{className:"modal-body",children:T.jsxs("form",{className:"edit-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"edit-title",children:"Title"}),T.jsx("input",{type:"text",id:"edit-title",name:"title",value:Le.title,onChange:Xe,className:"form-input",required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"edit-description",children:"Description"}),T.jsx("textarea",{id:"edit-description",name:"description",value:Le.description,onChange:Xe,className:"form-textarea",rows:"4",required:!0})]}),Se.type==="service"&&T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"edit-serviceType",children:"Service Type"}),T.jsxs("select",{id:"edit-serviceType",name:"serviceType",value:Le.serviceType,onChange:Xe,className:"form-select",required:!0,children:[T.jsx("option",{value:"",children:"Select Service Type"}),T.jsx("option",{value:"Tutoring",children:"Tutoring"}),T.jsx("option",{value:"Volunteer Opportunity",children:"Volunteer Opportunity"}),T.jsx("option",{value:"Yardwork",children:"Yardwork"}),T.jsx("option",{value:"Pet Care",children:"Pet Care"}),T.jsx("option",{value:"Other",children:"Other"})]})]}),Se.type==="item"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"edit-category",children:"Category"}),T.jsxs("select",{id:"edit-category",name:"category",value:Le.category,onChange:Xe,className:"form-select",required:!0,children:[T.jsx("option",{value:"",children:"Select Category"}),T.jsx("option",{value:"Books & Media",children:"Books & Media"}),T.jsx("option",{value:"Electronics",children:"Electronics"}),T.jsx("option",{value:"Toys & Games",children:"Toys & Games"}),T.jsx("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),T.jsx("option",{value:"Home & Garden",children:"Home & Garden"}),T.jsx("option",{value:"Office & School Supplies",children:"Office & School Supplies"}),T.jsx("option",{value:"Vehicles & Parts",children:"Vehicles & Parts"}),T.jsx("option",{value:"Baby & Kids",children:"Baby & Kids"})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"edit-condition",children:"Condition"}),T.jsxs("select",{id:"edit-condition",name:"condition",value:Le.condition,onChange:Xe,className:"form-select",required:!0,children:[T.jsx("option",{value:"",children:"Select Condition"}),T.jsx("option",{value:"Like New",children:"Like New"}),T.jsx("option",{value:"Good",children:"Good"}),T.jsx("option",{value:"Fair",children:"Fair"}),T.jsx("option",{value:"Poor",children:"Poor"})]})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"edit-location",children:"Location"}),T.jsx("input",{type:"text",id:"edit-location",name:"location",value:Le.location,onChange:Xe,className:"form-input",required:!0})]})]})}),T.jsx("div",{className:"modal-footer",children:T.jsx("button",{className:`save-btn ${Jt?"loading":""}`,onClick:en,disabled:Jt,children:Jt?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"spinner"}),"Saving..."]}):"Save Changes"})})]})})]})}function o3(){const i=Br(),[e,t]=X.useState({accounts:0,listings:0}),[s,a]=X.useState(!0);X.useEffect(()=>{async function c(){a(!0);try{const d=await aw();t(d)}catch{t({accounts:0,listings:0})}finally{a(!1)}}c()},[]);const l=()=>{i("/")};return T.jsx("div",{className:"about-page",children:T.jsxs("div",{className:"about-container",children:[T.jsxs("button",{onClick:l,className:"back-to-start-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[T.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]}),T.jsx("h1",{className:"about-title",children:"About GoodNeighbor"}),T.jsxs("div",{className:"community-stats-card",children:[T.jsx("div",{className:"community-stats-title",children:"Community Stats"}),s?T.jsx("div",{className:"community-stats-loading",children:"Loading..."}):T.jsxs("div",{className:"community-stats-list",children:[T.jsxs("div",{className:"community-stat",children:[T.jsx("span",{className:"community-stat-number accounts",children:e.accounts}),T.jsx("span",{className:"community-stat-label",children:"Accounts"})]}),T.jsxs("div",{className:"community-stat",children:[T.jsx("span",{className:"community-stat-number listings",children:e.listings}),T.jsx("span",{className:"community-stat-label",children:"Listings"})]})]})]}),T.jsxs("div",{className:"about-section",children:[T.jsx("h2",{className:"about-section-title",children:"About Us"}),T.jsx("div",{className:"about-section-text",children:T.jsx("p",{children:"Welcome to Good Neighbor! This is a community-driven marketplace where you can exchange goods and services with members of your community. As a kind reminder from Good Neighbor, please be mindful of both giving and receiving. This project is only sustainable if we all do our part to keep it going. Our dream is to not only create a platform for people to exchange, but to create a stronger, more connected community."})})]}),T.jsxs("div",{className:"about-section",children:[T.jsx("h2",{className:"about-section-title",children:"Team"}),T.jsxs("div",{className:"co-founders-list",children:[T.jsx("a",{href:"https://www.instagram.com/_michael.yang/",target:"_blank",rel:"noopener noreferrer",className:"co-founder-link",children:T.jsxs("div",{className:"co-founder",children:[T.jsx("h3",{className:"co-founder-name",children:"Michael Yang"}),T.jsx("p",{className:"co-founder-nickname",children:T.jsx("em",{children:"Blorg"})})]})}),T.jsx("a",{href:"https://www.instagram.com/ronit_kongara/",target:"_blank",rel:"noopener noreferrer",className:"co-founder-link",children:T.jsxs("div",{className:"co-founder",children:[T.jsx("h3",{className:"co-founder-name",children:"Ronit Kongara"}),T.jsx("p",{className:"co-founder-nickname",children:T.jsx("em",{children:"Kongaroo"})})]})})]})]})]})})}function l3(i,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(s){if(s!=="default"&&!(s in i)){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}})}),Object.freeze(i)}function lw(i,e){return new Promise(function(t,s){let a;return u3(i).then(function(l){try{return a=l,t(new Blob([e.slice(0,2),a,e.slice(2)],{type:"image/jpeg"}))}catch(c){return s(c)}},s)})}const u3=i=>new Promise((e,t)=>{const s=new FileReader;s.addEventListener("load",({target:{result:a}})=>{const l=new DataView(a);let c=0;if(l.getUint16(c)!==65496)return t("not a valid JPEG");for(c+=2;;){const d=l.getUint16(c);if(d===65498)break;const m=l.getUint16(c+2);if(d===65505&&l.getUint32(c+4)===1165519206){const p=c+10;let y;switch(l.getUint16(p)){case 18761:y=!0;break;case 19789:y=!1;break;default:return t("TIFF header contains invalid endian")}if(l.getUint16(p+2,y)!==42)return t("TIFF header contains invalid version");const _=l.getUint32(p+4,y),v=p+_+2+12*l.getUint16(p+_,y);for(let A=p+_+2;A<v;A+=12)if(l.getUint16(A,y)==274){if(l.getUint16(A+2,y)!==3)return t("Orientation data type is invalid");if(l.getUint32(A+4,y)!==1)return t("Orientation data count is invalid");l.setUint16(A+8,1,y);break}return e(a.slice(c,c+2+m))}c+=2+m}return e(new Blob)}),s.readAsArrayBuffer(i)});var Kh={},c3={get exports(){return Kh},set exports(i){Kh=i}};(function(i){var e,t,s={};c3.exports=s,s.parse=function(a,l){for(var c=s.bin.readUshort,d=s.bin.readUint,m=0,p={},y=new Uint8Array(a),_=y.length-4;d(y,_)!=101010256;)_--;m=_,m+=4;var v=c(y,m+=4);c(y,m+=2);var A=d(y,m+=2),C=d(y,m+=4);m+=4,m=C;for(var V=0;V<v;V++){d(y,m),m+=4,m+=4,m+=4,d(y,m+=4),A=d(y,m+=4);var B=d(y,m+=4),j=c(y,m+=4),G=c(y,m+2),F=c(y,m+4);m+=6;var q=d(y,m+=8);m+=4,m+=j+G+F,s._readLocal(y,q,p,A,B,l)}return p},s._readLocal=function(a,l,c,d,m,p){var y=s.bin.readUshort,_=s.bin.readUint;_(a,l),y(a,l+=4),y(a,l+=2);var v=y(a,l+=2);_(a,l+=2),_(a,l+=4),l+=4;var A=y(a,l+=8),C=y(a,l+=2);l+=2;var V=s.bin.readUTF8(a,l,A);if(l+=A,l+=C,p)c[V]={size:m,csize:d};else{var B=new Uint8Array(a.buffer,l);if(v==0)c[V]=new Uint8Array(B.buffer.slice(l,l+d));else{if(v!=8)throw"unknown compression method: "+v;var j=new Uint8Array(m);s.inflateRaw(B,j),c[V]=j}}},s.inflateRaw=function(a,l){return s.F.inflate(a,l)},s.inflate=function(a,l){return a[0],a[1],s.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),l)},s.deflate=function(a,l){l==null&&(l={level:6});var c=0,d=new Uint8Array(50+Math.floor(1.1*a.length));d[c]=120,d[c+1]=156,c+=2,c=s.F.deflateRaw(a,d,c,l.level);var m=s.adler(a,0,a.length);return d[c+0]=m>>>24&255,d[c+1]=m>>>16&255,d[c+2]=m>>>8&255,d[c+3]=m>>>0&255,new Uint8Array(d.buffer,0,c+4)},s.deflateRaw=function(a,l){l==null&&(l={level:6});var c=new Uint8Array(50+Math.floor(1.1*a.length)),d=s.F.deflateRaw(a,c,d,l.level);return new Uint8Array(c.buffer,0,d)},s.encode=function(a,l){l==null&&(l=!1);var c=0,d=s.bin.writeUint,m=s.bin.writeUshort,p={};for(var y in a){var _=!s._noNeed(y)&&!l,v=a[y],A=s.crc.crc(v,0,v.length);p[y]={cpr:_,usize:v.length,crc:A,file:_?s.deflateRaw(v):v}}for(var y in p)c+=p[y].file.length+30+46+2*s.bin.sizeUTF8(y);c+=22;var C=new Uint8Array(c),V=0,B=[];for(var y in p){var j=p[y];B.push(V),V=s._writeHeader(C,V,y,j,0)}var G=0,F=V;for(var y in p)j=p[y],B.push(V),V=s._writeHeader(C,V,y,j,1,B[G++]);var q=V-F;return d(C,V,101010256),V+=4,m(C,V+=4,G),m(C,V+=2,G),d(C,V+=2,q),d(C,V+=4,F),V+=4,V+=2,C.buffer},s._noNeed=function(a){var l=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},s._writeHeader=function(a,l,c,d,m,p){var y=s.bin.writeUint,_=s.bin.writeUshort,v=d.file;return y(a,l,m==0?67324752:33639248),l+=4,m==1&&(l+=2),_(a,l,20),_(a,l+=2,0),_(a,l+=2,d.cpr?8:0),y(a,l+=2,0),y(a,l+=4,d.crc),y(a,l+=4,v.length),y(a,l+=4,d.usize),_(a,l+=4,s.bin.sizeUTF8(c)),_(a,l+=2,0),l+=2,m==1&&(l+=2,l+=2,y(a,l+=6,p),l+=4),l+=s.bin.writeUTF8(a,l,c),m==0&&(a.set(v,l),l+=v.length),l},s.crc={table:function(){for(var a=new Uint32Array(256),l=0;l<256;l++){for(var c=l,d=0;d<8;d++)1&c?c=3988292384^c>>>1:c>>>=1;a[l]=c}return a}(),update:function(a,l,c,d){for(var m=0;m<d;m++)a=s.crc.table[255&(a^l[c+m])]^a>>>8;return a},crc:function(a,l,c){return 4294967295^s.crc.update(4294967295,a,l,c)}},s.adler=function(a,l,c){for(var d=1,m=0,p=l,y=l+c;p<y;){for(var _=Math.min(p+5552,y);p<_;)m+=d+=a[p++];d%=65521,m%=65521}return m<<16|d},s.bin={readUshort:function(a,l){return a[l]|a[l+1]<<8},writeUshort:function(a,l,c){a[l]=255&c,a[l+1]=c>>8&255},readUint:function(a,l){return 16777216*a[l+3]+(a[l+2]<<16|a[l+1]<<8|a[l])},writeUint:function(a,l,c){a[l]=255&c,a[l+1]=c>>8&255,a[l+2]=c>>16&255,a[l+3]=c>>24&255},readASCII:function(a,l,c){for(var d="",m=0;m<c;m++)d+=String.fromCharCode(a[l+m]);return d},writeASCII:function(a,l,c){for(var d=0;d<c.length;d++)a[l+d]=c.charCodeAt(d)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,l,c){for(var d,m="",p=0;p<c;p++)m+="%"+s.bin.pad(a[l+p].toString(16));try{d=decodeURIComponent(m)}catch{return s.bin.readASCII(a,l,c)}return d},writeUTF8:function(a,l,c){for(var d=c.length,m=0,p=0;p<d;p++){var y=c.charCodeAt(p);if((4294967168&y)==0)a[l+m]=y,m++;else if((4294965248&y)==0)a[l+m]=192|y>>6,a[l+m+1]=128|y>>0&63,m+=2;else if((4294901760&y)==0)a[l+m]=224|y>>12,a[l+m+1]=128|y>>6&63,a[l+m+2]=128|y>>0&63,m+=3;else{if((4292870144&y)!=0)throw"e";a[l+m]=240|y>>18,a[l+m+1]=128|y>>12&63,a[l+m+2]=128|y>>6&63,a[l+m+3]=128|y>>0&63,m+=4}}return m},sizeUTF8:function(a){for(var l=a.length,c=0,d=0;d<l;d++){var m=a.charCodeAt(d);if((4294967168&m)==0)c++;else if((4294965248&m)==0)c+=2;else if((4294901760&m)==0)c+=3;else{if((4292870144&m)!=0)throw"e";c+=4}}return c}},s.F={},s.F.deflateRaw=function(a,l,c,d){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],p=s.F.U,y=s.F._goodIndex;s.F._hash;var _=s.F._putsE,v=0,A=c<<3,C=0,V=a.length;if(d==0){for(;v<V;)_(l,A,v+(D=Math.min(65535,V-v))==V?1:0),A=s.F._copyExact(a,v,D,l,A+8),v+=D;return A>>>3}var B=p.lits,j=p.strt,G=p.prev,F=0,q=0,$=0,z=0,P=0,b=0;for(V>2&&(j[b=s.F._hash(a,0)]=0),v=0;v<V;v++){if(P=b,v+1<V-2){b=s.F._hash(a,v+1);var w=v+1&32767;G[w]=j[b],j[b]=w}if(C<=v){(F>14e3||q>26697)&&V-v>100&&(C<v&&(B[F]=v-C,F+=2,C=v),A=s.F._writeBlock(v==V-1||C==V?1:0,B,F,z,a,$,v-$,l,A),F=q=z=0,$=v);var x=0;v<V-2&&(x=s.F._bestMatch(a,v,G,P,Math.min(m[2],V-v),m[3]));var D=x>>>16,M=65535&x;if(x!=0){M=65535&x;var N=y(D=x>>>16,p.of0);p.lhst[257+N]++;var K=y(M,p.df0);p.dhst[K]++,z+=p.exb[N]+p.dxb[K],B[F]=D<<23|v-C,B[F+1]=M<<16|N<<8|K,F+=2,C=v+D}else p.lhst[a[v]]++;q++}}for($==v&&a.length!=0||(C<v&&(B[F]=v-C,F+=2,C=v),A=s.F._writeBlock(1,B,F,z,a,$,v-$,l,A),F=0,q=0,F=q=z=0,$=v);(7&A)!=0;)A++;return A>>>3},s.F._bestMatch=function(a,l,c,d,m,p){var y=32767&l,_=c[y],v=y-_+32768&32767;if(_==y||d!=s.F._hash(a,l-v))return 0;for(var A=0,C=0,V=Math.min(32767,l);v<=V&&--p!=0&&_!=y;){if(A==0||a[l+A]==a[l+A-v]){var B=s.F._howLong(a,l,v);if(B>A){if(C=v,(A=B)>=m)break;v+2<B&&(B=v+2);for(var j=0,G=0;G<B-2;G++){var F=l-v+G+32768&32767,q=F-c[F]+32768&32767;q>j&&(j=q,_=F)}}}v+=(y=_)-(_=c[y])+32768&32767}return A<<16|C},s.F._howLong=function(a,l,c){if(a[l]!=a[l-c]||a[l+1]!=a[l+1-c]||a[l+2]!=a[l+2-c])return 0;var d=l,m=Math.min(a.length,l+258);for(l+=3;l<m&&a[l]==a[l-c];)l++;return l-d},s.F._hash=function(a,l){return(a[l]<<8|a[l+1])+(a[l+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(a,l,c,d,m,p,y,_,v){var A,C,V,B,j,G,F,q,$,z=s.F.U,P=s.F._putsF,b=s.F._putsE;z.lhst[256]++,C=(A=s.F.getTrees())[0],V=A[1],B=A[2],j=A[3],G=A[4],F=A[5],q=A[6],$=A[7];var w=32+((v+3&7)==0?0:8-(v+3&7))+(y<<3),x=d+s.F.contSize(z.fltree,z.lhst)+s.F.contSize(z.fdtree,z.dhst),D=d+s.F.contSize(z.ltree,z.lhst)+s.F.contSize(z.dtree,z.dhst);D+=14+3*F+s.F.contSize(z.itree,z.ihst)+(2*z.ihst[16]+3*z.ihst[17]+7*z.ihst[18]);for(var M=0;M<286;M++)z.lhst[M]=0;for(M=0;M<30;M++)z.dhst[M]=0;for(M=0;M<19;M++)z.ihst[M]=0;var N=w<x&&w<D?0:x<D?1:2;if(P(_,v,a),P(_,v+1,N),v+=3,N==0){for(;(7&v)!=0;)v++;v=s.F._copyExact(m,p,y,_,v)}else{var K,ee;if(N==1&&(K=z.fltree,ee=z.fdtree),N==2){s.F.makeCodes(z.ltree,C),s.F.revCodes(z.ltree,C),s.F.makeCodes(z.dtree,V),s.F.revCodes(z.dtree,V),s.F.makeCodes(z.itree,B),s.F.revCodes(z.itree,B),K=z.ltree,ee=z.dtree,b(_,v,j-257),b(_,v+=5,G-1),b(_,v+=5,F-4),v+=4;for(var I=0;I<F;I++)b(_,v+3*I,z.itree[1+(z.ordr[I]<<1)]);v+=3*F,v=s.F._codeTiny(q,z.itree,_,v),v=s.F._codeTiny($,z.itree,_,v)}for(var O=p,ae=0;ae<c;ae+=2){for(var W=l[ae],U=W>>>23,te=O+(8388607&W);O<te;)v=s.F._writeLit(m[O++],K,_,v);if(U!=0){var ie=l[ae+1],re=ie>>16,Y=ie>>8&255,J=255&ie;b(_,v=s.F._writeLit(257+Y,K,_,v),U-z.of0[Y]),v+=z.exb[Y],P(_,v=s.F._writeLit(J,ee,_,v),re-z.df0[J]),v+=z.dxb[J],O+=U}}v=s.F._writeLit(256,K,_,v)}return v},s.F._copyExact=function(a,l,c,d,m){var p=m>>>3;return d[p]=c,d[p+1]=c>>>8,d[p+2]=255-d[p],d[p+3]=255-d[p+1],p+=4,d.set(new Uint8Array(a.buffer,l,c),p),m+(c+4<<3)},s.F.getTrees=function(){for(var a=s.F.U,l=s.F._hufTree(a.lhst,a.ltree,15),c=s.F._hufTree(a.dhst,a.dtree,15),d=[],m=s.F._lenCodes(a.ltree,d),p=[],y=s.F._lenCodes(a.dtree,p),_=0;_<d.length;_+=2)a.ihst[d[_]]++;for(_=0;_<p.length;_+=2)a.ihst[p[_]]++;for(var v=s.F._hufTree(a.ihst,a.itree,7),A=19;A>4&&a.itree[1+(a.ordr[A-1]<<1)]==0;)A--;return[l,c,v,m,y,A,d,p]},s.F.getSecond=function(a){for(var l=[],c=0;c<a.length;c+=2)l.push(a[c+1]);return l},s.F.nonZero=function(a){for(var l="",c=0;c<a.length;c+=2)a[c+1]!=0&&(l+=(c>>1)+",");return l},s.F.contSize=function(a,l){for(var c=0,d=0;d<l.length;d++)c+=l[d]*a[1+(d<<1)];return c},s.F._codeTiny=function(a,l,c,d){for(var m=0;m<a.length;m+=2){var p=a[m],y=a[m+1];d=s.F._writeLit(p,l,c,d);var _=p==16?2:p==17?3:7;p>15&&(s.F._putsE(c,d,y,_),d+=_)}return d},s.F._lenCodes=function(a,l){for(var c=a.length;c!=2&&a[c-1]==0;)c-=2;for(var d=0;d<c;d+=2){var m=a[d+1],p=d+3<c?a[d+3]:-1,y=d+5<c?a[d+5]:-1,_=d==0?-1:a[d-1];if(m==0&&p==m&&y==m){for(var v=d+5;v+2<c&&a[v+2]==m;)v+=2;(A=Math.min(v+1-d>>>1,138))<11?l.push(17,A-3):l.push(18,A-11),d+=2*A-2}else if(m==_&&p==m&&y==m){for(v=d+5;v+2<c&&a[v+2]==m;)v+=2;var A=Math.min(v+1-d>>>1,6);l.push(16,A-3),d+=2*A-2}else l.push(m,0)}return c>>>1},s.F._hufTree=function(a,l,c){var d=[],m=a.length,p=l.length,y=0;for(y=0;y<p;y+=2)l[y]=0,l[y+1]=0;for(y=0;y<m;y++)a[y]!=0&&d.push({lit:y,f:a[y]});var _=d.length,v=d.slice(0);if(_==0)return 0;if(_==1){var A=d[0].lit;return v=A==0?1:0,l[1+(A<<1)]=1,l[1+(v<<1)]=1,1}d.sort(function(q,$){return q.f-$.f});var C=d[0],V=d[1],B=0,j=1,G=2;for(d[0]={lit:-1,f:C.f+V.f,l:C,r:V,d:0};j!=_-1;)C=B!=j&&(G==_||d[B].f<d[G].f)?d[B++]:d[G++],V=B!=j&&(G==_||d[B].f<d[G].f)?d[B++]:d[G++],d[j++]={lit:-1,f:C.f+V.f,l:C,r:V};var F=s.F.setDepth(d[j-1],0);for(F>c&&(s.F.restrictDepth(v,c,F),F=c),y=0;y<_;y++)l[1+(v[y].lit<<1)]=v[y].d;return F},s.F.setDepth=function(a,l){return a.lit!=-1?(a.d=l,l):Math.max(s.F.setDepth(a.l,l+1),s.F.setDepth(a.r,l+1))},s.F.restrictDepth=function(a,l,c){var d=0,m=1<<c-l,p=0;for(a.sort(function(_,v){return v.d==_.d?_.f-v.f:v.d-_.d}),d=0;d<a.length&&a[d].d>l;d++){var y=a[d].d;a[d].d=l,p+=m-(1<<c-y)}for(p>>>=c-l;p>0;)(y=a[d].d)<l?(a[d].d++,p-=1<<l-y-1):d++;for(;d>=0;d--)a[d].d==l&&p<0&&(a[d].d--,p++);p!=0&&console.log("debt left")},s.F._goodIndex=function(a,l){var c=0;return l[16|c]<=a&&(c|=16),l[8|c]<=a&&(c|=8),l[4|c]<=a&&(c|=4),l[2|c]<=a&&(c|=2),l[1|c]<=a&&(c|=1),c},s.F._writeLit=function(a,l,c,d){return s.F._putsF(c,d,l[a<<1]),d+l[1+(a<<1)]},s.F.inflate=function(a,l){var c=Uint8Array;if(a[0]==3&&a[1]==0)return l||new c(0);var d=s.F,m=d._bitsF,p=d._bitsE,y=d._decodeTiny,_=d.makeCodes,v=d.codes2map,A=d._get17,C=d.U,V=l==null;V&&(l=new c(a.length>>>2<<3));for(var B,j,G=0,F=0,q=0,$=0,z=0,P=0,b=0,w=0,x=0;G==0;)if(G=m(a,x,1),F=m(a,x+1,2),x+=3,F!=0){if(V&&(l=s.F._check(l,w+(1<<17))),F==1&&(B=C.flmap,j=C.fdmap,P=511,b=31),F==2){q=p(a,x,5)+257,$=p(a,x+5,5)+1,z=p(a,x+10,4)+4,x+=14;for(var D=0;D<38;D+=2)C.itree[D]=0,C.itree[D+1]=0;var M=1;for(D=0;D<z;D++){var N=p(a,x+3*D,3);C.itree[1+(C.ordr[D]<<1)]=N,N>M&&(M=N)}x+=3*z,_(C.itree,M),v(C.itree,M,C.imap),B=C.lmap,j=C.dmap,x=y(C.imap,(1<<M)-1,q+$,a,x,C.ttree);var K=d._copyOut(C.ttree,0,q,C.ltree);P=(1<<K)-1;var ee=d._copyOut(C.ttree,q,$,C.dtree);b=(1<<ee)-1,_(C.ltree,K),v(C.ltree,K,B),_(C.dtree,ee),v(C.dtree,ee,j)}for(;;){var I=B[A(a,x)&P];x+=15&I;var O=I>>>4;if(!(O>>>8))l[w++]=O;else{if(O==256)break;var ae=w+O-254;if(O>264){var W=C.ldef[O-257];ae=w+(W>>>3)+p(a,x,7&W),x+=7&W}var U=j[A(a,x)&b];x+=15&U;var te=U>>>4,ie=C.ddef[te],re=(ie>>>4)+m(a,x,15&ie);for(x+=15&ie,V&&(l=s.F._check(l,w+(1<<17)));w<ae;)l[w]=l[w++-re],l[w]=l[w++-re],l[w]=l[w++-re],l[w]=l[w++-re];w=ae}}}else{(7&x)!=0&&(x+=8-(7&x));var Y=4+(x>>>3),J=a[Y-4]|a[Y-3]<<8;V&&(l=s.F._check(l,w+J)),l.set(new c(a.buffer,a.byteOffset+Y,J),w),x=Y+J<<3,w+=J}return l.length==w?l:l.slice(0,w)},s.F._check=function(a,l){var c=a.length;if(l<=c)return a;var d=new Uint8Array(Math.max(c<<1,l));return d.set(a,0),d},s.F._decodeTiny=function(a,l,c,d,m,p){for(var y=s.F._bitsE,_=s.F._get17,v=0;v<c;){var A=a[_(d,m)&l];m+=15&A;var C=A>>>4;if(C<=15)p[v]=C,v++;else{var V=0,B=0;C==16?(B=3+y(d,m,2),m+=2,V=p[v-1]):C==17?(B=3+y(d,m,3),m+=3):C==18&&(B=11+y(d,m,7),m+=7);for(var j=v+B;v<j;)p[v]=V,v++}}return m},s.F._copyOut=function(a,l,c,d){for(var m=0,p=0,y=d.length>>>1;p<c;){var _=a[p+l];d[p<<1]=0,d[1+(p<<1)]=_,_>m&&(m=_),p++}for(;p<y;)d[p<<1]=0,d[1+(p<<1)]=0,p++;return m},s.F.makeCodes=function(a,l){for(var c,d,m,p,y=s.F.U,_=a.length,v=y.bl_count,A=0;A<=l;A++)v[A]=0;for(A=1;A<_;A+=2)v[a[A]]++;var C=y.next_code;for(c=0,v[0]=0,d=1;d<=l;d++)c=c+v[d-1]<<1,C[d]=c;for(m=0;m<_;m+=2)(p=a[m+1])!=0&&(a[m]=C[p],C[p]++)},s.F.codes2map=function(a,l,c){for(var d=a.length,m=s.F.U.rev15,p=0;p<d;p+=2)if(a[p+1]!=0)for(var y=p>>1,_=a[p+1],v=y<<4|_,A=l-_,C=a[p]<<A,V=C+(1<<A);C!=V;)c[m[C]>>>15-l]=v,C++},s.F.revCodes=function(a,l){for(var c=s.F.U.rev15,d=15-l,m=0;m<a.length;m+=2){var p=a[m]<<l-a[m+1];a[m]=c[p]>>>d}},s.F._putsE=function(a,l,c){c<<=7&l;var d=l>>>3;a[d]|=c,a[d+1]|=c>>>8},s.F._putsF=function(a,l,c){c<<=7&l;var d=l>>>3;a[d]|=c,a[d+1]|=c>>>8,a[d+2]|=c>>>16},s.F._bitsE=function(a,l,c){return(a[l>>>3]|a[1+(l>>>3)]<<8)>>>(7&l)&(1<<c)-1},s.F._bitsF=function(a,l,c){return(a[l>>>3]|a[1+(l>>>3)]<<8|a[2+(l>>>3)]<<16)>>>(7&l)&(1<<c)-1},s.F._get17=function(a,l){return(a[l>>>3]|a[1+(l>>>3)]<<8|a[2+(l>>>3)]<<16)>>>(7&l)},s.F._get25=function(a,l){return(a[l>>>3]|a[1+(l>>>3)]<<8|a[2+(l>>>3)]<<16|a[3+(l>>>3)]<<24)>>>(7&l)},s.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var a=s.F.U,l=0;l<32768;l++){var c=l;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,a.rev15[l]=(c>>>16|c<<16)>>>17}function d(m,p,y){for(;p--!=0;)m.push(0,y)}for(l=0;l<32;l++)a.ldef[l]=a.of0[l]<<3|a.exb[l],a.ddef[l]=a.df0[l]<<4|a.dxb[l];d(a.fltree,144,8),d(a.fltree,112,9),d(a.fltree,24,7),d(a.fltree,8,8),s.F.makeCodes(a.fltree,9),s.F.codes2map(a.fltree,9,a.flmap),s.F.revCodes(a.fltree,9),d(a.fdtree,32,5),s.F.makeCodes(a.fdtree,5),s.F.codes2map(a.fdtree,5,a.fdmap),s.F.revCodes(a.fdtree,5),d(a.itree,19,0),d(a.ltree,286,0),d(a.dtree,30,0),d(a.ttree,320,0)}()})();var h3=l3({__proto__:null,default:Kh},[Kh]);const xi=function(){var i={nextZero(y,_){for(;y[_]!=0;)_++;return _},readUshort:(y,_)=>y[_]<<8|y[_+1],writeUshort(y,_,v){y[_]=v>>8&255,y[_+1]=255&v},readUint:(y,_)=>16777216*y[_]+(y[_+1]<<16|y[_+2]<<8|y[_+3]),writeUint(y,_,v){y[_]=v>>24&255,y[_+1]=v>>16&255,y[_+2]=v>>8&255,y[_+3]=255&v},readASCII(y,_,v){let A="";for(let C=0;C<v;C++)A+=String.fromCharCode(y[_+C]);return A},writeASCII(y,_,v){for(let A=0;A<v.length;A++)y[_+A]=v.charCodeAt(A)},readBytes(y,_,v){const A=[];for(let C=0;C<v;C++)A.push(y[_+C]);return A},pad:y=>y.length<2?`0${y}`:y,readUTF8(y,_,v){let A,C="";for(let V=0;V<v;V++)C+=`%${i.pad(y[_+V].toString(16))}`;try{A=decodeURIComponent(C)}catch{return i.readASCII(y,_,v)}return A}};function e(y,_,v,A){const C=_*v,V=l(A),B=Math.ceil(_*V/8),j=new Uint8Array(4*C),G=new Uint32Array(j.buffer),{ctype:F}=A,{depth:q}=A,$=i.readUshort;if(F==6){const W=C<<2;if(q==8)for(var z=0;z<W;z+=4)j[z]=y[z],j[z+1]=y[z+1],j[z+2]=y[z+2],j[z+3]=y[z+3];if(q==16)for(z=0;z<W;z++)j[z]=y[z<<1]}else if(F==2){const W=A.tabs.tRNS;if(W==null){if(q==8)for(z=0;z<C;z++){var P=3*z;G[z]=255<<24|y[P+2]<<16|y[P+1]<<8|y[P]}if(q==16)for(z=0;z<C;z++)P=6*z,G[z]=255<<24|y[P+4]<<16|y[P+2]<<8|y[P]}else{var b=W[0];const U=W[1],te=W[2];if(q==8)for(z=0;z<C;z++){var w=z<<2;P=3*z,G[z]=255<<24|y[P+2]<<16|y[P+1]<<8|y[P],y[P]==b&&y[P+1]==U&&y[P+2]==te&&(j[w+3]=0)}if(q==16)for(z=0;z<C;z++)w=z<<2,P=6*z,G[z]=255<<24|y[P+4]<<16|y[P+2]<<8|y[P],$(y,P)==b&&$(y,P+2)==U&&$(y,P+4)==te&&(j[w+3]=0)}}else if(F==3){const W=A.tabs.PLTE,U=A.tabs.tRNS,te=U?U.length:0;if(q==1)for(var x=0;x<v;x++){var D=x*B,M=x*_;for(z=0;z<_;z++){w=M+z<<2;var N=3*(K=y[D+(z>>3)]>>7-((7&z)<<0)&1);j[w]=W[N],j[w+1]=W[N+1],j[w+2]=W[N+2],j[w+3]=K<te?U[K]:255}}if(q==2)for(x=0;x<v;x++)for(D=x*B,M=x*_,z=0;z<_;z++)w=M+z<<2,N=3*(K=y[D+(z>>2)]>>6-((3&z)<<1)&3),j[w]=W[N],j[w+1]=W[N+1],j[w+2]=W[N+2],j[w+3]=K<te?U[K]:255;if(q==4)for(x=0;x<v;x++)for(D=x*B,M=x*_,z=0;z<_;z++)w=M+z<<2,N=3*(K=y[D+(z>>1)]>>4-((1&z)<<2)&15),j[w]=W[N],j[w+1]=W[N+1],j[w+2]=W[N+2],j[w+3]=K<te?U[K]:255;if(q==8)for(z=0;z<C;z++){var K;w=z<<2,N=3*(K=y[z]),j[w]=W[N],j[w+1]=W[N+1],j[w+2]=W[N+2],j[w+3]=K<te?U[K]:255}}else if(F==4){if(q==8)for(z=0;z<C;z++){w=z<<2;var ee=y[I=z<<1];j[w]=ee,j[w+1]=ee,j[w+2]=ee,j[w+3]=y[I+1]}if(q==16)for(z=0;z<C;z++){var I;w=z<<2,ee=y[I=z<<2],j[w]=ee,j[w+1]=ee,j[w+2]=ee,j[w+3]=y[I+2]}}else if(F==0)for(b=A.tabs.tRNS?A.tabs.tRNS:-1,x=0;x<v;x++){const W=x*B,U=x*_;if(q==1)for(var O=0;O<_;O++){var ae=(ee=255*(y[W+(O>>>3)]>>>7-(7&O)&1))==255*b?0:255;G[U+O]=ae<<24|ee<<16|ee<<8|ee}else if(q==2)for(O=0;O<_;O++)ae=(ee=85*(y[W+(O>>>2)]>>>6-((3&O)<<1)&3))==85*b?0:255,G[U+O]=ae<<24|ee<<16|ee<<8|ee;else if(q==4)for(O=0;O<_;O++)ae=(ee=17*(y[W+(O>>>1)]>>>4-((1&O)<<2)&15))==17*b?0:255,G[U+O]=ae<<24|ee<<16|ee<<8|ee;else if(q==8)for(O=0;O<_;O++)ae=(ee=y[W+O])==b?0:255,G[U+O]=ae<<24|ee<<16|ee<<8|ee;else if(q==16)for(O=0;O<_;O++)ee=y[W+(O<<1)],ae=$(y,W+(O<<1))==b?0:255,G[U+O]=ae<<24|ee<<16|ee<<8|ee}return j}function t(y,_,v,A){const C=l(y),V=Math.ceil(v*C/8),B=new Uint8Array((V+1+y.interlace)*A);return _=y.tabs.CgBI?a(_,B):s(_,B),y.interlace==0?_=c(_,y,0,v,A):y.interlace==1&&(_=function(G,F){const q=F.width,$=F.height,z=l(F),P=z>>3,b=Math.ceil(q*z/8),w=new Uint8Array($*b);let x=0;const D=[0,0,4,0,2,0,1],M=[0,4,0,2,0,1,0],N=[8,8,8,4,4,2,2],K=[8,8,4,4,2,2,1];let ee=0;for(;ee<7;){const O=N[ee],ae=K[ee];let W=0,U=0,te=D[ee];for(;te<$;)te+=O,U++;let ie=M[ee];for(;ie<q;)ie+=ae,W++;const re=Math.ceil(W*z/8);c(G,F,x,W,U);let Y=0,J=D[ee];for(;J<$;){let ye=M[ee],De=x+Y*re<<3;for(;ye<q;){var I;if(z==1&&(I=(I=G[De>>3])>>7-(7&De)&1,w[J*b+(ye>>3)]|=I<<7-((7&ye)<<0)),z==2&&(I=(I=G[De>>3])>>6-(7&De)&3,w[J*b+(ye>>2)]|=I<<6-((3&ye)<<1)),z==4&&(I=(I=G[De>>3])>>4-(7&De)&15,w[J*b+(ye>>1)]|=I<<4-((1&ye)<<2)),z>=8){const be=J*b+ye*P;for(let Se=0;Se<P;Se++)w[be+Se]=G[(De>>3)+Se]}De+=z,ye+=ae}Y++,J+=O}W*U!=0&&(x+=U*(1+re)),ee+=1}return w}(_,y)),_}function s(y,_){return a(new Uint8Array(y.buffer,2,y.length-6),_)}var a=function(){const y={H:{}};return y.H.N=function(_,v){const A=Uint8Array;let C,V,B=0,j=0,G=0,F=0,q=0,$=0,z=0,P=0,b=0;if(_[0]==3&&_[1]==0)return v||new A(0);const w=y.H,x=w.b,D=w.e,M=w.R,N=w.n,K=w.A,ee=w.Z,I=w.m,O=v==null;for(O&&(v=new A(_.length>>>2<<5));B==0;)if(B=x(_,b,1),j=x(_,b+1,2),b+=3,j!=0){if(O&&(v=y.H.W(v,P+(1<<17))),j==1&&(C=I.J,V=I.h,$=511,z=31),j==2){G=D(_,b,5)+257,F=D(_,b+5,5)+1,q=D(_,b+10,4)+4,b+=14;let W=1;for(var ae=0;ae<38;ae+=2)I.Q[ae]=0,I.Q[ae+1]=0;for(ae=0;ae<q;ae++){const ie=D(_,b+3*ae,3);I.Q[1+(I.X[ae]<<1)]=ie,ie>W&&(W=ie)}b+=3*q,N(I.Q,W),K(I.Q,W,I.u),C=I.w,V=I.d,b=M(I.u,(1<<W)-1,G+F,_,b,I.v);const U=w.V(I.v,0,G,I.C);$=(1<<U)-1;const te=w.V(I.v,G,F,I.D);z=(1<<te)-1,N(I.C,U),K(I.C,U,C),N(I.D,te),K(I.D,te,V)}for(;;){const W=C[ee(_,b)&$];b+=15&W;const U=W>>>4;if(!(U>>>8))v[P++]=U;else{if(U==256)break;{let te=P+U-254;if(U>264){const ye=I.q[U-257];te=P+(ye>>>3)+D(_,b,7&ye),b+=7&ye}const ie=V[ee(_,b)&z];b+=15&ie;const re=ie>>>4,Y=I.c[re],J=(Y>>>4)+x(_,b,15&Y);for(b+=15&Y;P<te;)v[P]=v[P++-J],v[P]=v[P++-J],v[P]=v[P++-J],v[P]=v[P++-J];P=te}}}}else{(7&b)!=0&&(b+=8-(7&b));const W=4+(b>>>3),U=_[W-4]|_[W-3]<<8;O&&(v=y.H.W(v,P+U)),v.set(new A(_.buffer,_.byteOffset+W,U),P),b=W+U<<3,P+=U}return v.length==P?v:v.slice(0,P)},y.H.W=function(_,v){const A=_.length;if(v<=A)return _;const C=new Uint8Array(A<<1);return C.set(_,0),C},y.H.R=function(_,v,A,C,V,B){const j=y.H.e,G=y.H.Z;let F=0;for(;F<A;){const q=_[G(C,V)&v];V+=15&q;const $=q>>>4;if($<=15)B[F]=$,F++;else{let z=0,P=0;$==16?(P=3+j(C,V,2),V+=2,z=B[F-1]):$==17?(P=3+j(C,V,3),V+=3):$==18&&(P=11+j(C,V,7),V+=7);const b=F+P;for(;F<b;)B[F]=z,F++}}return V},y.H.V=function(_,v,A,C){let V=0,B=0;const j=C.length>>>1;for(;B<A;){const G=_[B+v];C[B<<1]=0,C[1+(B<<1)]=G,G>V&&(V=G),B++}for(;B<j;)C[B<<1]=0,C[1+(B<<1)]=0,B++;return V},y.H.n=function(_,v){const A=y.H.m,C=_.length;let V,B,j,G;const F=A.j;for(var q=0;q<=v;q++)F[q]=0;for(q=1;q<C;q+=2)F[_[q]]++;const $=A.K;for(V=0,F[0]=0,B=1;B<=v;B++)V=V+F[B-1]<<1,$[B]=V;for(j=0;j<C;j+=2)G=_[j+1],G!=0&&(_[j]=$[G],$[G]++)},y.H.A=function(_,v,A){const C=_.length,V=y.H.m.r;for(let B=0;B<C;B+=2)if(_[B+1]!=0){const j=B>>1,G=_[B+1],F=j<<4|G,q=v-G;let $=_[B]<<q;const z=$+(1<<q);for(;$!=z;)A[V[$]>>>15-v]=F,$++}},y.H.l=function(_,v){const A=y.H.m.r,C=15-v;for(let V=0;V<_.length;V+=2){const B=_[V]<<v-_[V+1];_[V]=A[B]>>>C}},y.H.M=function(_,v,A){A<<=7&v;const C=v>>>3;_[C]|=A,_[C+1]|=A>>>8},y.H.I=function(_,v,A){A<<=7&v;const C=v>>>3;_[C]|=A,_[C+1]|=A>>>8,_[C+2]|=A>>>16},y.H.e=function(_,v,A){return(_[v>>>3]|_[1+(v>>>3)]<<8)>>>(7&v)&(1<<A)-1},y.H.b=function(_,v,A){return(_[v>>>3]|_[1+(v>>>3)]<<8|_[2+(v>>>3)]<<16)>>>(7&v)&(1<<A)-1},y.H.Z=function(_,v){return(_[v>>>3]|_[1+(v>>>3)]<<8|_[2+(v>>>3)]<<16)>>>(7&v)},y.H.i=function(_,v){return(_[v>>>3]|_[1+(v>>>3)]<<8|_[2+(v>>>3)]<<16|_[3+(v>>>3)]<<24)>>>(7&v)},y.H.m=function(){const _=Uint16Array,v=Uint32Array;return{K:new _(16),j:new _(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new _(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new _(512),_:[],h:new _(32),$:[],w:new _(32768),C:[],v:[],d:new _(32768),D:[],u:new _(512),Q:[],r:new _(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new _(65536),g:new _(32768)}}(),function(){const _=y.H.m;for(var v=0;v<32768;v++){let C=v;C=(2863311530&C)>>>1|(1431655765&C)<<1,C=(3435973836&C)>>>2|(858993459&C)<<2,C=(4042322160&C)>>>4|(252645135&C)<<4,C=(4278255360&C)>>>8|(16711935&C)<<8,_.r[v]=(C>>>16|C<<16)>>>17}function A(C,V,B){for(;V--!=0;)C.push(0,B)}for(v=0;v<32;v++)_.q[v]=_.S[v]<<3|_.T[v],_.c[v]=_.p[v]<<4|_.z[v];A(_._,144,8),A(_._,112,9),A(_._,24,7),A(_._,8,8),y.H.n(_._,9),y.H.A(_._,9,_.J),y.H.l(_._,9),A(_.$,32,5),y.H.n(_.$,5),y.H.A(_.$,5,_.h),y.H.l(_.$,5),A(_.Q,19,0),A(_.C,286,0),A(_.D,30,0),A(_.v,320,0)}(),y.H.N}();function l(y){return[1,null,3,1,2,null,4][y.ctype]*y.depth}function c(y,_,v,A,C){let V=l(_);const B=Math.ceil(A*V/8);let j,G;V=Math.ceil(V/8);let F=y[v],q=0;if(F>1&&(y[v]=[0,0,1][F-2]),F==3)for(q=V;q<B;q++)y[q+1]=y[q+1]+(y[q+1-V]>>>1)&255;for(let $=0;$<C;$++)if(j=v+$*B,G=j+$+1,F=y[G-1],q=0,F==0)for(;q<B;q++)y[j+q]=y[G+q];else if(F==1){for(;q<V;q++)y[j+q]=y[G+q];for(;q<B;q++)y[j+q]=y[G+q]+y[j+q-V]}else if(F==2)for(;q<B;q++)y[j+q]=y[G+q]+y[j+q-B];else if(F==3){for(;q<V;q++)y[j+q]=y[G+q]+(y[j+q-B]>>>1);for(;q<B;q++)y[j+q]=y[G+q]+(y[j+q-B]+y[j+q-V]>>>1)}else{for(;q<V;q++)y[j+q]=y[G+q]+d(0,y[j+q-B],0);for(;q<B;q++)y[j+q]=y[G+q]+d(y[j+q-V],y[j+q-B],y[j+q-V-B])}return y}function d(y,_,v){const A=y+_-v,C=A-y,V=A-_,B=A-v;return C*C<=V*V&&C*C<=B*B?y:V*V<=B*B?_:v}function m(y,_,v){v.width=i.readUint(y,_),_+=4,v.height=i.readUint(y,_),_+=4,v.depth=y[_],_++,v.ctype=y[_],_++,v.compress=y[_],_++,v.filter=y[_],_++,v.interlace=y[_],_++}function p(y,_,v,A,C,V,B,j,G){const F=Math.min(_,C),q=Math.min(v,V);let $=0,z=0;for(let ee=0;ee<q;ee++)for(let I=0;I<F;I++)if(B>=0&&j>=0?($=ee*_+I<<2,z=(j+ee)*C+B+I<<2):($=(-j+ee)*_-B+I<<2,z=ee*C+I<<2),G==0)A[z]=y[$],A[z+1]=y[$+1],A[z+2]=y[$+2],A[z+3]=y[$+3];else if(G==1){var P=y[$+3]*.00392156862745098,b=y[$]*P,w=y[$+1]*P,x=y[$+2]*P,D=A[z+3]*(1/255),M=A[z]*D,N=A[z+1]*D,K=A[z+2]*D;const O=1-P,ae=P+D*O,W=ae==0?0:1/ae;A[z+3]=255*ae,A[z+0]=(b+M*O)*W,A[z+1]=(w+N*O)*W,A[z+2]=(x+K*O)*W}else if(G==2)P=y[$+3],b=y[$],w=y[$+1],x=y[$+2],D=A[z+3],M=A[z],N=A[z+1],K=A[z+2],P==D&&b==M&&w==N&&x==K?(A[z]=0,A[z+1]=0,A[z+2]=0,A[z+3]=0):(A[z]=b,A[z+1]=w,A[z+2]=x,A[z+3]=P);else if(G==3){if(P=y[$+3],b=y[$],w=y[$+1],x=y[$+2],D=A[z+3],M=A[z],N=A[z+1],K=A[z+2],P==D&&b==M&&w==N&&x==K)continue;if(P<220&&D>20)return!1}return!0}return{decode:function(_){const v=new Uint8Array(_);let A=8;const C=i,V=C.readUshort,B=C.readUint,j={tabs:{},frames:[]},G=new Uint8Array(v.length);let F,q=0,$=0;const z=[137,80,78,71,13,10,26,10];for(var P=0;P<8;P++)if(v[P]!=z[P])throw"The input is not a PNG file!";for(;A<v.length;){const ee=C.readUint(v,A);A+=4;const I=C.readASCII(v,A,4);if(A+=4,I=="IHDR")m(v,A,j);else if(I=="iCCP"){for(var b=A;v[b]!=0;)b++;C.readASCII(v,A,b-A),v[b+1];const O=v.slice(b+2,A+ee);let ae=null;try{ae=s(O)}catch{ae=a(O)}j.tabs[I]=ae}else if(I=="CgBI")j.tabs[I]=v.slice(A,A+4);else if(I=="IDAT"){for(P=0;P<ee;P++)G[q+P]=v[A+P];q+=ee}else if(I=="acTL")j.tabs[I]={num_frames:B(v,A),num_plays:B(v,A+4)},F=new Uint8Array(v.length);else if(I=="fcTL"){$!=0&&((K=j.frames[j.frames.length-1]).data=t(j,F.slice(0,$),K.rect.width,K.rect.height),$=0);const O={x:B(v,A+12),y:B(v,A+16),width:B(v,A+4),height:B(v,A+8)};let ae=V(v,A+22);ae=V(v,A+20)/(ae==0?100:ae);const W={rect:O,delay:Math.round(1e3*ae),dispose:v[A+24],blend:v[A+25]};j.frames.push(W)}else if(I=="fdAT"){for(P=0;P<ee-4;P++)F[$+P]=v[A+P+4];$+=ee-4}else if(I=="pHYs")j.tabs[I]=[C.readUint(v,A),C.readUint(v,A+4),v[A+8]];else if(I=="cHRM")for(j.tabs[I]=[],P=0;P<8;P++)j.tabs[I].push(C.readUint(v,A+4*P));else if(I=="tEXt"||I=="zTXt"){j.tabs[I]==null&&(j.tabs[I]={});var w=C.nextZero(v,A),x=C.readASCII(v,A,w-A),D=A+ee-w-1;if(I=="tEXt")N=C.readASCII(v,w+1,D);else{var M=s(v.slice(w+2,w+2+D));N=C.readUTF8(M,0,M.length)}j.tabs[I][x]=N}else if(I=="iTXt"){j.tabs[I]==null&&(j.tabs[I]={}),w=0,b=A,w=C.nextZero(v,b),x=C.readASCII(v,b,w-b);const O=v[b=w+1];var N;v[b+1],b+=2,w=C.nextZero(v,b),C.readASCII(v,b,w-b),b=w+1,w=C.nextZero(v,b),C.readUTF8(v,b,w-b),D=ee-((b=w+1)-A),O==0?N=C.readUTF8(v,b,D):(M=s(v.slice(b,b+D)),N=C.readUTF8(M,0,M.length)),j.tabs[I][x]=N}else if(I=="PLTE")j.tabs[I]=C.readBytes(v,A,ee);else if(I=="hIST"){const O=j.tabs.PLTE.length/3;for(j.tabs[I]=[],P=0;P<O;P++)j.tabs[I].push(V(v,A+2*P))}else if(I=="tRNS")j.ctype==3?j.tabs[I]=C.readBytes(v,A,ee):j.ctype==0?j.tabs[I]=V(v,A):j.ctype==2&&(j.tabs[I]=[V(v,A),V(v,A+2),V(v,A+4)]);else if(I=="gAMA")j.tabs[I]=C.readUint(v,A)/1e5;else if(I=="sRGB")j.tabs[I]=v[A];else if(I=="bKGD")j.ctype==0||j.ctype==4?j.tabs[I]=[V(v,A)]:j.ctype==2||j.ctype==6?j.tabs[I]=[V(v,A),V(v,A+2),V(v,A+4)]:j.ctype==3&&(j.tabs[I]=v[A]);else if(I=="IEND")break;A+=ee,C.readUint(v,A),A+=4}var K;return $!=0&&((K=j.frames[j.frames.length-1]).data=t(j,F.slice(0,$),K.rect.width,K.rect.height)),j.data=t(j,G,j.width,j.height),delete j.compress,delete j.interlace,delete j.filter,j},toRGBA8:function(_){const v=_.width,A=_.height;if(_.tabs.acTL==null)return[e(_.data,v,A,_).buffer];const C=[];_.frames[0].data==null&&(_.frames[0].data=_.data);const V=v*A*4,B=new Uint8Array(V),j=new Uint8Array(V),G=new Uint8Array(V);for(let q=0;q<_.frames.length;q++){const $=_.frames[q],z=$.rect.x,P=$.rect.y,b=$.rect.width,w=$.rect.height,x=e($.data,b,w,_);if(q!=0)for(var F=0;F<V;F++)G[F]=B[F];if($.blend==0?p(x,b,w,B,v,A,z,P,0):$.blend==1&&p(x,b,w,B,v,A,z,P,1),C.push(B.buffer.slice(0)),$.dispose!=0){if($.dispose==1)p(j,b,w,B,v,A,z,P,0);else if($.dispose==2)for(F=0;F<V;F++)B[F]=G[F]}}return C},_paeth:d,_copyTile:p,_bin:i}}();(function(){const{_copyTile:i}=xi,{_bin:e}=xi,t=xi._paeth;var s={table:function(){const b=new Uint32Array(256);for(let w=0;w<256;w++){let x=w;for(let D=0;D<8;D++)1&x?x=3988292384^x>>>1:x>>>=1;b[w]=x}return b}(),update(b,w,x,D){for(let M=0;M<D;M++)b=s.table[255&(b^w[x+M])]^b>>>8;return b},crc:(b,w,x)=>4294967295^s.update(4294967295,b,w,x)};function a(b,w,x,D){w[x]+=b[0]*D>>4,w[x+1]+=b[1]*D>>4,w[x+2]+=b[2]*D>>4,w[x+3]+=b[3]*D>>4}function l(b){return Math.max(0,Math.min(255,b))}function c(b,w){const x=b[0]-w[0],D=b[1]-w[1],M=b[2]-w[2],N=b[3]-w[3];return x*x+D*D+M*M+N*N}function d(b,w,x,D,M,N,K){K==null&&(K=1);const ee=D.length,I=[];for(var O=0;O<ee;O++){const J=D[O];I.push([J>>>0&255,J>>>8&255,J>>>16&255,J>>>24&255])}for(O=0;O<ee;O++){let J=4294967295;for(var ae=0,W=0;W<ee;W++){var U=c(I[O],I[W]);W!=O&&U<J&&(J=U,ae=W)}}const te=new Uint32Array(M.buffer),ie=new Int16Array(w*x*4),re=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(O=0;O<re.length;O++)re[O]=255*((re[O]+.5)/16-.5);for(let J=0;J<x;J++)for(let ye=0;ye<w;ye++){var Y;O=4*(J*w+ye),K!=2?Y=[l(b[O]+ie[O]),l(b[O+1]+ie[O+1]),l(b[O+2]+ie[O+2]),l(b[O+3]+ie[O+3])]:(U=re[4*(3&J)+(3&ye)],Y=[l(b[O]+U),l(b[O+1]+U),l(b[O+2]+U),l(b[O+3]+U)]),ae=0;let De=16777215;for(W=0;W<ee;W++){const ze=c(Y,I[W]);ze<De&&(De=ze,ae=W)}const be=I[ae],Se=[Y[0]-be[0],Y[1]-be[1],Y[2]-be[2],Y[3]-be[3]];K==1&&(ye!=w-1&&a(Se,ie,O+4,7),J!=x-1&&(ye!=0&&a(Se,ie,O+4*w-4,3),a(Se,ie,O+4*w,5),ye!=w-1&&a(Se,ie,O+4*w+4,1))),N[O>>2]=ae,te[O>>2]=D[ae]}}function m(b,w,x,D,M){M==null&&(M={});const{crc:N}=s,K=e.writeUint,ee=e.writeUshort,I=e.writeASCII;let O=8;const ae=b.frames.length>1;let W,U=!1,te=33+(ae?20:0);if(M.sRGB!=null&&(te+=13),M.pHYs!=null&&(te+=21),M.iCCP!=null&&(W=pako.deflate(M.iCCP),te+=21+W.length+4),b.ctype==3){for(var ie=b.plte.length,re=0;re<ie;re++)b.plte[re]>>>24!=255&&(U=!0);te+=8+3*ie+4+(U?8+1*ie+4:0)}for(var Y=0;Y<b.frames.length;Y++)ae&&(te+=38),te+=(be=b.frames[Y]).cimg.length+12,Y!=0&&(te+=4);te+=12;const J=new Uint8Array(te),ye=[137,80,78,71,13,10,26,10];for(re=0;re<8;re++)J[re]=ye[re];if(K(J,O,13),O+=4,I(J,O,"IHDR"),O+=4,K(J,O,w),O+=4,K(J,O,x),O+=4,J[O]=b.depth,O++,J[O]=b.ctype,O++,J[O]=0,O++,J[O]=0,O++,J[O]=0,O++,K(J,O,N(J,O-17,17)),O+=4,M.sRGB!=null&&(K(J,O,1),O+=4,I(J,O,"sRGB"),O+=4,J[O]=M.sRGB,O++,K(J,O,N(J,O-5,5)),O+=4),M.iCCP!=null){const Se=13+W.length;K(J,O,Se),O+=4,I(J,O,"iCCP"),O+=4,I(J,O,"ICC profile"),O+=11,O+=2,J.set(W,O),O+=W.length,K(J,O,N(J,O-(Se+4),Se+4)),O+=4}if(M.pHYs!=null&&(K(J,O,9),O+=4,I(J,O,"pHYs"),O+=4,K(J,O,M.pHYs[0]),O+=4,K(J,O,M.pHYs[1]),O+=4,J[O]=M.pHYs[2],O++,K(J,O,N(J,O-13,13)),O+=4),ae&&(K(J,O,8),O+=4,I(J,O,"acTL"),O+=4,K(J,O,b.frames.length),O+=4,K(J,O,M.loop!=null?M.loop:0),O+=4,K(J,O,N(J,O-12,12)),O+=4),b.ctype==3){for(K(J,O,3*(ie=b.plte.length)),O+=4,I(J,O,"PLTE"),O+=4,re=0;re<ie;re++){const Se=3*re,ze=b.plte[re],Le=255&ze,tt=ze>>>8&255,Jt=ze>>>16&255;J[O+Se+0]=Le,J[O+Se+1]=tt,J[O+Se+2]=Jt}if(O+=3*ie,K(J,O,N(J,O-3*ie-4,3*ie+4)),O+=4,U){for(K(J,O,ie),O+=4,I(J,O,"tRNS"),O+=4,re=0;re<ie;re++)J[O+re]=b.plte[re]>>>24&255;O+=ie,K(J,O,N(J,O-ie-4,ie+4)),O+=4}}let De=0;for(Y=0;Y<b.frames.length;Y++){var be=b.frames[Y];ae&&(K(J,O,26),O+=4,I(J,O,"fcTL"),O+=4,K(J,O,De++),O+=4,K(J,O,be.rect.width),O+=4,K(J,O,be.rect.height),O+=4,K(J,O,be.rect.x),O+=4,K(J,O,be.rect.y),O+=4,ee(J,O,D[Y]),O+=2,ee(J,O,1e3),O+=2,J[O]=be.dispose,O++,J[O]=be.blend,O++,K(J,O,N(J,O-30,30)),O+=4);const Se=be.cimg;K(J,O,(ie=Se.length)+(Y==0?0:4)),O+=4;const ze=O;I(J,O,Y==0?"IDAT":"fdAT"),O+=4,Y!=0&&(K(J,O,De++),O+=4),J.set(Se,O),O+=ie,K(J,O,N(J,ze,O-ze)),O+=4}return K(J,O,0),O+=4,I(J,O,"IEND"),O+=4,K(J,O,N(J,O-4,4)),O+=4,J.buffer}function p(b,w,x){for(let D=0;D<b.frames.length;D++){const M=b.frames[D];M.rect.width;const N=M.rect.height,K=new Uint8Array(N*M.bpl+N);M.cimg=A(M.img,N,M.bpp,M.bpl,K,w,x)}}function y(b,w,x,D,M){const N=M[0],K=M[1],ee=M[2],I=M[3],O=M[4],ae=M[5];let W=6,U=8,te=255;for(var ie=0;ie<b.length;ie++){const Mt=new Uint8Array(b[ie]);for(var re=Mt.length,Y=0;Y<re;Y+=4)te&=Mt[Y+3]}const J=te!=255,ye=function(Ue,lt,Et,St,Xe,en){const ct=[];for(var nt=0;nt<Ue.length;nt++){const Nt=new Uint8Array(Ue[nt]),kt=new Uint32Array(Nt.buffer);var $t;let Pt=0,tn=0,he=lt,ke=Et,ht=St?1:0;if(nt!=0){const Pe=en||St||nt==1||ct[nt-2].dispose!=0?1:2;let Fe=0,st=1e9;for(let at=0;at<Pe;at++){var Ke=new Uint8Array(Ue[nt-1-at]);const yn=new Uint32Array(Ue[nt-1-at]);let zt=lt,Cn=Et,vn=-1,bi=-1;for(let Fn=0;Fn<Et;Fn++)for(let In=0;In<lt;In++)kt[it=Fn*lt+In]!=yn[it]&&(In<zt&&(zt=In),In>vn&&(vn=In),Fn<Cn&&(Cn=Fn),Fn>bi&&(bi=Fn));vn==-1&&(zt=Cn=vn=bi=0),Xe&&((1&zt)==1&&zt--,(1&Cn)==1&&Cn--);const wi=(vn-zt+1)*(bi-Cn+1);wi<st&&(st=wi,Fe=at,Pt=zt,tn=Cn,he=vn-zt+1,ke=bi-Cn+1)}Ke=new Uint8Array(Ue[nt-1-Fe]),Fe==1&&(ct[nt-1].dispose=2),$t=new Uint8Array(he*ke*4),i(Ke,lt,Et,$t,he,ke,-Pt,-tn,0),ht=i(Nt,lt,Et,$t,he,ke,-Pt,-tn,3)?1:0,ht==1?v(Nt,lt,Et,$t,{x:Pt,y:tn,width:he,height:ke}):i(Nt,lt,Et,$t,he,ke,-Pt,-tn,0)}else $t=Nt.slice(0);ct.push({rect:{x:Pt,y:tn,width:he,height:ke},img:$t,blend:ht,dispose:0})}if(St)for(nt=0;nt<ct.length;nt++){if((bt=ct[nt]).blend==1)continue;const Nt=bt.rect,kt=ct[nt-1].rect,Pt=Math.min(Nt.x,kt.x),tn=Math.min(Nt.y,kt.y),he={x:Pt,y:tn,width:Math.max(Nt.x+Nt.width,kt.x+kt.width)-Pt,height:Math.max(Nt.y+Nt.height,kt.y+kt.height)-tn};ct[nt-1].dispose=1,nt-1!=0&&_(Ue,lt,Et,ct,nt-1,he,Xe),_(Ue,lt,Et,ct,nt,he,Xe)}let qe=0;if(Ue.length!=1)for(var it=0;it<ct.length;it++){var bt;qe+=(bt=ct[it]).rect.width*bt.rect.height}return ct}(b,w,x,N,K,ee),De={},be=[],Se=[];if(D!=0){const Mt=[];for(Y=0;Y<ye.length;Y++)Mt.push(ye[Y].img.buffer);const Ue=function(Xe){let en=0;for(var ct=0;ct<Xe.length;ct++)en+=Xe[ct].byteLength;const nt=new Uint8Array(en);let $t=0;for(ct=0;ct<Xe.length;ct++){const Ke=new Uint8Array(Xe[ct]),qe=Ke.length;for(let it=0;it<qe;it+=4){let bt=Ke[it],Nt=Ke[it+1],kt=Ke[it+2];const Pt=Ke[it+3];Pt==0&&(bt=Nt=kt=0),nt[$t+it]=bt,nt[$t+it+1]=Nt,nt[$t+it+2]=kt,nt[$t+it+3]=Pt}$t+=qe}return nt.buffer}(Mt),lt=V(Ue,D);for(Y=0;Y<lt.plte.length;Y++)be.push(lt.plte[Y].est.rgba);let Et=0;for(Y=0;Y<ye.length;Y++){const St=(Le=ye[Y]).img.length;var ze=new Uint8Array(lt.inds.buffer,Et>>2,St>>2);Se.push(ze);const Xe=new Uint8Array(lt.abuf,Et,St);ae&&d(Le.img,Le.rect.width,Le.rect.height,be,Xe,ze),Le.img.set(Xe),Et+=St}}else for(ie=0;ie<ye.length;ie++){var Le=ye[ie];const Mt=new Uint32Array(Le.img.buffer);var tt=Le.rect.width;for(re=Mt.length,ze=new Uint8Array(re),Se.push(ze),Y=0;Y<re;Y++){const Ue=Mt[Y];if(Y!=0&&Ue==Mt[Y-1])ze[Y]=ze[Y-1];else if(Y>tt&&Ue==Mt[Y-tt])ze[Y]=ze[Y-tt];else{let lt=De[Ue];if(lt==null&&(De[Ue]=lt=be.length,be.push(Ue),be.length>=300))break;ze[Y]=lt}}}const Jt=be.length;for(Jt<=256&&O==0&&(U=Jt<=2?1:Jt<=4?2:Jt<=16?4:8,U=Math.max(U,I)),ie=0;ie<ye.length;ie++){(Le=ye[ie]).rect.x,Le.rect.y,tt=Le.rect.width;const Mt=Le.rect.height;let Ue=Le.img;new Uint32Array(Ue.buffer);let lt=4*tt,Et=4;if(Jt<=256&&O==0){lt=Math.ceil(U*tt/8);var Bt=new Uint8Array(lt*Mt);const St=Se[ie];for(let Xe=0;Xe<Mt;Xe++){Y=Xe*lt;const en=Xe*tt;if(U==8)for(var rt=0;rt<tt;rt++)Bt[Y+rt]=St[en+rt];else if(U==4)for(rt=0;rt<tt;rt++)Bt[Y+(rt>>1)]|=St[en+rt]<<4-4*(1&rt);else if(U==2)for(rt=0;rt<tt;rt++)Bt[Y+(rt>>2)]|=St[en+rt]<<6-2*(3&rt);else if(U==1)for(rt=0;rt<tt;rt++)Bt[Y+(rt>>3)]|=St[en+rt]<<7-1*(7&rt)}Ue=Bt,W=3,Et=1}else if(J==0&&ye.length==1){Bt=new Uint8Array(tt*Mt*3);const St=tt*Mt;for(Y=0;Y<St;Y++){const Xe=3*Y,en=4*Y;Bt[Xe]=Ue[en],Bt[Xe+1]=Ue[en+1],Bt[Xe+2]=Ue[en+2]}Ue=Bt,W=2,Et=3,lt=3*tt}Le.img=Ue,Le.bpl=lt,Le.bpp=Et}return{ctype:W,depth:U,plte:be,frames:ye}}function _(b,w,x,D,M,N,K){const ee=Uint8Array,I=Uint32Array,O=new ee(b[M-1]),ae=new I(b[M-1]),W=M+1<b.length?new ee(b[M+1]):null,U=new ee(b[M]),te=new I(U.buffer);let ie=w,re=x,Y=-1,J=-1;for(let De=0;De<N.height;De++)for(let be=0;be<N.width;be++){const Se=N.x+be,ze=N.y+De,Le=ze*w+Se,tt=te[Le];tt==0||D[M-1].dispose==0&&ae[Le]==tt&&(W==null||W[4*Le+3]!=0)||(Se<ie&&(ie=Se),Se>Y&&(Y=Se),ze<re&&(re=ze),ze>J&&(J=ze))}Y==-1&&(ie=re=Y=J=0),K&&((1&ie)==1&&ie--,(1&re)==1&&re--),N={x:ie,y:re,width:Y-ie+1,height:J-re+1};const ye=D[M];ye.rect=N,ye.blend=1,ye.img=new Uint8Array(N.width*N.height*4),D[M-1].dispose==0?(i(O,w,x,ye.img,N.width,N.height,-N.x,-N.y,0),v(U,w,x,ye.img,N)):i(U,w,x,ye.img,N.width,N.height,-N.x,-N.y,0)}function v(b,w,x,D,M){i(b,w,x,D,M.width,M.height,-M.x,-M.y,2)}function A(b,w,x,D,M,N,K){const ee=[];let I,O=[0,1,2,3,4];N!=-1?O=[N]:(w*D>5e5||x==1)&&(O=[0]),K&&(I={level:0});const ae=h3;for(var W=0;W<O.length;W++){for(let ie=0;ie<w;ie++)C(M,b,ie,D,x,O[W]);ee.push(ae.deflate(M,I))}let U,te=1e9;for(W=0;W<ee.length;W++)ee[W].length<te&&(U=W,te=ee[W].length);return ee[U]}function C(b,w,x,D,M,N){const K=x*D;let ee=K+x;if(b[ee]=N,ee++,N==0)if(D<500)for(var I=0;I<D;I++)b[ee+I]=w[K+I];else b.set(new Uint8Array(w.buffer,K,D),ee);else if(N==1){for(I=0;I<M;I++)b[ee+I]=w[K+I];for(I=M;I<D;I++)b[ee+I]=w[K+I]-w[K+I-M]+256&255}else if(x==0){for(I=0;I<M;I++)b[ee+I]=w[K+I];if(N==2)for(I=M;I<D;I++)b[ee+I]=w[K+I];if(N==3)for(I=M;I<D;I++)b[ee+I]=w[K+I]-(w[K+I-M]>>1)+256&255;if(N==4)for(I=M;I<D;I++)b[ee+I]=w[K+I]-t(w[K+I-M],0,0)+256&255}else{if(N==2)for(I=0;I<D;I++)b[ee+I]=w[K+I]+256-w[K+I-D]&255;if(N==3){for(I=0;I<M;I++)b[ee+I]=w[K+I]+256-(w[K+I-D]>>1)&255;for(I=M;I<D;I++)b[ee+I]=w[K+I]+256-(w[K+I-D]+w[K+I-M]>>1)&255}if(N==4){for(I=0;I<M;I++)b[ee+I]=w[K+I]+256-t(0,w[K+I-D],0)&255;for(I=M;I<D;I++)b[ee+I]=w[K+I]+256-t(w[K+I-M],w[K+I-D],w[K+I-M-D])&255}}}function V(b,w){const x=new Uint8Array(b),D=x.slice(0),M=new Uint32Array(D.buffer),N=B(D,w),K=N[0],ee=N[1],I=x.length,O=new Uint8Array(I>>2);let ae;if(x.length<2e7)for(var W=0;W<I;W+=4)ae=j(K,U=x[W]*(1/255),te=x[W+1]*(1/255),ie=x[W+2]*(1/255),re=x[W+3]*(1/255)),O[W>>2]=ae.ind,M[W>>2]=ae.est.rgba;else for(W=0;W<I;W+=4){var U=x[W]*.00392156862745098,te=x[W+1]*(1/255),ie=x[W+2]*(1/255),re=x[W+3]*(1/255);for(ae=K;ae.left;)ae=G(ae.est,U,te,ie,re)<=0?ae.left:ae.right;O[W>>2]=ae.ind,M[W>>2]=ae.est.rgba}return{abuf:D.buffer,inds:O,plte:ee}}function B(b,w,x){x==null&&(x=1e-4);const D=new Uint32Array(b.buffer),M={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};M.bst=$(b,M.i0,M.i1),M.est=z(M.bst);const N=[M];for(;N.length<w;){let ee=0,I=0;for(var K=0;K<N.length;K++)N[K].est.L>ee&&(ee=N[K].est.L,I=K);if(ee<x)break;const O=N[I],ae=F(b,D,O.i0,O.i1,O.est.e,O.est.eMq255);if(O.i0>=ae||O.i1<=ae){O.est.L=0;continue}const W={i0:O.i0,i1:ae,bst:null,est:null,tdst:0,left:null,right:null};W.bst=$(b,W.i0,W.i1),W.est=z(W.bst);const U={i0:ae,i1:O.i1,bst:null,est:null,tdst:0,left:null,right:null};for(U.bst={R:[],m:[],N:O.bst.N-W.bst.N},K=0;K<16;K++)U.bst.R[K]=O.bst.R[K]-W.bst.R[K];for(K=0;K<4;K++)U.bst.m[K]=O.bst.m[K]-W.bst.m[K];U.est=z(U.bst),O.left=W,O.right=U,N[I]=W,N.push(U)}for(N.sort((ee,I)=>I.bst.N-ee.bst.N),K=0;K<N.length;K++)N[K].ind=K;return[M,N]}function j(b,w,x,D,M){if(b.left==null)return b.tdst=function(W,U,te,ie,re){const Y=U-W[0],J=te-W[1],ye=ie-W[2],De=re-W[3];return Y*Y+J*J+ye*ye+De*De}(b.est.q,w,x,D,M),b;const N=G(b.est,w,x,D,M);let K=b.left,ee=b.right;N>0&&(K=b.right,ee=b.left);const I=j(K,w,x,D,M);if(I.tdst<=N*N)return I;const O=j(ee,w,x,D,M);return O.tdst<I.tdst?O:I}function G(b,w,x,D,M){const{e:N}=b;return N[0]*w+N[1]*x+N[2]*D+N[3]*M-b.eMq}function F(b,w,x,D,M,N){for(D-=4;x<D;){for(;q(b,x,M)<=N;)x+=4;for(;q(b,D,M)>N;)D-=4;if(x>=D)break;const K=w[x>>2];w[x>>2]=w[D>>2],w[D>>2]=K,x+=4,D-=4}for(;q(b,x,M)>N;)x-=4;return x+4}function q(b,w,x){return b[w]*x[0]+b[w+1]*x[1]+b[w+2]*x[2]+b[w+3]*x[3]}function $(b,w,x){const D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=[0,0,0,0],N=x-w>>2;for(let K=w;K<x;K+=4){const ee=b[K]*.00392156862745098,I=b[K+1]*(1/255),O=b[K+2]*(1/255),ae=b[K+3]*(1/255);M[0]+=ee,M[1]+=I,M[2]+=O,M[3]+=ae,D[0]+=ee*ee,D[1]+=ee*I,D[2]+=ee*O,D[3]+=ee*ae,D[5]+=I*I,D[6]+=I*O,D[7]+=I*ae,D[10]+=O*O,D[11]+=O*ae,D[15]+=ae*ae}return D[4]=D[1],D[8]=D[2],D[9]=D[6],D[12]=D[3],D[13]=D[7],D[14]=D[11],{R:D,m:M,N}}function z(b){const{R:w}=b,{m:x}=b,{N:D}=b,M=x[0],N=x[1],K=x[2],ee=x[3],I=D==0?0:1/D,O=[w[0]-M*M*I,w[1]-M*N*I,w[2]-M*K*I,w[3]-M*ee*I,w[4]-N*M*I,w[5]-N*N*I,w[6]-N*K*I,w[7]-N*ee*I,w[8]-K*M*I,w[9]-K*N*I,w[10]-K*K*I,w[11]-K*ee*I,w[12]-ee*M*I,w[13]-ee*N*I,w[14]-ee*K*I,w[15]-ee*ee*I],ae=O,W=P;let U=[Math.random(),Math.random(),Math.random(),Math.random()],te=0,ie=0;if(D!=0)for(let Y=0;Y<16&&(U=W.multVec(ae,U),ie=Math.sqrt(W.dot(U,U)),U=W.sml(1/ie,U),!(Y!=0&&Math.abs(ie-te)<1e-9));Y++)te=ie;const re=[M*I,N*I,K*I,ee*I];return{Cov:O,q:re,e:U,L:te,eMq255:W.dot(W.sml(255,re),U),eMq:W.dot(U,re),rgba:(Math.round(255*re[3])<<24|Math.round(255*re[2])<<16|Math.round(255*re[1])<<8|Math.round(255*re[0])<<0)>>>0}}var P={multVec:(b,w)=>[b[0]*w[0]+b[1]*w[1]+b[2]*w[2]+b[3]*w[3],b[4]*w[0]+b[5]*w[1]+b[6]*w[2]+b[7]*w[3],b[8]*w[0]+b[9]*w[1]+b[10]*w[2]+b[11]*w[3],b[12]*w[0]+b[13]*w[1]+b[14]*w[2]+b[15]*w[3]],dot:(b,w)=>b[0]*w[0]+b[1]*w[1]+b[2]*w[2]+b[3]*w[3],sml:(b,w)=>[b*w[0],b*w[1],b*w[2],b*w[3]]};xi.encode=function(w,x,D,M,N,K,ee){M==null&&(M=0),ee==null&&(ee=!1);const I=y(w,x,D,M,[!1,!1,!1,0,ee,!1]);return p(I,-1),m(I,x,D,N,K)},xi.encodeLL=function(w,x,D,M,N,K,ee,I){const O={ctype:0+(M==1?0:2)+(N==0?0:4),depth:K,frames:[]},ae=(M+N)*K,W=ae*x;for(let U=0;U<w.length;U++)O.frames.push({rect:{x:0,y:0,width:x,height:D},img:new Uint8Array(w[U]),blend:0,dispose:1,bpp:Math.ceil(ae/8),bpl:Math.ceil(W/8)});return p(O,0,!0),m(O,x,D,ee,I)},xi.encode.compress=y,xi.encode.dither=d,xi.quantize=V,xi.quantize.getKDtree=B,xi.quantize.getNearest=j})();const uw={toArrayBuffer(i,e){const t=i.width,s=i.height,a=t<<2,l=i.getContext("2d").getImageData(0,0,t,s),c=new Uint32Array(l.data.buffer),d=(32*t+31)/32<<2,m=d*s,p=122+m,y=new ArrayBuffer(p),_=new DataView(y),v=1<<20;let A,C,V,B,j=v,G=0,F=0,q=0;function $(b){_.setUint16(F,b,!0),F+=2}function z(b){_.setUint32(F,b,!0),F+=4}function P(b){F+=b}$(19778),z(p),P(4),z(122),z(108),z(t),z(-s>>>0),$(1),$(32),z(3),z(m),z(2835),z(2835),P(8),z(16711680),z(65280),z(255),z(4278190080),z(1466527264),function b(){for(;G<s&&j>0;){for(B=122+G*d,A=0;A<a;)j--,C=c[q++],V=C>>>24,_.setUint32(B+A,C<<8|V),A+=4;G++}q<c.length?(j=v,setTimeout(b,uw._dly)):e(y)}()},toBlob(i,e){this.toArrayBuffer(i,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var Qn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},f3={[Qn.CHROME]:16384,[Qn.FIREFOX]:11180,[Qn.DESKTOP_SAFARI]:16384,[Qn.IE]:8192,[Qn.IOS]:4096,[Qn.ETC]:8192};const kg=typeof window<"u",cw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Qh=kg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),d3=(kg||cw)&&(Qh&&Qh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),hw=(kg||cw)&&(Qh&&Qh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Pg(i,e,t=Date.now()){return new Promise(s=>{const a=i.split(","),l=a[0].match(/:(.*?);/)[1],c=globalThis.atob(a[1]);let d=c.length;const m=new Uint8Array(d);for(;d--;)m[d]=c.charCodeAt(d);const p=new Blob([m],{type:l});p.name=e,p.lastModified=t,s(p)})}function fw(i){return new Promise((e,t)=>{const s=new hw;s.onload=()=>e(s.result),s.onerror=a=>t(a),s.readAsDataURL(i)})}function dw(i){return new Promise((e,t)=>{const s=new Image;s.onload=()=>e(s),s.onerror=a=>t(a),s.src=i})}function ya(){if(ya.cachedResult!==void 0)return ya.cachedResult;let i=Qn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?i=Qn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?i=Qn.IOS:/Safari/i.test(e)?i=Qn.DESKTOP_SAFARI:/Firefox/i.test(e)?i=Qn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(i=Qn.IE),ya.cachedResult=i,ya.cachedResult}function mw(i,e){const t=ya(),s=f3[t];let a=i,l=e,c=a*l;const d=a>l?l/a:a/l;for(;c>s*s;){const m=(s+a)/2,p=(s+l)/2;m<p?(l=p,a=p*d):(l=m*d,a=m),c=a*l}return{width:a,height:l}}function Rf(i,e){let t,s;try{if(t=new OffscreenCanvas(i,e),s=t.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),s=t.getContext("2d")}return t.width=i,t.height=e,[t,s]}function pw(i,e){const{width:t,height:s}=mw(i.width,i.height),[a,l]=Rf(t,s);return e&&/jpe?g/.test(e)&&(l.fillStyle="white",l.fillRect(0,0,a.width,a.height)),l.drawImage(i,0,0,a.width,a.height),a}function Ah(){return Ah.cachedResult!==void 0||(Ah.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ah.cachedResult}function Yh(i,e={}){return new Promise(function(t,s){let a,l;var c=function(){try{return l=pw(a,e.fileType||i.type),t([a,l])}catch(m){return s(m)}},d=function(m){try{var p=function(y){try{throw y}catch(_){return s(_)}};try{let y;return fw(i).then(function(_){try{return y=_,dw(y).then(function(v){try{return a=v,function(){try{return c()}catch(A){return s(A)}}()}catch(A){return p(A)}},p)}catch(v){return p(v)}},p)}catch(y){p(y)}}catch(y){return s(y)}};try{if(Ah()||[Qn.DESKTOP_SAFARI,Qn.MOBILE_SAFARI].includes(ya()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(i).then(function(m){try{return a=m,c()}catch{return d()}},d)}catch{d()}})}function Xh(i,e,t,s,a=1){return new Promise(function(l,c){let d;if(e==="image/png"){let _,v,A;return _=i.getContext("2d"),{data:v}=_.getImageData(0,0,i.width,i.height),A=xi.encode([v.buffer],i.width,i.height,4096*a),d=new Blob([A],{type:e}),d.name=t,d.lastModified=s,m.call(this)}{let _=function(){return m.call(this)};var p=_;if(e==="image/bmp")return new Promise(v=>uw.toBlob(i,v)).then((function(v){try{return d=v,d.name=t,d.lastModified=s,_.call(this)}catch(A){return c(A)}}).bind(this),c);{let v=function(){return _.call(this)};var y=v;if(typeof OffscreenCanvas=="function"&&i instanceof OffscreenCanvas)return i.convertToBlob({type:e,quality:a}).then((function(A){try{return d=A,d.name=t,d.lastModified=s,v.call(this)}catch(C){return c(C)}}).bind(this),c);{let A;return A=i.toDataURL(e,a),Pg(A,t,s).then((function(C){try{return d=C,v.call(this)}catch(V){return c(V)}}).bind(this),c)}}}function m(){return l(d)}})}function Xi(i){i.width=0,i.height=0}function So(){return new Promise(function(i,e){let t,s,a,l;return So.cachedResult!==void 0?i(So.cachedResult):Pg("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return t=c,Yh(t).then(function(d){try{return s=d[1],Xh(s,t.type,t.name,t.lastModified).then(function(m){try{return a=m,Xi(s),Yh(a).then(function(p){try{return l=p[0],So.cachedResult=l.width===1&&l.height===2,i(So.cachedResult)}catch(y){return e(y)}},e)}catch(p){return e(p)}},e)}catch(m){return e(m)}},e)}catch(d){return e(d)}},e)})}function gw(i){return new Promise((e,t)=>{const s=new hw;s.onload=a=>{const l=new DataView(a.target.result);if(l.getUint16(0,!1)!=65496)return e(-2);const c=l.byteLength;let d=2;for(;d<c;){if(l.getUint16(d+2,!1)<=8)return e(-1);const m=l.getUint16(d,!1);if(d+=2,m==65505){if(l.getUint32(d+=2,!1)!=1165519206)return e(-1);const p=l.getUint16(d+=6,!1)==18761;d+=l.getUint32(d+4,p);const y=l.getUint16(d,p);d+=2;for(let _=0;_<y;_++)if(l.getUint16(d+12*_,p)==274)return e(l.getUint16(d+12*_+8,p))}else{if((65280&m)!=65280)break;d+=l.getUint16(d,!1)}}return e(-1)},s.onerror=a=>t(a),s.readAsArrayBuffer(i)})}function yw(i,e){const{width:t}=i,{height:s}=i,{maxWidthOrHeight:a}=e;let l,c=i;return isFinite(a)&&(t>a||s>a)&&([c,l]=Rf(t,s),t>s?(c.width=a,c.height=s/t*a):(c.width=t/s*a,c.height=a),l.drawImage(i,0,0,c.width,c.height),Xi(i)),c}function vw(i,e){const{width:t}=i,{height:s}=i,[a,l]=Rf(t,s);switch(e>4&&e<9?(a.width=s,a.height=t):(a.width=t,a.height=s),e){case 2:l.transform(-1,0,0,1,t,0);break;case 3:l.transform(-1,0,0,-1,t,s);break;case 4:l.transform(1,0,0,-1,0,s);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,s,0);break;case 7:l.transform(0,-1,-1,0,s,t);break;case 8:l.transform(0,-1,1,0,0,t)}return l.drawImage(i,0,0,t,s),Xi(i),a}function K1(i,e,t=0){return new Promise(function(s,a){let l,c,d,m,p,y,_,v,A,C,V,B,j,G,F,q,$,z,P,b;function w(D=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;l+=D,e.onProgress(Math.min(l,100))}function x(D){if(e.signal&&e.signal.aborted)throw e.signal.reason;l=Math.min(Math.max(D,l),100),e.onProgress(l)}return l=t,c=e.maxIteration||10,d=1024*e.maxSizeMB*1024,w(),Yh(i,e).then((function(D){try{return[,m]=D,w(),p=yw(m,e),w(),new Promise(function(M,N){var K;if(!(K=e.exifOrientation))return gw(i).then((function(I){try{return K=I,ee.call(this)}catch(O){return N(O)}}).bind(this),N);function ee(){return M(K)}return ee.call(this)}).then((function(M){try{return y=M,w(),So().then((function(N){try{return _=N?p:vw(p,y),w(),v=e.initialQuality||1,A=e.fileType||i.type,Xh(_,A,i.name,i.lastModified,v).then((function(K){try{{let ae=function(){if(c--&&(F>d||F>j)){let U,te;return U=b?.95*P.width:P.width,te=b?.95*P.height:P.height,[$,z]=Rf(U,te),z.drawImage(P,0,0,U,te),v*=A==="image/png"?.85:.95,Xh($,A,i.name,i.lastModified,v).then(function(ie){try{return q=ie,Xi(P),P=$,F=q.size,x(Math.min(99,Math.floor((G-F)/(G-d)*100))),ae}catch(re){return a(re)}},a)}return[1]},W=function(){return Xi(P),Xi($),Xi(p),Xi(_),Xi(m),x(100),s(q)};var I=ae,O=W;if(C=K,w(),V=C.size>d,B=C.size>i.size,!V&&!B)return x(100),s(C);var ee;return j=i.size,G=C.size,F=G,P=_,b=!e.alwaysKeepResolution&&V,(ee=(function(U){for(;U;){if(U.then)return void U.then(ee,a);try{if(U.pop){if(U.length)return U.pop()?W.call(this):U;U=ae}else U=U.call(this)}catch(te){return a(te)}}}).bind(this))(ae)}}catch(ae){return a(ae)}}).bind(this),a)}catch(K){return a(K)}}).bind(this),a)}catch(N){return a(N)}}).bind(this),a)}catch(M){return a(M)}}).bind(this),a)})}const m3=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let $m;function p3(i,e){return new Promise((t,s)=>{$m||($m=function(c){const d=[];return d.push(c),URL.createObjectURL(new Blob(d))}(m3));const a=new Worker($m);a.addEventListener("message",function(c){if(e.signal&&e.signal.aborted)a.terminate();else if(c.data.progress===void 0){if(c.data.error)return s(new Error(c.data.error)),void a.terminate();t(c.data.file),a.terminate()}else e.onProgress(c.data.progress)}),a.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",()=>{s(e.signal.reason),a.terminate()}),a.postMessage({file:i,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function On(i,e){return new Promise(function(t,s){let a,l,c,d,m,p;if(a={...e},c=0,{onProgress:d}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=A=>{c=A,typeof d=="function"&&d(c)},!(i instanceof Blob||i instanceof d3))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(i.type))return s(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||p)return K1(i,a).then((function(A){try{return l=A,v.call(this)}catch(C){return s(C)}}).bind(this),s);var y=(function(){try{return v.call(this)}catch(A){return s(A)}}).bind(this),_=function(A){try{return K1(i,a).then(function(C){try{return l=C,y()}catch(V){return s(V)}},s)}catch(C){return s(C)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",p3(i,a).then(function(A){try{return l=A,y()}catch{return _()}},_)}catch{_()}function v(){try{l.name=i.name,l.lastModified=i.lastModified}catch{}try{a.preserveExif&&i.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===i.type)&&(l=lw(i,l))}catch{}return t(l)}})}On.getDataUrlFromFile=fw,On.getFilefromDataUrl=Pg,On.loadImage=dw,On.drawImageInCanvas=pw,On.drawFileInCanvas=Yh,On.canvasToFile=Xh,On.getExifOrientation=gw,On.handleMaxWidthOrHeight=yw,On.followExifOrientation=vw,On.cleanupCanvasMemory=Xi,On.isAutoOrientationInBrowser=So,On.approximateBelowMaximumCanvasSizeOfBrowser=mw,On.copyExifWithoutOrientation=lw,On.getBrowserName=ya,On.version="2.0.2";const Q1=({children:i})=>{const{currentUser:e,loading:t}=Sf();return t?T.jsx("div",{children:"Loading..."}):e?i:T.jsx(HS,{to:"/signin"})};function g3(){const[i,e]=X.useState([]),[t,s]=X.useState([]),[a,l]=X.useState(!0),[c,d]=X.useState(!0),{currentUser:m,userProfile:p,getUserProfile:y}=Sf();X.useEffect(()=>{const F=_h(lu(ln,"listings"),q=>{const $=q.docs.map(z=>{const P=z.data(),{id:b,...w}=P;return{id:z.id,...w}});e($),d(!1)},q=>{console.error("Error fetching listings:",q),d(!1)});return()=>{F()}},[]);const _=async(F,q={})=>{const $={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,quality:.8,...q};try{console.log("Original file size:",(F.size/1024/1024).toFixed(2),"MB");const z=await On(F,$);return console.log("Compressed file size:",(z.size/1024/1024).toFixed(2),"MB"),z}catch(z){return console.error("Image compression failed:",z),F}},v=async(F,q)=>{const $=q.map(async(z,P)=>{try{const b=await _(z),w=`${F}_${P}_${Date.now()}.jpg`,x=rw(sw,`listings/${F}/${w}`),D=await qO(x,b);return{url:await FO(D.ref),fileName:w,originalName:z.name}}catch(b){throw console.error("Error uploading photo:",b),b}});return Promise.all($)},A=async(F,q=[])=>{try{const $={...F,userId:m.uid,userEmail:(p==null?void 0:p.email)||m.email,userFullName:(p==null?void 0:p.fullName)||m.displayName||"User",createdAt:new Date,requestors:[],matchedWith:null,status:"available",photos:[],views:0,favorites:[]},z=await gN(lu(ln,"listings"),$),P=z.id;if(q&&q.length>0){console.log("Compressing and uploading",q.length,"photos...");const b=await v(P,q);await Nr(z,{photos:b,updatedAt:new Date}),console.log("Photos uploaded and compressed successfully")}return console.log("Listing created with ID:",P),P}catch($){throw console.error("Error creating listing:",$),$}},C=async F=>{if(!m){alert("Please sign in to contact the owner");return}if(!F){console.error("Invalid listing object:",F),alert("Invalid listing. Please try again.");return}try{console.log("Listing object:",F),console.log("Current user:",m.uid);const q=Array.isArray(F.requestors)?F.requestors:[];if(console.log("Requestors array:",q),q.some(b=>b.userId===m.uid)){alert("You have already requested this item");return}const z=qn(ln,"listings",F.id),P={userId:m.uid,userEmail:(p==null?void 0:p.email)||m.email,userFullName:(p==null?void 0:p.fullName)||m.displayName||"User",requestDate:new Date().toISOString()};console.log("New requestor:",P),console.log("Updated requestors array:",[...q,P]),await Nr(z,{requestors:[...q,P]}),alert("Request sent successfully!")}catch(q){console.error("Error sending request:",q),console.error("Error details:",{listing:F,currentUser:m==null?void 0:m.uid,userProfile:p}),alert("Failed to send request. Please try again.")}},V=F=>{console.log("Favoriting listing:",F)},B=F=>{console.log("Sharing listing:",F.title)},j=async(F,q)=>{try{const $=qn(ln,"listings",F);await Nr($,{matchedWith:q,status:"matched"}),alert("Successfully matched with requestor!")}catch($){console.error("Error matching with requestor:",$),alert("Failed to match with requestor. Please try again.")}},G=async F=>{try{const q=qn(ln,"listings",F);await Nr(q,{status:"claimed"}),alert("Listing marked as claimed!")}catch(q){console.error("Error claiming listing:",q),alert("Failed to mark as claimed. Please try again.")}};return T.jsx(g2,{children:T.jsxs($S,{children:[T.jsx(ps,{path:"/",element:T.jsx(ZO,{})}),T.jsx(ps,{path:"/signin",element:T.jsx(JO,{})}),T.jsx(ps,{path:"/signup",element:T.jsx(e3,{})}),T.jsx(ps,{path:"/listingspage",element:T.jsx(r3,{listings:i,loading:c,onContact:C,onFavorite:V,onShare:B,onMatch:j,onClaim:G,currentUserId:m==null?void 0:m.uid})}),T.jsx(ps,{path:"/createlistings",element:T.jsx(Q1,{children:T.jsx(s3,{onCreate:A})})}),T.jsx(ps,{path:"/account",element:T.jsx(Q1,{children:T.jsx(a3,{})})}),T.jsx(ps,{path:"/about",element:T.jsx(o3,{})})]})})}function y3(){return T.jsx(WO,{children:T.jsx(g3,{})})}const v3=X.createContext();function _3({children:i}){const[e,t]=X.useState(null),[s,a]=X.useState(!0);X.useEffect(()=>Nb(ga,d=>{t(d),a(!1)}),[]);const l=()=>Hh(ga);return T.jsx(v3.Provider,{value:{user:e,loading:s,logout:l},children:i})}eS.createRoot(document.getElementById("root")).render(T.jsx($A.StrictMode,{children:T.jsx(_3,{children:T.jsx(y3,{})})}));
