(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function xT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function eS(){if(Dv)return Pl;Dv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Ov;function tS(){return Ov||(Ov=1,mm.exports=eS()),mm.exports}var _=tS(),pm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function nS(){if(kv)return Ie;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function B(k,ie,le){this.props=k,this.context=ie,this.refs=z,this.updater=le||O}B.prototype.isReactComponent={},B.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},B.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=B.prototype;function X(k,ie,le){this.props=k,this.context=ie,this.refs=z,this.updater=le||O}var W=X.prototype=new K;W.constructor=X,x(W,B.prototype),W.isPureReactComponent=!0;var ne=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function D(k,ie,le,oe,ae,_e){return le=_e.ref,{$$typeof:i,type:k,key:ie,ref:le!==void 0?le:null,props:_e}}function R(k,ie){return D(k.type,ie,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function M(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return ie[le]})}var P=/\/+/g;function L(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):ie.toString(36)}function N(){}function ot(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ke(k,ie,le,oe,ae){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(_e){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case i:case e:ye=!0;break;case E:return ye=k._init,Ke(ye(k._payload),ie,le,oe,ae)}}if(ye)return ae=ae(k),ye=oe===""?"."+L(k,0):oe,ne(ae)?(le="",ye!=null&&(le=ye.replace(P,"$&/")+"/"),Ke(ae,ie,le,"",function(yn){return yn})):ae!=null&&(C(ae)&&(ae=R(ae,le+(ae.key==null||k&&k.key===ae.key?"":(""+ae.key).replace(P,"$&/")+"/")+ye)),ie.push(ae)),1;ye=0;var wt=oe===""?".":oe+":";if(ne(k))for(var et=0;et<k.length;et++)oe=k[et],_e=wt+L(oe,et),ye+=Ke(oe,ie,le,_e,ae);else if(et=w(k),typeof et=="function")for(k=et.call(k),et=0;!(oe=k.next()).done;)oe=oe.value,_e=wt+L(oe,et++),ye+=Ke(oe,ie,le,_e,ae);else if(_e==="object"){if(typeof k.then=="function")return Ke(ot(k),ie,le,oe,ae);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ye}function F(k,ie,le){if(k==null)return k;var oe=[],ae=0;return Ke(k,oe,"","",function(_e){return ie.call(le,_e,ae++)}),oe}function he(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var ge=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function De(){}return Ie.Children={map:F,forEach:function(k,ie,le){F(k,function(){ie.apply(this,arguments)},le)},count:function(k){var ie=0;return F(k,function(){ie++}),ie},toArray:function(k){return F(k,function(ie){return ie})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=B,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=X,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return se.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,ie,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=x({},k.props),ae=k.key,_e=void 0;if(ie!=null)for(ye in ie.ref!==void 0&&(_e=void 0),ie.key!==void 0&&(ae=""+ie.key),ie)!fe.call(ie,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ie.ref===void 0||(oe[ye]=ie[ye]);var ye=arguments.length-2;if(ye===1)oe.children=le;else if(1<ye){for(var wt=Array(ye),et=0;et<ye;et++)wt[et]=arguments[et+2];oe.children=wt}return D(k.type,ae,void 0,void 0,_e,oe)},Ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,ie,le){var oe,ae={},_e=null;if(ie!=null)for(oe in ie.key!==void 0&&(_e=""+ie.key),ie)fe.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ae[oe]=ie[oe]);var ye=arguments.length-2;if(ye===1)ae.children=le;else if(1<ye){for(var wt=Array(ye),et=0;et<ye;et++)wt[et]=arguments[et+2];ae.children=wt}if(k&&k.defaultProps)for(oe in ye=k.defaultProps,ye)ae[oe]===void 0&&(ae[oe]=ye[oe]);return D(k,_e,void 0,void 0,null,ae)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=C,Ie.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:he}},Ie.memo=function(k,ie){return{$$typeof:g,type:k,compare:ie===void 0?null:ie}},Ie.startTransition=function(k){var ie=se.T,le={};se.T=le;try{var oe=k(),ae=se.S;ae!==null&&ae(le,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(De,ge)}catch(_e){ge(_e)}finally{se.T=ie}},Ie.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ie.use=function(k){return se.H.use(k)},Ie.useActionState=function(k,ie,le){return se.H.useActionState(k,ie,le)},Ie.useCallback=function(k,ie){return se.H.useCallback(k,ie)},Ie.useContext=function(k){return se.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,ie){return se.H.useDeferredValue(k,ie)},Ie.useEffect=function(k,ie,le){var oe=se.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(k,ie)},Ie.useId=function(){return se.H.useId()},Ie.useImperativeHandle=function(k,ie,le){return se.H.useImperativeHandle(k,ie,le)},Ie.useInsertionEffect=function(k,ie){return se.H.useInsertionEffect(k,ie)},Ie.useLayoutEffect=function(k,ie){return se.H.useLayoutEffect(k,ie)},Ie.useMemo=function(k,ie){return se.H.useMemo(k,ie)},Ie.useOptimistic=function(k,ie){return se.H.useOptimistic(k,ie)},Ie.useReducer=function(k,ie,le){return se.H.useReducer(k,ie,le)},Ie.useRef=function(k){return se.H.useRef(k)},Ie.useState=function(k){return se.H.useState(k)},Ie.useSyncExternalStore=function(k,ie,le){return se.H.useSyncExternalStore(k,ie,le)},Ie.useTransition=function(){return se.H.useTransition()},Ie.version="19.1.0",Ie}var Mv;function cp(){return Mv||(Mv=1,pm.exports=nS()),pm.exports}var j=cp();const iS=xT(j);var gm={exports:{}},Ll={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function rS(){return Vv||(Vv=1,function(i){function e(F,he){var ge=F.length;F.push(he);e:for(;0<ge;){var De=ge-1>>>1,k=F[De];if(0<o(k,he))F[De]=he,F[ge]=k,ge=De;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var he=F[0],ge=F.pop();if(ge!==he){F[0]=ge;e:for(var De=0,k=F.length,ie=k>>>1;De<ie;){var le=2*(De+1)-1,oe=F[le],ae=le+1,_e=F[ae];if(0>o(oe,ge))ae<k&&0>o(_e,oe)?(F[De]=_e,F[ae]=ge,De=ae):(F[De]=oe,F[le]=ge,De=le);else if(ae<k&&0>o(_e,ge))F[De]=_e,F[ae]=ge,De=ae;else break e}}return he}function o(F,he){var ge=F.sortIndex-he.sortIndex;return ge!==0?ge:F.id-he.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,w=3,O=!1,x=!1,z=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ne(F){for(var he=n(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=F)s(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=n(g)}}function se(F){if(z=!1,ne(F),!x)if(n(p)!==null)x=!0,fe||(fe=!0,L());else{var he=n(g);he!==null&&Ke(se,he.startTime-F)}}var fe=!1,D=-1,R=5,C=-1;function M(){return B?!0:!(i.unstable_now()-C<R)}function P(){if(B=!1,fe){var F=i.unstable_now();C=F;var he=!0;try{e:{x=!1,z&&(z=!1,X(D),D=-1),O=!0;var ge=w;try{t:{for(ne(F),A=n(p);A!==null&&!(A.expirationTime>F&&M());){var De=A.callback;if(typeof De=="function"){A.callback=null,w=A.priorityLevel;var k=De(A.expirationTime<=F);if(F=i.unstable_now(),typeof k=="function"){A.callback=k,ne(F),he=!0;break t}A===n(p)&&s(p),ne(F)}else s(p);A=n(p)}if(A!==null)he=!0;else{var ie=n(g);ie!==null&&Ke(se,ie.startTime-F),he=!1}}break e}finally{A=null,w=ge,O=!1}he=void 0}}finally{he?L():fe=!1}}}var L;if(typeof W=="function")L=function(){W(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ot=N.port2;N.port1.onmessage=P,L=function(){ot.postMessage(null)}}else L=function(){K(P,0)};function Ke(F,he){D=K(function(){F(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(F){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var ge=w;w=he;try{return F()}finally{w=ge}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(F,he){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=w;w=F;try{return he()}finally{w=ge}},i.unstable_scheduleCallback=function(F,he,ge){var De=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,F){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ge+k,F={id:E++,callback:he,priorityLevel:F,startTime:ge,expirationTime:k,sortIndex:-1},ge>De?(F.sortIndex=ge,e(g,F),n(p)===null&&F===n(g)&&(z?(X(D),D=-1):z=!0,Ke(se,ge-De))):(F.sortIndex=k,e(p,F),x||O||(x=!0,fe||(fe=!0,L()))),F},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(F){var he=w;return function(){var ge=w;w=he;try{return F.apply(this,arguments)}finally{w=ge}}}}(_m)),_m}var Pv;function sS(){return Pv||(Pv=1,ym.exports=rS()),ym.exports}var vm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function aS(){if(Lv)return an;Lv=1;var i=cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},an.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.1.0",an}var Uv;function oS(){if(Uv)return vm.exports;Uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=aS(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function lS(){if(jv)return Ll;jv=1;var i=sS(),e=cp(),n=oS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var T=!1,b=h.child;b;){if(b===a){T=!0,a=h,l=d;break}if(b===l){T=!0,l=h,a=d;break}b=b.sibling}if(!T){for(b=d.child;b;){if(b===a){T=!0,a=d,l=h;break}if(b===l){T=!0,l=d,a=h;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case B:return"Profiler";case z:return"StrictMode";case se:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case W:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ne:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:ot(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return ot(t(r))}catch{}}return null}var Ke=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],k=-1;function ie(t){return{current:t}}function le(t){0>k||(t.current=De[k],De[k]=null,k--)}function oe(t,r){k++,De[k]=t.current,t.current=r}var ae=ie(null),_e=ie(null),ye=ie(null),wt=ie(null);function et(t,r){switch(oe(ye,r),oe(_e,t),oe(ae,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?sv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=sv(r),t=av(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ae),oe(ae,t)}function yn(){le(ae),le(_e),le(ye)}function ai(t){t.memoizedState!==null&&oe(wt,t);var r=ae.current,a=av(r,t.type);r!==a&&(oe(_e,t),oe(ae,a))}function Qn(t){_e.current===t&&(le(ae),le(_e)),wt.current===t&&(le(wt),Dl._currentValue=ge)}var wn=Object.prototype.hasOwnProperty,oi=i.unstable_scheduleCallback,Vi=i.unstable_cancelCallback,ps=i.unstable_shouldYield,gs=i.unstable_requestPaint,Nt=i.unstable_now,xo=i.unstable_getCurrentPriorityLevel,ys=i.unstable_ImmediatePriority,ue=i.unstable_UserBlockingPriority,We=i.unstable_NormalPriority,pt=i.unstable_LowPriority,Qe=i.unstable_IdlePriority,Fe=i.log,$e=i.unstable_setDisableYieldValue,Ve=null,Ue=null;function cn(t){if(typeof Fe=="function"&&$e(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ve,t)}catch{}}var rn=Math.clz32?Math.clz32:_s,Iu=Math.log,gf=Math.LN2;function _s(t){return t>>>=0,t===0?32:31-(Iu(t)/gf|0)|0}var vs=256,Es=4194304;function $n(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=$n(l):(T&=b,T!==0?h=$n(T):a||(a=b&~t,a!==0&&(h=$n(a))))):(b=l&~d,b!==0?h=$n(b):T!==0?h=$n(T):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Ts(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Do(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),t}function ko(){var t=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),t}function Pi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Li(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mo(t,r,a,l,h,d){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,G=t.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-rn(a),te=1<<Z;b[Z]=0,I[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&li(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(T&~r))}function li(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-rn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Vo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-rn(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vr(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Sv(t.type))}function Nu(t,r){var a=he.p;try{return he.p=t,r()}finally{he.p=a}}var ct=Math.random().toString(36).slice(2),xt="__reactFiber$"+ct,bt="__reactProps$"+ct,Vn="__reactContainer$"+ct,Po="__reactEvents$"+ct,yf="__reactListeners$"+ct,Er="__reactHandles$"+ct,xu="__reactResources$"+ct,ws="__reactMarker$"+ct;function Tr(t){delete t[xt],delete t[bt],delete t[Po],delete t[yf],delete t[Er]}function Ui(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Vn]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=cv(t);t!==null;){if(a=t[xt])return a;t=cv(t)}return r}t=a,a=t.parentNode}return null}function ui(t){if(t=t[xt]||t[Vn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ci(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function hn(t){var r=t[xu];return r||(r=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(t){t[ws]=!0}var Lo=new Set,ga={};function Xn(t,r){ji(t,r),ji(t+"Capture",r)}function ji(t,r){for(ga[t]=r,t=0;t<r.length;t++)Lo.add(r[t])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},bs={};function ku(t){return wn.call(bs,t)?!0:wn.call(Ou,t)?!1:Du.test(t)?bs[t]=!0:(Ou[t]=!0,!1)}function wr(t,r,a){if(ku(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function hi(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Gt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var As,Mu;function Bi(t){if(As===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);As=r&&r[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+Mu}var ya=!1;function _a(t,r){if(!t||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var Y=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){Y=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],b=d[1];if(T&&b){var I=T.split(`
`),G=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===G.length)for(l=I.length-1,h=G.length-1;1<=l&&0<=h&&I[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==G[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Bi(a):""}function Uo(t){switch(t.tag){case 26:case 27:case 5:return Bi(t.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return Bi("Activity");default:return""}}function va(t){try{var r="";do r+=Uo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _f(t){var r=jo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ea(t){t._valueTracker||(t._valueTracker=_f(t))}function Bo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=jo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vf=/[\n"\\]/g;function At(t){return t.replace(vf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(t,r,a,l,h,d,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+fn(r)):t.value!==""+fn(r)&&(t.value=""+fn(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?br(t,T,fn(r)):a!=null?br(t,T,fn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+fn(b):t.removeAttribute("name")}function Rs(t,r,a,l,h,d,T,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+fn(a):"",r=r!=null?""+fn(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function br(t,r,a){r==="number"&&Ss(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+fn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function tt(t,r,a){if(r!=null&&(r=""+fn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+fn(a):""}function Cs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ke(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=fn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Pn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Is.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function zo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Vu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Vu(t,d,r[d])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qi=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Fi=null;function Ho(t){var r=ui(t);if(r&&(t=r.stateNode)){var a=t[bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(bn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[bt]||null;if(!h)throw Error(s(90));bn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Bo(l)}break e;case"textarea":tt(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&zi(t,!!a.multiple,r,!1)}}}var fi=!1;function Pu(t,r,a){if(fi)return t(r,a);fi=!0;try{var l=t(r);return l}finally{if(fi=!1,(Hi!==null||Fi!==null)&&(Nc(),Hi&&(r=Hi,t=Fi,Fi=Hi=null,Ho(r),t)))for(r=0;r<t.length;r++)Ho(t[r])}}function Ns(t,r){var a=t.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Wn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Un=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Un=!1}var di=null,Ar=null,Gi=null;function Fo(){if(Gi)return Gi;var t,r=Ar,a=r.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var T=a-t;for(l=1;l<=T&&r[a-l]===h[d-l];l++);return Gi=h.slice(t,1<l?1-l:void 0)}function mi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pi(){return!0}function Go(){return!1}function Lt(t){function r(a,l,h,d,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:Go,this.isPropagationStopped=Go,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Lt(Xe),Ds=E({},Xe,{view:0,detail:0}),Lu=Lt(Ds),ba,Aa,gi,Os=E({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(ba=t.screenX-gi.screenX,Aa=t.screenY-gi.screenY):Aa=ba=0,gi=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),jn=Lt(Os),Uu=E({},Os,{dataTransfer:0}),wf=Lt(Uu),ks=E({},Ds,{relatedTarget:0}),Sa=Lt(ks),Ko=E({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Lt(Ko),ju=E({},Xe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=Lt(ju),bf=E({},Xe,{data:0}),Yo=Lt(bf),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zu[t])?!!r[t]:!1}function Vs(){return Qo}var qu=E({},Ds,{key:function(t){if(t.key){var r=Ms[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ia=Lt(qu),Hu=E({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Lt(Hu),Ki=E({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),Fu=Lt(Ki),Gu=E({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Lt(Gu),Yu=E({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Lt(Yu),dn=E({},Xe,{newState:0,oldState:0}),Qu=Lt(dn),$u=[9,13,27,32],yi=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var y=Wn&&"TextEvent"in window&&!c,v=Wn&&(!yi||c&&8<c&&11>=c),S=" ",q=!1;function $(t,r){switch(t){case"keyup":return $u.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Dt(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(q=!0,S);case"textInput":return t=r.data,t===S&&q?null:t;default:return null}}function Be(t,r){if(je)return t==="compositionend"||!yi&&$(t,r)?(t=Fo(),Gi=Ar=di=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ut[t.type]:r==="textarea"}function Yi(t,r,a,l){Hi?Fi?Fi.push(l):Fi=[l]:Hi=l,r=Vc(r,"onChange"),0<r.length&&(a=new wa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Kt=null,_i=null;function Xo(t){ev(t,0)}function Xu(t){var r=ci(t);if(Bo(r))return t}function Tg(t,r){if(t==="change")return r}var wg=!1;if(Wn){var Af;if(Wn){var Sf="oninput"in document;if(!Sf){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Sf=typeof bg.oninput=="function"}Af=Sf}else Af=!1;wg=Af&&(!document.documentMode||9<document.documentMode)}function Ag(){Kt&&(Kt.detachEvent("onpropertychange",Sg),_i=Kt=null)}function Sg(t){if(t.propertyName==="value"&&Xu(_i)){var r=[];Yi(r,_i,t,Ln(t)),Pu(Xo,r)}}function xb(t,r,a){t==="focusin"?(Ag(),Kt=r,_i=a,Kt.attachEvent("onpropertychange",Sg)):t==="focusout"&&Ag()}function Db(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(_i)}function Ob(t,r){if(t==="click")return Xu(r)}function kb(t,r){if(t==="input"||t==="change")return Xu(r)}function Mb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:Mb;function Wo(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!wn.call(r,h)||!An(t[h],r[h]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,r){var a=Rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Ig(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ig(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ss(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ss(t.document)}return r}function Rf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Vb=Wn&&"documentMode"in document&&11>=document.documentMode,xa=null,Cf=null,Zo=null,If=!1;function xg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||xa==null||xa!==Ss(l)||(l=xa,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Vc(Cf,"onSelect"),0<l.length&&(r=new wa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=xa)))}function Ps(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Da={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Nf={},Dg={};Wn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Ls(t){if(Nf[t])return Nf[t];if(!Da[t])return t;var r=Da[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Dg)return Nf[t]=r[a];return t}var Og=Ls("animationend"),kg=Ls("animationiteration"),Mg=Ls("animationstart"),Pb=Ls("transitionrun"),Lb=Ls("transitionstart"),Ub=Ls("transitioncancel"),Vg=Ls("transitionend"),Pg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Zn(t,r){Pg.set(t,r),Xn(r,[t])}var Lg=new WeakMap;function Bn(t,r){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:va(r)},Lg.set(t,r),r)}return{value:t,source:r,stack:va(r)}}var zn=[],Oa=0,Df=0;function Wu(){for(var t=Oa,r=Df=Oa=0;r<t;){var a=zn[r];zn[r++]=null;var l=zn[r];zn[r++]=null;var h=zn[r];zn[r++]=null;var d=zn[r];if(zn[r++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}d!==0&&Ug(a,h,d)}}function Zu(t,r,a,l){zn[Oa++]=t,zn[Oa++]=r,zn[Oa++]=a,zn[Oa++]=l,Df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,r,a,l){return Zu(t,r,a,l),Ju(t)}function ka(t,r){return Zu(t,null,null,r),Ju(t)}function Ug(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-rn(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ju(t){if(50<bl)throw bl=0,Ud=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ma={};function jb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,r,a,l){return new jb(t,r,a,l)}function kf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,r){var a=t.alternate;return a===null?(a=Sn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ec(t,r,a,l,h,d){var T=0;if(l=t,typeof t=="function")kf(t)&&(T=1);else if(typeof t=="string")T=zA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,a,r,h),t.elementType=C,t.lanes=d,t;case x:return Us(a.children,h,d,r);case z:T=8,h|=24;break;case B:return t=Sn(12,a,r,h|2),t.elementType=B,t.lanes=d,t;case se:return t=Sn(13,a,r,h),t.elementType=se,t.lanes=d,t;case fe:return t=Sn(19,a,r,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case W:T=10;break e;case X:T=9;break e;case ne:T=11;break e;case D:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Sn(T,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Us(t,r,a,l){return t=Sn(7,t,l,r),t.lanes=a,t}function Mf(t,r,a){return t=Sn(6,t,null,r),t.lanes=a,t}function Vf(t,r,a){return r=Sn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Va=[],Pa=0,tc=null,nc=0,qn=[],Hn=0,js=null,$i=1,Xi="";function Bs(t,r){Va[Pa++]=nc,Va[Pa++]=tc,tc=t,nc=r}function Bg(t,r,a){qn[Hn++]=$i,qn[Hn++]=Xi,qn[Hn++]=js,js=t;var l=$i;t=Xi;var h=32-rn(l)-1;l&=~(1<<h),a+=1;var d=32-rn(r)+h;if(30<d){var T=h-h%5;d=(l&(1<<T)-1).toString(32),l>>=T,h-=T,$i=1<<32-rn(r)+h|a<<h|l,Xi=d+t}else $i=1<<d|a<<h|l,Xi=t}function Pf(t){t.return!==null&&(Bs(t,1),Bg(t,1,0))}function Lf(t){for(;t===tc;)tc=Va[--Pa],Va[Pa]=null,nc=Va[--Pa],Va[Pa]=null;for(;t===js;)js=qn[--Hn],qn[Hn]=null,Xi=qn[--Hn],qn[Hn]=null,$i=qn[--Hn],qn[Hn]=null}var mn=null,gt=null,Ye=!1,zs=null,vi=!1,Uf=Error(s(519));function qs(t){var r=Error(s(418,""));throw tl(Bn(r,t)),Uf}function zg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[bt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Me(Sl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Rs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Cs(r,l.value,l.defaultValue,l.children),Ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||rv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||qs(t)}function qg(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:mn=mn.return}}function Jo(t){if(t!==mn)return!1;if(!Ye)return qg(t),Ye=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&gt&&qs(t),qg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){gt=ei(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}gt=null}}else r===27?(r=gt,Br(t.type)?(t=rm,rm=null,gt=t):gt=r):gt=mn?ei(t.stateNode.nextSibling):null;return!0}function el(){gt=mn=null,Ye=!1}function Hg(){var t=zs;return t!==null&&(En===null?En=t:En.push.apply(En,t),zs=null),t}function tl(t){zs===null?zs=[t]:zs.push(t)}var jf=ie(null),Hs=null,Wi=null;function Sr(t,r,a){oe(jf,r._currentValue),r._currentValue=a}function Zi(t){t._currentValue=jf.current,le(jf)}function Bf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function zf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var T=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Bf(d.return,a,t),l||(T=null);break e}d=b.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),Bf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function nl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=h.type;An(h.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(h===wt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&zf(r,t,a,l),r.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Fg(Hs,t)}function rc(t,r){return Hs===null&&Fs(t),Fg(t,r)}function Fg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Wi=Wi.next=r;return a}var Bb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},zb=i.unstable_scheduleCallback,qb=i.unstable_NormalPriority,kt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new Bb,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&zb(qb,function(){t.controller.abort()})}var rl=null,Hf=0,La=0,Ua=null;function Hb(t,r){if(rl===null){var a=rl=[];Hf=0,La=Gd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,r.then(Gg,Gg),r}function Gg(){if(--Hf===0&&rl!==null){Ua!==null&&(Ua.status="fulfilled");var t=rl;rl=null,La=0,Ua=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Fb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=F.S;F.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hb(t,r),Kg!==null&&Kg(t,r)};var Gs=ie(null);function Ff(){var t=Gs.current;return t!==null?t:lt.pooledCache}function sc(t,r){r===null?oe(Gs,Gs.current):oe(Gs,r.pool)}function Yg(){var t=Ff();return t===null?null:{parent:kt._currentValue,pool:t}}var sl=Error(s(460)),Qg=Error(s(474)),ac=Error(s(542)),Gf={then:function(){}};function $g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oc(){}function Xg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(oc,oc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zg(t),t;default:if(typeof r.status=="string")r.then(oc,oc);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zg(t),t}throw al=r,sl}}var al=null;function Wg(){if(al===null)throw Error(s(459));var t=al;return al=null,t}function Zg(t){if(t===sl||t===ac)throw Error(s(483))}var Rr=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ju(t),Ug(t,null,a),r}return Zu(t,l,r,a),Ju(t)}function ol(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}function Qf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var $f=!1;function ll(){if($f){var t=Ua;if(t!==null)throw t}}function ul(t,r,a,l){$f=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,T=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,G=I.next;I.next=null,T===null?d=G:T.next=G,T=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==T&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=I))}if(d!==null){var te=h.baseState;T=0,Z=G=I=null,b=d;do{var Y=b.lane&-536870913,Q=Y!==b.lane;if(Q?(ze&Y)===Y:(l&Y)===Y){Y!==0&&Y===La&&($f=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Re=t,we=b;Y=r;var rt=a;switch(we.tag){case 1:if(Re=we.payload,typeof Re=="function"){te=Re.call(rt,te,Y);break e}te=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=we.payload,Y=typeof Re=="function"?Re.call(rt,te,Y):Re,Y==null)break e;te=E({},te,Y);break e;case 2:Rr=!0}}Y=b.callback,Y!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=Q,I=te):Z=Z.next=Q,T|=Y;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(I=te),h.baseState=I,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Pr|=T,t.lanes=T,t.memoizedState=te}}function Jg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ey(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],r)}var ja=ie(null),lc=ie(0);function ty(t,r){t=sr,oe(lc,t),oe(ja,r),sr=t|r.baseLanes}function Xf(){oe(lc,sr),oe(ja,ja.current)}function Wf(){sr=lc.current,le(ja),le(lc)}var Nr=0,Ne=null,nt=null,St=null,uc=!1,Ba=!1,Ks=!1,cc=0,cl=0,za=null,Gb=0;function vt(){throw Error(s(321))}function Zf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!An(t[a],r[a]))return!1;return!0}function Jf(t,r,a,l,h,d){return Nr=d,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=t===null||t.memoizedState===null?Uy:jy,Ks=!1,d=a(l,h),Ks=!1,Ba&&(d=iy(r,a,l,h)),ny(t),d}function ny(t){F.H=gc;var r=nt!==null&&nt.next!==null;if(Nr=0,St=nt=Ne=null,uc=!1,cl=0,za=null,r)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&ic(t)&&(jt=!0))}function iy(t,r,a,l){Ne=t;var h=0;do{if(Ba&&(za=null),cl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,St=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Zb,d=r(a,l)}while(Ba);return d}function Kb(){var t=F.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),r}function ed(){var t=cc!==0;return cc=0,t}function td(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function nd(t){if(uc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}uc=!1}Nr=0,St=nt=Ne=null,Ba=!1,cl=cc=0,za=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function Rt(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=St===null?Ne.memoizedState:St.next;if(r!==null)St=r,nt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var r=cl;return cl+=1,za===null&&(za=[]),t=Xg(za,t,r),r=Ne,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?Uy:jy),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===W)return sn(t)}throw Error(s(438,String(t)))}function rd(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=id(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function Ji(t,r){return typeof r=="function"?r(t):r}function fc(t){var r=Rt();return sd(r,nt,t)}function sd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var T=h.next;h.next=d.next,d.next=T}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=T=null,I=null,G=r,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(ze&te)===te:(Nr&te)===te){var Y=G.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===La&&(Z=!0);else if((Nr&Y)===Y){G=G.next,Y===La&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(b=I=te,T=d):I=I.next=te,Ne.lanes|=Y,Pr|=Y;te=G.action,Ks&&a(d,te),d=G.hasEagerState?G.eagerState:a(d,te)}else Y={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(b=I=Y,T=d):I=I.next=Y,Ne.lanes|=te,Pr|=te;G=G.next}while(G!==null&&G!==r);if(I===null?T=d:I.next=b,!An(d,t.memoizedState)&&(jt=!0,Z&&(a=Ua,a!==null)))throw a;t.memoizedState=d,t.baseState=T,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do d=t(d,T.action),T=T.next;while(T!==h);An(d,r.memoizedState)||(jt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ry(t,r,a){var l=Ne,h=Rt(),d=Ye;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!An((nt||h).memoizedState,a);T&&(h.memoizedState=a,jt=!0),h=h.queue;var b=oy.bind(null,l,h,t);if(fl(2048,8,b,[t]),h.getSnapshot!==r||T||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,qa(9,dc(),ay.bind(null,l,h,a,r),null),lt===null)throw Error(s(349));d||(Nr&124)!==0||sy(l,r,a)}return a}function sy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=id(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ay(t,r,a,l){r.value=a,r.getSnapshot=l,ly(r)&&uy(t)}function oy(t,r,a){return a(function(){ly(r)&&uy(t)})}function ly(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!An(t,a)}catch{return!0}}function uy(t){var r=ka(t,2);r!==null&&xn(r,t,2)}function od(t){var r=_n();if(typeof t=="function"){var a=t;if(t=a(),Ks){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},r}function cy(t,r,a,l){return t.baseState=a,sd(t,nt,typeof l=="function"?l:Ji)}function Yb(t,r,a,l,h){if(pc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,hy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function hy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=F.T,T={};F.T=T;try{var b=a(h,l),I=F.S;I!==null&&I(T,b),fy(t,r,b)}catch(G){ld(t,r,G)}finally{F.T=d}}else try{d=a(h,l),fy(t,r,d)}catch(G){ld(t,r,G)}}function fy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,r,l)},function(l){return ld(t,r,l)}):dy(t,r,a)}function dy(t,r,a){r.status="fulfilled",r.value=a,my(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,hy(t,a)))}function ld(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,my(r),r=r.next;while(r!==l)}t.action=null}function my(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function py(t,r){return r}function gy(t,r){if(Ye){var a=lt.formState;if(a!==null){e:{var l=Ne;if(Ye){if(gt){t:{for(var h=gt,d=vi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){gt=ei(h.nextSibling),l=h.data==="F!";break e}}qs(l)}l=!1}l&&(r=a[0])}}return a=_n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:r},a.queue=l,a=Vy.bind(null,Ne,l),l.dispatch=a,l=od(!1),d=dd.bind(null,Ne,!1,l.queue),l=_n(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Yb.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function yy(t){var r=Rt();return _y(r,nt,t)}function _y(t,r,a){if(r=sd(t,r,py)[0],t=fc(Ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(T){throw T===sl?ac:T}else l=r;r=Rt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,qa(9,dc(),Qb.bind(null,h,a),null)),[l,d,t]}function Qb(t,r){t.action=r}function vy(t){var r=Rt(),a=nt;if(a!==null)return _y(r,a,t);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function qa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=id(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function dc(){return{destroy:void 0,resource:void 0}}function Ey(){return Rt().memoizedState}function mc(t,r,a,l){var h=_n();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=qa(1|r,dc(),a,l)}function fl(t,r,a,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Zf(l,nt.memoizedState.deps)?h.memoizedState=qa(r,d,a,l):(Ne.flags|=t,h.memoizedState=qa(1|r,d,a,l))}function Ty(t,r){mc(8390656,8,t,r)}function wy(t,r){fl(2048,8,t,r)}function by(t,r){return fl(4,2,t,r)}function Ay(t,r){return fl(4,4,t,r)}function Sy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ry(t,r,a){a=a!=null?a.concat([t]):null,fl(4,4,Sy.bind(null,r,t),a)}function ud(){}function Cy(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Zf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Iy(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Zf(r,l[1]))return l[0];if(l=t(),Ks){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function cd(t,r,a){return a===void 0||(Nr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=D_(),Ne.lanes|=t,Pr|=t,a)}function Ny(t,r,a,l){return An(a,r)?a:ja.current!==null?(t=cd(t,a,l),An(t,r)||(jt=!0),t):(Nr&42)===0?(jt=!0,t.memoizedState=a):(t=D_(),Ne.lanes|=t,Pr|=t,r)}function xy(t,r,a,l,h){var d=he.p;he.p=d!==0&&8>d?d:8;var T=F.T,b={};F.T=b,dd(t,!1,r,a);try{var I=h(),G=F.S;if(G!==null&&G(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=Fb(I,l);dl(t,r,Z,Nn(t))}else dl(t,r,l,Nn(t))}catch(te){dl(t,r,{then:function(){},status:"rejected",reason:te},Nn())}finally{he.p=d,F.T=T}}function $b(){}function hd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Dy(t).queue;xy(t,h,r,ge,a===null?$b:function(){return Oy(t),a(l)})}function Dy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Oy(t){var r=Dy(t).next.queue;dl(t,r,{},Nn())}function fd(){return sn(Dl)}function ky(){return Rt().memoizedState}function My(){return Rt().memoizedState}function Xb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();t=Cr(a);var l=Ir(r,t,a);l!==null&&(xn(l,r,a),ol(l,r,a)),r={cache:qf()},t.payload=r;return}r=r.return}}function Wb(t,r,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?Py(r,a):(a=Of(t,r,a,l),a!==null&&(xn(a,t,l),Ly(a,r,l)))}function Vy(t,r,a){var l=Nn();dl(t,r,a,l)}function dl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))Py(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var T=r.lastRenderedState,b=d(T,a);if(h.hasEagerState=!0,h.eagerState=b,An(b,T))return Zu(t,r,h,0),lt===null&&Wu(),!1}catch{}finally{}if(a=Of(t,r,h,l),a!==null)return xn(a,t,l),Ly(a,r,l),!0}return!1}function dd(t,r,a,l){if(l={lane:2,revertLane:Gd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(r)throw Error(s(479))}else r=Of(t,a,l,2),r!==null&&xn(r,t,2)}function pc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Py(t,r){Ba=uc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ly(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}var gc={readContext:sn,use:hc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Uy={readContext:sn,use:hc,useCallback:function(t,r){return _n().memoizedState=[t,r===void 0?null:r],t},useContext:sn,useEffect:Ty,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,mc(4194308,4,Sy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return mc(4194308,4,t,r)},useInsertionEffect:function(t,r){mc(4,2,t,r)},useMemo:function(t,r){var a=_n();r=r===void 0?null:r;var l=t();if(Ks){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=_n();if(a!==void 0){var h=a(r);if(Ks){cn(!0);try{a(r)}finally{cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Wb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=_n();return t={current:t},r.memoizedState=t},useState:function(t){t=od(t);var r=t.queue,a=Vy.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,r){var a=_n();return cd(a,t,r)},useTransition:function(){var t=od(!1);return t=xy.bind(null,Ne,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,h=_n();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),lt===null)throw Error(s(349));(ze&124)!==0||sy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ty(oy.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,dc(),ay.bind(null,l,d,a,r),null),a},useId:function(){var t=_n(),r=lt.identifierPrefix;if(Ye){var a=Xi,l=$i;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,r=""+r+"R"+a,a=cc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Gb++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:fd,useFormState:gy,useActionState:gy,useOptimistic:function(t){var r=_n();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=dd.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:rd,useCacheRefresh:function(){return _n().memoizedState=Xb.bind(null,Ne)}},jy={readContext:sn,use:hc,useCallback:Cy,useContext:sn,useEffect:wy,useImperativeHandle:Ry,useInsertionEffect:by,useLayoutEffect:Ay,useMemo:Iy,useReducer:fc,useRef:Ey,useState:function(){return fc(Ji)},useDebugValue:ud,useDeferredValue:function(t,r){var a=Rt();return Ny(a,nt.memoizedState,t,r)},useTransition:function(){var t=fc(Ji)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:ry,useId:ky,useHostTransitionStatus:fd,useFormState:yy,useActionState:yy,useOptimistic:function(t,r){var a=Rt();return cy(a,nt,t,r)},useMemoCache:rd,useCacheRefresh:My},Zb={readContext:sn,use:hc,useCallback:Cy,useContext:sn,useEffect:wy,useImperativeHandle:Ry,useInsertionEffect:by,useLayoutEffect:Ay,useMemo:Iy,useReducer:ad,useRef:Ey,useState:function(){return ad(Ji)},useDebugValue:ud,useDeferredValue:function(t,r){var a=Rt();return nt===null?cd(a,t,r):Ny(a,nt.memoizedState,t,r)},useTransition:function(){var t=ad(Ji)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:ry,useId:ky,useHostTransitionStatus:fd,useFormState:vy,useActionState:vy,useOptimistic:function(t,r){var a=Rt();return nt!==null?cy(a,nt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:My},Ha=null,ml=0;function yc(t){var r=ml;return ml+=1,Ha===null&&(Ha=[]),Xg(Ha,t,r)}function pl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function _c(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function By(t){var r=t._init;return r(t._payload)}function zy(t){function r(U,V){if(t){var H=U.deletions;H===null?(U.deletions=[V],U.flags|=16):H.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Qi(U,V),U.index=0,U.sibling=null,U}function d(U,V,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<V?(U.flags|=67108866,V):H):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function T(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,H,J){return V===null||V.tag!==6?(V=Mf(H,U.mode,J),V.return=U,V):(V=h(V,H),V.return=U,V)}function I(U,V,H,J){var pe=H.type;return pe===x?Z(U,V,H.props.children,J,H.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&By(pe)===V.type)?(V=h(V,H.props),pl(V,H),V.return=U,V):(V=ec(H.type,H.key,H.props,null,U.mode,J),pl(V,H),V.return=U,V)}function G(U,V,H,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Vf(H,U.mode,J),V.return=U,V):(V=h(V,H.children||[]),V.return=U,V)}function Z(U,V,H,J,pe){return V===null||V.tag!==7?(V=Us(H,U.mode,J,pe),V.return=U,V):(V=h(V,H),V.return=U,V)}function te(U,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Mf(""+V,U.mode,H),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return H=ec(V.type,V.key,V.props,null,U.mode,H),pl(H,V),H.return=U,H;case O:return V=Vf(V,U.mode,H),V.return=U,V;case R:var J=V._init;return V=J(V._payload),te(U,V,H)}if(Ke(V)||L(V))return V=Us(V,U.mode,H,null),V.return=U,V;if(typeof V.then=="function")return te(U,yc(V),H);if(V.$$typeof===W)return te(U,rc(U,V),H);_c(U,V)}return null}function Y(U,V,H,J){var pe=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:b(U,V,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===pe?I(U,V,H,J):null;case O:return H.key===pe?G(U,V,H,J):null;case R:return pe=H._init,H=pe(H._payload),Y(U,V,H,J)}if(Ke(H)||L(H))return pe!==null?null:Z(U,V,H,J,null);if(typeof H.then=="function")return Y(U,V,yc(H),J);if(H.$$typeof===W)return Y(U,V,rc(U,H),J);_c(U,H)}return null}function Q(U,V,H,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(H)||null,b(V,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return U=U.get(J.key===null?H:J.key)||null,I(V,U,J,pe);case O:return U=U.get(J.key===null?H:J.key)||null,G(V,U,J,pe);case R:var Oe=J._init;return J=Oe(J._payload),Q(U,V,H,J,pe)}if(Ke(J)||L(J))return U=U.get(H)||null,Z(V,U,J,pe,null);if(typeof J.then=="function")return Q(U,V,H,yc(J),pe);if(J.$$typeof===W)return Q(U,V,H,rc(V,J),pe);_c(V,J)}return null}function Re(U,V,H,J){for(var pe=null,Oe=null,ve=V,be=V=0,zt=null;ve!==null&&be<H.length;be++){ve.index>be?(zt=ve,ve=null):zt=ve.sibling;var Ge=Y(U,ve,H[be],J);if(Ge===null){ve===null&&(ve=zt);break}t&&ve&&Ge.alternate===null&&r(U,ve),V=d(Ge,V,be),Oe===null?pe=Ge:Oe.sibling=Ge,Oe=Ge,ve=zt}if(be===H.length)return a(U,ve),Ye&&Bs(U,be),pe;if(ve===null){for(;be<H.length;be++)ve=te(U,H[be],J),ve!==null&&(V=d(ve,V,be),Oe===null?pe=ve:Oe.sibling=ve,Oe=ve);return Ye&&Bs(U,be),pe}for(ve=l(ve);be<H.length;be++)zt=Q(ve,U,be,H[be],J),zt!==null&&(t&&zt.alternate!==null&&ve.delete(zt.key===null?be:zt.key),V=d(zt,V,be),Oe===null?pe=zt:Oe.sibling=zt,Oe=zt);return t&&ve.forEach(function(Gr){return r(U,Gr)}),Ye&&Bs(U,be),pe}function we(U,V,H,J){if(H==null)throw Error(s(151));for(var pe=null,Oe=null,ve=V,be=V=0,zt=null,Ge=H.next();ve!==null&&!Ge.done;be++,Ge=H.next()){ve.index>be?(zt=ve,ve=null):zt=ve.sibling;var Gr=Y(U,ve,Ge.value,J);if(Gr===null){ve===null&&(ve=zt);break}t&&ve&&Gr.alternate===null&&r(U,ve),V=d(Gr,V,be),Oe===null?pe=Gr:Oe.sibling=Gr,Oe=Gr,ve=zt}if(Ge.done)return a(U,ve),Ye&&Bs(U,be),pe;if(ve===null){for(;!Ge.done;be++,Ge=H.next())Ge=te(U,Ge.value,J),Ge!==null&&(V=d(Ge,V,be),Oe===null?pe=Ge:Oe.sibling=Ge,Oe=Ge);return Ye&&Bs(U,be),pe}for(ve=l(ve);!Ge.done;be++,Ge=H.next())Ge=Q(ve,U,be,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&ve.delete(Ge.key===null?be:Ge.key),V=d(Ge,V,be),Oe===null?pe=Ge:Oe.sibling=Ge,Oe=Ge);return t&&ve.forEach(function(JA){return r(U,JA)}),Ye&&Bs(U,be),pe}function rt(U,V,H,J){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var pe=H.key;V!==null;){if(V.key===pe){if(pe=H.type,pe===x){if(V.tag===7){a(U,V.sibling),J=h(V,H.props.children),J.return=U,U=J;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&By(pe)===V.type){a(U,V.sibling),J=h(V,H.props),pl(J,H),J.return=U,U=J;break e}a(U,V);break}else r(U,V);V=V.sibling}H.type===x?(J=Us(H.props.children,U.mode,J,H.key),J.return=U,U=J):(J=ec(H.type,H.key,H.props,null,U.mode,J),pl(J,H),J.return=U,U=J)}return T(U);case O:e:{for(pe=H.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(U,V.sibling),J=h(V,H.children||[]),J.return=U,U=J;break e}else{a(U,V);break}else r(U,V);V=V.sibling}J=Vf(H,U.mode,J),J.return=U,U=J}return T(U);case R:return pe=H._init,H=pe(H._payload),rt(U,V,H,J)}if(Ke(H))return Re(U,V,H,J);if(L(H)){if(pe=L(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),we(U,V,H,J)}if(typeof H.then=="function")return rt(U,V,yc(H),J);if(H.$$typeof===W)return rt(U,V,rc(U,H),J);_c(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(U,V.sibling),J=h(V,H),J.return=U,U=J):(a(U,V),J=Mf(H,U.mode,J),J.return=U,U=J),T(U)):a(U,V)}return function(U,V,H,J){try{ml=0;var pe=rt(U,V,H,J);return Ha=null,pe}catch(ve){if(ve===sl||ve===ac)throw ve;var Oe=Sn(29,ve,null,U.mode);return Oe.lanes=J,Oe.return=U,Oe}finally{}}}var Fa=zy(!0),qy=zy(!1),Fn=ie(null),Ei=null;function xr(t){var r=t.alternate;oe(Mt,Mt.current&1),oe(Fn,t),Ei===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(Ei=t)}function Hy(t){if(t.tag===22){if(oe(Mt,Mt.current),oe(Fn,t),Ei===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Ei=t)}}else Dr()}function Dr(){oe(Mt,Mt.current),oe(Fn,Fn.current)}function er(t){le(Fn),Ei===t&&(Ei=null),le(Mt)}var Mt=ie(0);function vc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||im(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function md(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Nn(),h=Cr(l);h.payload=r,a!=null&&(h.callback=a),r=Ir(t,h,l),r!==null&&(xn(r,t,l),ol(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Nn(),h=Cr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ir(t,h,l),r!==null&&(xn(r,t,l),ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Nn(),l=Cr(a);l.tag=2,r!=null&&(l.callback=r),r=Ir(t,l,a),r!==null&&(xn(r,t,a),ol(r,t,a))}};function Fy(t,r,a,l,h,d,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,T):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Gy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&pd.enqueueReplaceState(r,r.state,null)}function Ys(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ky(t){Ec(t)}function Yy(t){console.error(t)}function Qy(t){Ec(t)}function Tc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function $y(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,r,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,r)},a}function Xy(t){return t=Cr(t),t.tag=3,t}function Wy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){$y(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){$y(r,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Jb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&nl(r,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return Ei===null?Bd():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qd(t,l,h)),!1;case 22:return a.flags|=65536,l===Gf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qd(t,l,h)),!1}throw Error(s(435,a.tag))}return qd(t,l,h),Bd(),!1}if(Ye)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Uf&&(t=Error(s(422),{cause:l}),tl(Bn(t,a)))):(l!==Uf&&(r=Error(s(423),{cause:l}),tl(Bn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Bn(l,a),h=gd(t.stateNode,l,h),Qf(t,h),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),wl===null?wl=[d]:wl.push(d),yt!==4&&(yt=2),r===null)return!0;l=Bn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=gd(a.stateNode,l,t),Qf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Xy(h),Wy(h,t,a,l),Qf(a,h),!1}a=a.return}while(a!==null);return!1}var Zy=Error(s(461)),jt=!1;function Yt(t,r,a,l){r.child=t===null?qy(r,null,a,l):Fa(r,t.child,a,l)}function Jy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Fs(r),l=Jf(t,r,a,T,d,h),b=ed(),t!==null&&!jt?(td(t,r,h),tr(t,r,h)):(Ye&&b&&Pf(r),r.flags|=1,Yt(t,r,l,h),r.child)}function e_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!kf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,t_(t,r,d,l,h)):(t=ec(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ad(t,h)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(T,l)&&t.ref===r.ref)return tr(t,r,h)}return r.flags|=1,t=Qi(d,l),t.ref=r.ref,t.return=r,r.child=t}function t_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===r.ref)if(jt=!1,r.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,tr(t,r,h)}return yd(t,r,a,l,h)}function n_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return i_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(r,d!==null?d.cachePool:null),d!==null?ty(r,d):Xf(),Hy(r);else return r.lanes=r.childLanes=536870912,i_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(sc(r,d.cachePool),ty(r,d),Dr(),r.memoizedState=null):(t!==null&&sc(r,null),Xf(),Dr());return Yt(t,r,h,a),r.child}function i_(t,r,a,l){var h=Ff();return h=h===null?null:{parent:kt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&sc(r,null),Xf(),Hy(r),t!==null&&nl(t,r,l,!0),null}function wc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function yd(t,r,a,l,h){return Fs(r),a=Jf(t,r,a,l,void 0,h),l=ed(),t!==null&&!jt?(td(t,r,h),tr(t,r,h)):(Ye&&l&&Pf(r),r.flags|=1,Yt(t,r,a,h),r.child)}function r_(t,r,a,l,h,d){return Fs(r),r.updateQueue=null,a=iy(r,l,a,h),ny(t),l=ed(),t!==null&&!jt?(td(t,r,d),tr(t,r,d)):(Ye&&l&&Pf(r),r.flags|=1,Yt(t,r,a,d),r.child)}function s_(t,r,a,l,h){if(Fs(r),r.stateNode===null){var d=Ma,T=a.contextType;typeof T=="object"&&T!==null&&(d=sn(T)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Kf(r),T=a.contextType,d.context=typeof T=="object"&&T!==null?sn(T):Ma,d.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(md(r,a,T,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&pd.enqueueReplaceState(d,d.state,null),ul(r,l,d,h),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,I=Ys(a,b);d.props=I;var G=d.context,Z=a.contextType;T=Ma,typeof Z=="object"&&Z!==null&&(T=sn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||G!==T)&&Gy(r,d,l,T),Rr=!1;var Y=r.memoizedState;d.state=Y,ul(r,l,d,h),ll(),G=r.memoizedState,b||Y!==G||Rr?(typeof te=="function"&&(md(r,a,te,l),G=r.memoizedState),(I=Rr||Fy(r,a,I,l,Y,G,T))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=T,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yf(t,r),T=r.memoizedProps,Z=Ys(a,T),d.props=Z,te=r.pendingProps,Y=d.context,G=a.contextType,I=Ma,typeof G=="object"&&G!==null&&(I=sn(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==te||Y!==I)&&Gy(r,d,l,I),Rr=!1,Y=r.memoizedState,d.state=Y,ul(r,l,d,h),ll();var Q=r.memoizedState;T!==te||Y!==Q||Rr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof b=="function"&&(md(r,a,b,l),Q=r.memoizedState),(Z=Rr||Fy(r,a,Z,l,Y,Q,I)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,wc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Fa(r,t.child,null,h),r.child=Fa(r,null,a,h)):Yt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=tr(t,r,h),t}function a_(t,r,a,l){return el(),r.flags|=256,Yt(t,r,a,l),r.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Yg()}}function Ed(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Gn),t}function o_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,T;if((T=d)||(T=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ye){if(h?xr(r):Dr(),Ye){var b=gt,I;if(I=b){e:{for(I=b,b=vi;I.nodeType!==8;){if(!b){b=null;break e}if(I=ei(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:js!==null?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,mn=r,gt=null,I=!0):I=!1}I||qs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return im(b)?r.lanes=32:r.lanes=536870912,null;er(r)}return b=l.children,l=l.fallback,h?(Dr(),h=r.mode,b=bc({mode:"hidden",children:b},h),l=Us(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=vd(a),h.childLanes=Ed(t,T,a),r.memoizedState=_d,l):(xr(r),Td(r,b))}if(I=t.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(xr(r),r.flags&=-257,r=wd(t,r,a)):r.memoizedState!==null?(Dr(),r.child=t.child,r.flags|=128,r=null):(Dr(),h=l.fallback,b=r.mode,l=bc({mode:"visible",children:l.children},b),h=Us(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Fa(r,t.child,null,a),l=r.child,l.memoizedState=vd(a),l.childLanes=Ed(t,T,a),r.memoizedState=_d,r=h);else if(xr(r),im(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(s(419)),l.stack="",l.digest=T,tl({value:l,source:null,stack:null}),r=wd(t,r,a)}else if(jt||nl(t,r,a,!1),T=(a&t.childLanes)!==0,jt||T){if(T=lt,T!==null&&(l=a&-a,l=(l&42)!==0?1:_r(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ka(t,l),xn(T,t,l),Zy;b.data==="$?"||Bd(),r=wd(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,gt=ei(b.nextSibling),mn=r,Ye=!0,zs=null,vi=!1,t!==null&&(qn[Hn++]=$i,qn[Hn++]=Xi,qn[Hn++]=js,$i=t.id,Xi=t.overflow,js=r),r=Td(r,l.children),r.flags|=4096);return r}return h?(Dr(),h=l.fallback,b=r.mode,I=t.child,G=I.sibling,l=Qi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,G!==null?h=Qi(G,h):(h=Us(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=vd(a):(I=b.cachePool,I!==null?(G=kt._currentValue,I=I.parent!==G?{parent:G,pool:G}:I):I=Yg(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=Ed(t,T,a),r.memoizedState=_d,l):(xr(r),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=a,r.memoizedState=null,a)}function Td(t,r){return r=bc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function bc(t,r){return t=Sn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wd(t,r,a){return Fa(r,t.child,null,a),t=Td(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function l_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Bf(t.return,r,a)}function bd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function u_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Yt(t,r,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l_(t,a,r);else if(t.tag===19)l_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(Mt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),bd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&vc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(r,!0,a,null,d);break;case"together":bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function tr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Pr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(nl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Qi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ad(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function eA(t,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),Sr(r,kt,t.memoizedState.cache),el();break;case 27:case 5:ai(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:Sr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?o_(t,r,a):(xr(r),t=tr(t,r,a),t!==null?t.sibling:null);xr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(nl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return u_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,n_(t,r,a);case 24:Sr(r,kt,t.memoizedState.cache)}return tr(t,r,a)}function c_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)jt=!0;else{if(!Ad(t,a)&&(r.flags&128)===0)return jt=!1,eA(t,r,a);jt=(t.flags&131072)!==0}else jt=!1,Ye&&(r.flags&1048576)!==0&&Bg(r,nc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")kf(l)?(t=Ys(l,t),r.tag=1,r=s_(null,r,l,t,a)):(r.tag=0,r=yd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ne){r.tag=11,r=Jy(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=e_(null,r,l,t,a);break e}}throw r=ot(l)||l,Error(s(306,r,""))}}return r;case 0:return yd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ys(l,r.pendingProps),s_(t,r,l,h,a);case 3:e:{if(et(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Yf(t,r),ul(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Sr(r,kt,l),l!==d.cache&&zf(r,[kt],a,!0),ll(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=a_(t,r,l,a);break e}else if(l!==h){h=Bn(Error(s(424)),r),tl(h),r=a_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=ei(t.firstChild),mn=r,Ye=!0,zs=null,vi=!0,a=qy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===h){r=tr(t,r,a);break e}Yt(t,r,l,a)}r=r.child}return r;case 26:return wc(t,r),t===null?(a=mv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,t=r.pendingProps,l=Lc(ye.current).createElement(a),l[xt]=r,l[bt]=t,$t(l,a,t),_t(l),r.stateNode=l):r.memoizedState=mv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ai(r),t===null&&Ye&&(l=r.stateNode=hv(r.type,r.pendingProps,ye.current),mn=r,vi=!0,h=gt,Br(r.type)?(rm=h,gt=ei(l.firstChild)):gt=h),Yt(t,r,r.pendingProps.children,a),wc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ye&&((h=l=gt)&&(l=IA(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,mn=r,gt=ei(l.firstChild),vi=!1,h=!0):h=!1),h||qs(r)),ai(r),h=r.type,d=r.pendingProps,T=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:T!==null&&em(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=Jf(t,r,Kb,null,null,a),Dl._currentValue=h),wc(t,r),Yt(t,r,l,a),r.child;case 6:return t===null&&Ye&&((t=a=gt)&&(a=NA(a,r.pendingProps,vi),a!==null?(r.stateNode=a,mn=r,gt=null,t=!0):t=!1),t||qs(r)),null;case 13:return o_(t,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Fa(r,null,l,a):Yt(t,r,l,a),r.child;case 11:return Jy(t,r,r.type,r.pendingProps,a);case 7:return Yt(t,r,r.pendingProps,a),r.child;case 8:return Yt(t,r,r.pendingProps.children,a),r.child;case 12:return Yt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Sr(r,r.type,l.value),Yt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Fs(r),h=sn(h),l=l(h),r.flags|=1,Yt(t,r,l,a),r.child;case 14:return e_(t,r,r.type,r.pendingProps,a);case 15:return t_(t,r,r.type,r.pendingProps,a);case 19:return u_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Qi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return n_(t,r,a);case 24:return Fs(r),l=sn(kt),t===null?(h=Ff(),h===null&&(h=lt,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Kf(r),Sr(r,kt,h)):((t.lanes&a)!==0&&(Yf(t,r),ul(r,null,null,a),ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Sr(r,kt,l)):(l=d.cache,Sr(r,kt,l),l!==h.cache&&zf(r,[kt],a,!0))),Yt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function nr(t){t.flags|=4}function h_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(r)){if(r=Fn.current,r!==null&&((ze&4194048)===ze?Ei!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==Ei))throw al=Gf,Qg;t.flags|=8192}}function Ac(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ko():536870912,t.lanes|=r,Qa|=r)}function gl(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function tA(t,r,a){var l=r.pendingProps;switch(Lf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zi(kt),yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Jo(r)?nr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hg())),dt(r),null;case 26:return a=r.memoizedState,t===null?(nr(r),a!==null?(dt(r),h_(r,a)):(dt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(nr(r),dt(r),h_(r,a)):(dt(r),r.flags&=-16777217):(t.memoizedProps!==l&&nr(r),dt(r),r.flags&=-16777217),null;case 27:Qn(r),a=ye.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}t=ae.current,Jo(r)?zg(r):(t=hv(h,l,a),r.stateNode=t,nr(r))}return dt(r),null;case 5:if(Qn(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}if(t=ae.current,Jo(r))zg(r);else{switch(h=Lc(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[xt]=r,t[bt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&nr(r)}}return dt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=ye.current,Jo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||rv(t.nodeValue,a)),t||qs(r)}else t=Lc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return dt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Jo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),h=!1}else h=Hg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(er(r),r):(er(r),null)}if(er(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),dt(r),null;case 4:return yn(),t===null&&$d(r.stateNode.containerInfo),dt(r),null;case 10:return Zi(r.type),dt(r),null;case 19:if(le(Mt),h=r.memoizedState,h===null)return dt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)gl(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=vc(t),d!==null){for(r.flags|=128,gl(h,!1),t=d.updateQueue,r.updateQueue=t,Ac(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)jg(a,t),a=a.sibling;return oe(Mt,Mt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Nt()>Cc&&(r.flags|=128,l=!0,gl(h,!1),r.lanes=4194304)}else{if(!l)if(t=vc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ac(r,t),gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ye)return dt(r),null}else 2*Nt()-h.renderingStartTime>Cc&&a!==536870912&&(r.flags|=128,l=!0,gl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Nt(),r.sibling=null,t=Mt.current,oe(Mt,l?t&1|2:t&1),r):(dt(r),null);case 22:case 23:return er(r),Wf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zi(kt),dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nA(t,r){switch(Lf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Zi(kt),yn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Qn(r),null;case 13:if(er(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));el()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Mt),null;case 4:return yn(),null;case 10:return Zi(r.type),null;case 22:case 23:return er(r),Wf(),t!==null&&le(Gs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Zi(kt),null;case 25:return null;default:return null}}function f_(t,r){switch(Lf(r),r.tag){case 3:Zi(kt),yn();break;case 26:case 27:case 5:Qn(r);break;case 4:yn();break;case 13:er(r);break;case 19:le(Mt);break;case 10:Zi(r.type);break;case 22:case 23:er(r),Wf(),t!==null&&le(Gs);break;case 24:Zi(kt)}}function yl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==h)}}catch(b){st(r,r.return,b)}}function Or(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,h=r;var I=a,G=b;try{G()}catch(Z){st(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){st(r,r.return,Z)}}function d_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ey(r,a)}catch(l){st(t,t.return,l)}}}function m_(t,r,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,r,l)}}function _l(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,r,h)}}function Ti(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,r,h)}else a.current=null}function p_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function Sd(t,r,a){try{var l=t.stateNode;bA(l,t.type,a,r),l[bt]=r}catch(h){st(t,t.return,h)}}function g_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Br(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Cd(t,r,a),t=t.sibling;t!==null;)Cd(t,r,a),t=t.sibling}function Sc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Sc(t,r,a),t=t.sibling;t!==null;)Sc(t,r,a),t=t.sibling}function y_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);$t(r,l,a),r[xt]=t,r[bt]=a}catch(d){st(t,t.return,d)}}var ir=!1,Et=!1,Id=!1,__=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function iA(t,r){if(t=t.containerInfo,Zd=Hc,t=Ng(t),Rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,b=-1,I=-1,G=0,Z=0,te=t,Y=null;t:for(;;){for(var Q;te!==a||h!==0&&te.nodeType!==3||(b=T+h),te!==d||l!==0&&te.nodeType!==3||(I=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(Q=te.firstChild)!==null;)Y=te,te=Q;for(;;){if(te===t)break t;if(Y===a&&++G===h&&(b=T),Y===d&&++Z===l&&(I=T),(Q=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=Q}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Hc=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=Ys(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){st(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function v_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:kr(t,a),l&4&&yl(5,a);break;case 1:if(kr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){st(a,a.return,T)}else{var h=Ys(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){st(a,a.return,T)}}l&64&&d_(a),l&512&&_l(a,a.return);break;case 3:if(kr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ey(t,r)}catch(T){st(a,a.return,T)}}break;case 27:r===null&&l&4&&y_(a);case 26:case 5:kr(t,a),r===null&&l&4&&p_(a),l&512&&_l(a,a.return);break;case 12:kr(t,a);break;case 13:kr(t,a),l&4&&w_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fA.bind(null,a),xA(t,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){r=r!==null&&r.memoizedState!==null||Et,h=ir;var d=Et;ir=l,(Et=r)&&!d?Mr(t,a,(a.subtreeFlags&8772)!==0):kr(t,a),ir=h,Et=d}break;case 30:break;default:kr(t,a)}}function E_(t){var r=t.alternate;r!==null&&(t.alternate=null,E_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Tr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,vn=!1;function rr(t,r,a){for(a=a.child;a!==null;)T_(t,r,a),a=a.sibling}function T_(t,r,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ve,a)}catch{}switch(a.tag){case 26:Et||Ti(a,r),rr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||Ti(a,r);var l=ht,h=vn;Br(a.type)&&(ht=a.stateNode,vn=!1),rr(t,r,a),Cl(a.stateNode),ht=l,vn=h;break;case 5:Et||Ti(a,r);case 6:if(l=ht,h=vn,ht=null,rr(t,r,a),ht=l,vn=h,ht!==null)if(vn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){st(a,r,d)}else try{ht.removeChild(a.stateNode)}catch(d){st(a,r,d)}break;case 18:ht!==null&&(vn?(t=ht,uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vl(t)):uv(ht,a.stateNode));break;case 4:l=ht,h=vn,ht=a.stateNode.containerInfo,vn=!0,rr(t,r,a),ht=l,vn=h;break;case 0:case 11:case 14:case 15:Et||Or(2,a,r),Et||Or(4,a,r),rr(t,r,a);break;case 1:Et||(Ti(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&m_(a,r,l)),rr(t,r,a);break;case 21:rr(t,r,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,rr(t,r,a),Et=l;break;default:rr(t,r,a)}}function w_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(a){st(r,r.return,a)}}function rA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new __),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new __),r;default:throw Error(s(435,t.tag))}}function Nd(t,r){var a=rA(t);r.forEach(function(l){var h=dA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,T=r,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Br(b.type)){ht=b.stateNode,vn=!1;break e}break;case 5:ht=b.stateNode,vn=!1;break e;case 3:case 4:ht=b.stateNode.containerInfo,vn=!0;break e}b=b.return}if(ht===null)throw Error(s(160));T_(d,T,h),ht=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)b_(r,t),r=r.sibling}var Jn=null;function b_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(r,t),Cn(t),l&4&&(Or(3,t,t.return),yl(3,t),Or(5,t,t.return));break;case 1:Rn(r,t),Cn(t),l&512&&(Et||a===null||Ti(a,a.return)),l&64&&ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(Rn(r,t),Cn(t),l&512&&(Et||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ws]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,l,a),d[xt]=t,_t(d),l=d;break e;case"link":var T=yv("link","href",h).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(d=T[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;case"meta":if(T=yv("meta","content",h).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(d=T[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,_t(d),l=d}t.stateNode=l}else _v(h,t.type,t.stateNode);else t.stateNode=gv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_v(h,t.type,t.stateNode):gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,t),Cn(t),l&512&&(Et||a===null||Ti(a,a.return)),a!==null&&l&4&&Sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,t),Cn(t),l&512&&(Et||a===null||Ti(a,a.return)),t.flags&32){h=t.stateNode;try{Pn(h,"")}catch(Q){st(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(Rn(r,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){st(t,t.return,Q)}}break;case 3:if(Bc=null,h=Jn,Jn=Uc(r.containerInfo),Rn(r,t),Jn=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(Q){st(t,t.return,Q)}Id&&(Id=!1,A_(t));break;case 4:l=Jn,Jn=Uc(t.stateNode.containerInfo),Rn(r,t),Cn(t),Jn=l;break;case 12:Rn(r,t),Cn(t);break;case 13:Rn(r,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vd=Nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,G=ir,Z=Et;if(ir=G||h,Et=Z||I,Rn(r,t),Et=Z,ir=G,Cn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||ir||Et||Qs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=I.stateNode;var te=I.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){st(I,I.return,Q)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Q){st(I,I.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nd(t,a))));break;case 19:Rn(r,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 30:break;case 21:break;default:Rn(r,t),Cn(t)}}function Cn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(g_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);Sc(t,d,h);break;case 5:var T=a.stateNode;a.flags&32&&(Pn(T,""),a.flags&=-33);var b=Rd(t);Sc(t,b,T);break;case 3:case 4:var I=a.stateNode.containerInfo,G=Rd(t);Cd(t,G,I);break;default:throw Error(s(161))}}catch(Z){st(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function A_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;A_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function kr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)v_(t,r.alternate,r),r=r.sibling}function Qs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Or(4,r,r.return),Qs(r);break;case 1:Ti(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&m_(r,r.return,a),Qs(r);break;case 27:Cl(r.stateNode);case 26:case 5:Ti(r,r.return),Qs(r);break;case 22:r.memoizedState===null&&Qs(r);break;case 30:Qs(r);break;default:Qs(r)}t=t.sibling}}function Mr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,T=d.flags;switch(d.tag){case 0:case 11:case 15:Mr(h,d,a),yl(4,d);break;case 1:if(Mr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){st(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jg(I[h],b)}catch(G){st(l,l.return,G)}}a&&T&64&&d_(d),_l(d,d.return);break;case 27:y_(d);case 26:case 5:Mr(h,d,a),a&&l===null&&T&4&&p_(d),_l(d,d.return);break;case 12:Mr(h,d,a);break;case 13:Mr(h,d,a),a&&T&4&&w_(h,d);break;case 22:d.memoizedState===null&&Mr(h,d,a),_l(d,d.return);break;case 30:break;default:Mr(h,d,a)}r=r.sibling}}function xd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Dd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&il(t))}function wi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)S_(t,r,a,l),r=r.sibling}function S_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r,a,l),h&2048&&yl(9,r);break;case 1:wi(t,r,a,l);break;case 3:wi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){wi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,T=d.id,b=d.onPostCommit;typeof b=="function"&&b(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){st(r,r.return,I)}}else wi(t,r,a,l);break;case 13:wi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,T=r.alternate,r.memoizedState!==null?d._visibility&2?wi(t,r,a,l):vl(t,r):d._visibility&2?wi(t,r,a,l):(d._visibility|=2,Ga(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&xd(T,r);break;case 24:wi(t,r,a,l),h&2048&&Dd(r.alternate,r);break;default:wi(t,r,a,l)}}function Ga(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,T=r,b=a,I=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:Ga(d,T,b,I,h),yl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Ga(d,T,b,I,h):vl(d,T):(Z._visibility|=2,Ga(d,T,b,I,h)),h&&G&2048&&xd(T.alternate,T);break;case 24:Ga(d,T,b,I,h),h&&G&2048&&Dd(T.alternate,T);break;default:Ga(d,T,b,I,h)}r=r.sibling}}function vl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&xd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Dd(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var El=8192;function Ka(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)R_(t),t=t.sibling}function R_(t){switch(t.tag){case 26:Ka(t),t.flags&El&&t.memoizedState!==null&&HA(Jn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t);break;case 3:case 4:var r=Jn;Jn=Uc(t.stateNode.containerInfo),Ka(t),Jn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ka(t),El=r):Ka(t));break;default:Ka(t)}}function C_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,N_(l,t)}C_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Or(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Rc(t)):Tl(t);break;default:Tl(t)}}function Rc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,N_(l,t)}C_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Or(8,r,r.return),Rc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(r));break;default:Rc(r)}t=t.sibling}}function N_(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Or(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(E_(l),l===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var sA={getCacheForType:function(t){var r=sn(kt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},aA=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,ke=null,ze=0,Je=0,In=null,Vr=!1,Ya=!1,Od=!1,sr=0,yt=0,Pr=0,$s=0,kd=0,Gn=0,Qa=0,wl=null,En=null,Md=!1,Vd=0,Cc=1/0,Ic=null,Lr=null,Qt=0,Ur=null,$a=null,Xa=0,Pd=0,Ld=null,x_=null,bl=0,Ud=null;function Nn(){if((Ze&2)!==0&&ze!==0)return ze&-ze;if(F.T!==null){var t=La;return t!==0?t:Gd()}return vr()}function D_(){Gn===0&&(Gn=(ze&536870912)===0||Ye?Oo():536870912);var t=Fn.current;return t!==null&&(t.flags|=32),Gn}function xn(t,r,a){(t===lt&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),jr(t,ze,Gn,!1)),Li(t,a),((Ze&2)===0||t!==lt)&&(t===lt&&((Ze&2)===0&&($s|=a),yt===4&&jr(t,ze,Gn,!1)),bi(t))}function O_(t,r,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Ts(t,r),h=l?uA(t,r):zd(t,r,!0),d=l;do{if(h===0){Ya&&!l&&jr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!oA(a)){h=zd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var b=t;h=wl;var I=b.current.memoizedState.isDehydrated;if(I&&(Wa(b,T).flags|=256),T=zd(b,T,!1),T!==2){if(Od&&!I){b.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=T}if(d=!1,h!==2)continue}}if(h===1){Wa(t,0),jr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:jr(l,r,Gn,!Vr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Vd+300-Nt(),10<h)){if(jr(l,r,Gn,!Vr),ma(l,0,!0)!==0)break e;l.timeoutHandle=ov(k_.bind(null,l,a,En,Ic,Md,r,Gn,$s,Qa,Vr,d,2,-0,0),h);break e}k_(l,a,En,Ic,Md,r,Gn,$s,Qa,Vr,d,0,-0,0)}}break}while(!0);bi(t)}function k_(t,r,a,l,h,d,T,b,I,G,Z,te,Y,Q){if(t.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:qA},R_(r),te=FA(),te!==null)){t.cancelPendingCommit=te(B_.bind(null,t,r,d,a,l,h,T,b,I,Z,1,Y,Q)),jr(t,d,T,!G);return}B_(t,r,d,a,l,h,T,b,I)}function oA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r,a,l){r&=~kd,r&=~$s,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-rn(h),T=1<<d;l[d]=-1,h&=~T}a!==0&&li(t,a,r)}function Nc(){return(Ze&6)===0?(Al(0),!1):!0}function jd(){if(ke!==null){if(Je===0)var t=ke.return;else t=ke,Wi=Hs=null,nd(t),Ha=null,ml=0,t=ke;for(;t!==null;)f_(t.alternate,t),t=t.return;ke=null}}function Wa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,SA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jd(),lt=t,ke=a=Qi(t.current,null),ze=r,Je=0,In=null,Vr=!1,Ya=Ts(t,r),Od=!1,Qa=Gn=kd=$s=Pr=yt=0,En=wl=null,Md=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-rn(l),d=1<<h;r|=t[h],l&=~d}return sr=r,Wu(),a}function M_(t,r){Ne=null,F.H=gc,r===sl||r===ac?(r=Wg(),Je=3):r===Qg?(r=Wg(),Je=4):Je=r===Zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,ke===null&&(yt=1,Tc(t,Bn(r,t.current)))}function V_(){var t=F.H;return F.H=gc,t===null?gc:t}function P_(){var t=F.A;return F.A=sA,t}function Bd(){yt=4,Vr||(ze&4194048)!==ze&&Fn.current!==null||(Ya=!0),(Pr&134217727)===0&&($s&134217727)===0||lt===null||jr(lt,ze,Gn,!1)}function zd(t,r,a){var l=Ze;Ze|=2;var h=V_(),d=P_();(lt!==t||ze!==r)&&(Ic=null,Wa(t,r)),r=!1;var T=yt;e:do try{if(Je!==0&&ke!==null){var b=ke,I=In;switch(Je){case 8:jd(),T=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(r=!0);var G=Je;if(Je=0,In=null,Za(t,b,I,G),a&&Ya){T=0;break e}break;default:G=Je,Je=0,In=null,Za(t,b,I,G)}}lA(),T=yt;break}catch(Z){M_(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Wi=Hs=null,Ze=l,F.H=h,F.A=d,ke===null&&(lt=null,ze=0,Wu()),T}function lA(){for(;ke!==null;)L_(ke)}function uA(t,r){var a=Ze;Ze|=2;var l=V_(),h=P_();lt!==t||ze!==r?(Ic=null,Cc=Nt()+500,Wa(t,r)):Ya=Ts(t,r);e:do try{if(Je!==0&&ke!==null){r=ke;var d=In;t:switch(Je){case 1:Je=0,In=null,Za(t,r,d,1);break;case 2:case 9:if($g(d)){Je=0,In=null,U_(r);break}r=function(){Je!==2&&Je!==9||lt!==t||(Je=7),bi(t)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:$g(d)?(Je=0,In=null,U_(r)):(Je=0,In=null,Za(t,r,d,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var b=ke;if(!T||vv(T)){Je=0,In=null;var I=b.sibling;if(I!==null)ke=I;else{var G=b.return;G!==null?(ke=G,xc(G)):ke=null}break t}}Je=0,In=null,Za(t,r,d,5);break;case 6:Je=0,In=null,Za(t,r,d,6);break;case 8:jd(),yt=6;break e;default:throw Error(s(462))}}cA();break}catch(Z){M_(t,Z)}while(!0);return Wi=Hs=null,F.H=l,F.A=h,Ze=a,ke!==null?0:(lt=null,ze=0,Wu(),yt)}function cA(){for(;ke!==null&&!ps();)L_(ke)}function L_(t){var r=c_(t.alternate,t,sr);t.memoizedProps=t.pendingProps,r===null?xc(t):ke=r}function U_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=r_(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=r_(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:nd(r);default:f_(a,r),r=ke=jg(r,sr),r=c_(a,r,sr)}t.memoizedProps=t.pendingProps,r===null?xc(t):ke=r}function Za(t,r,a,l){Wi=Hs=null,nd(r),Ha=null,ml=0;var h=r.return;try{if(Jb(t,h,r,a,ze)){yt=1,Tc(t,Bn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;yt=1,Tc(t,Bn(a,t.current)),ke=null;return}r.flags&32768?(Ye||l===1?t=!0:Ya||(ze&536870912)!==0?t=!1:(Vr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),j_(r,t)):xc(r)}function xc(t){var r=t;do{if((r.flags&32768)!==0){j_(r,Vr);return}t=r.return;var a=tA(r.alternate,r,sr);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);yt===0&&(yt=5)}function j_(t,r){do{var a=nA(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);yt=6,ke=null}function B_(t,r,a,l,h,d,T,b,I){t.cancelPendingCommit=null;do Dc();while(Qt!==0);if((Ze&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Df,Mo(t,a,d,T,b,I),t===lt&&(ke=lt=null,ze=0),$a=r,Ur=t,Xa=a,Pd=d,Ld=h,x_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mA(We,function(){return G_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=he.p,he.p=2,T=Ze,Ze|=4;try{iA(t,r,a)}finally{Ze=T,he.p=h,F.T=l}}Qt=1,z_(),q_(),H_()}}function z_(){if(Qt===1){Qt=0;var t=Ur,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{b_(r,t);var d=Jd,T=Ng(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(T!==b&&b&&b.ownerDocument&&Ig(b.ownerDocument.documentElement,b)){if(I!==null&&Rf(b)){var G=I.start,Z=I.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Re=b.textContent.length,we=Math.min(I.start,Re),rt=I.end===void 0?we:Math.min(I.end,Re);!Q.extend&&we>rt&&(T=rt,rt=we,we=T);var U=Cg(b,we),V=Cg(b,rt);if(U&&V&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var H=te.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),we>rt?(Q.addRange(H),Q.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Q.addRange(H))}}}}for(te=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Hc=!!Zd,Jd=Zd=null}finally{Ze=h,he.p=l,F.T=a}}t.current=r,Qt=2}}function q_(){if(Qt===2){Qt=0;var t=Ur,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{v_(t,r.alternate,r)}finally{Ze=h,he.p=l,F.T=a}}Qt=3}}function H_(){if(Qt===4||Qt===3){Qt=0,gs();var t=Ur,r=$a,a=Xa,l=x_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,$a=Ur=null,F_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),pa(a),r=r.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ve,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,h=he.p,he.p=2,F.T=null;try{for(var d=t.onRecoverableError,T=0;T<l.length;T++){var b=l[T];d(b.value,{componentStack:b.stack})}}finally{F.T=r,he.p=h}}(Xa&3)!==0&&Dc(),bi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ud?bl++:(bl=0,Ud=t):bl=0,Al(0)}}function F_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,il(r)))}function Dc(t){return z_(),q_(),H_(),G_()}function G_(){if(Qt!==5)return!1;var t=Ur,r=Pd;Pd=0;var a=pa(Xa),l=F.T,h=he.p;try{he.p=32>a?32:a,F.T=null,a=Ld,Ld=null;var d=Ur,T=Xa;if(Qt=0,$a=Ur=null,Xa=0,(Ze&6)!==0)throw Error(s(331));var b=Ze;if(Ze|=4,I_(d.current),S_(d,d.current,T,a),Ze=b,Al(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ve,d)}catch{}return!0}finally{he.p=h,F.T=l,F_(t,r)}}function K_(t,r,a){r=Bn(a,r),r=gd(t.stateNode,r,2),t=Ir(t,r,2),t!==null&&(Li(t,2),bi(t))}function st(t,r,a){if(t.tag===3)K_(t,t,a);else for(;r!==null;){if(r.tag===3){K_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Bn(a,t),a=Xy(2),l=Ir(r,a,2),l!==null&&(Wy(a,l,r,t),Li(l,2),bi(l));break}}r=r.return}}function qd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Od=!0,h.add(a),t=hA.bind(null,t,r,a),r.then(t,t))}function hA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Nt()-Vd?(Ze&2)===0&&Wa(t,0):kd|=a,Qa===ze&&(Qa=0)),bi(t)}function Y_(t,r){r===0&&(r=ko()),t=ka(t,r),t!==null&&(Li(t,r),bi(t))}function fA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Y_(t,a)}function dA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Y_(t,a)}function mA(t,r){return oi(t,r)}var Oc=null,Ja=null,Hd=!1,kc=!1,Fd=!1,Xs=0;function bi(t){t!==Ja&&t.next===null&&(Ja===null?Oc=Ja=t:Ja=Ja.next=t),kc=!0,Hd||(Hd=!0,gA())}function Al(t,r){if(!Fd&&kc){Fd=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var T=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-rn(42|t)+1)-1,d&=h&~(T&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W_(l,d))}else d=ze,d=ma(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ts(l,d)||(a=!0,W_(l,d));l=l.next}while(a);Fd=!1}}function pA(){Q_()}function Q_(){kc=Hd=!1;var t=0;Xs!==0&&(AA()&&(t=Xs),Xs=0);for(var r=Nt(),a=null,l=Oc;l!==null;){var h=l.next,d=$_(l,r);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Al(t)}function $_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var T=31-rn(d),b=1<<T,I=h[T];I===-1?((b&a)===0||(b&l)!==0)&&(h[T]=Do(b,r)):I<=r&&(t.expiredLanes|=b),d&=~b}if(r=lt,a=ze,a=ma(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ts(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Vi(l),pa(a)){case 2:case 8:a=ue;break;case 32:a=We;break;case 268435456:a=Qe;break;default:a=We}return l=X_.bind(null,t),a=oi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Vi(l),t.callbackPriority=2,t.callbackNode=null,2}function X_(t,r){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=ze;return l=ma(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(O_(t,l,r),$_(t,Nt()),t.callbackNode!=null&&t.callbackNode===a?X_.bind(null,t):null)}function W_(t,r){if(Dc())return null;O_(t,r,!0)}function gA(){RA(function(){(Ze&6)!==0?oi(ys,pA):Q_()})}function Gd(){return Xs===0&&(Xs=Oo()),Xs}function Z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function J_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function yA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Z_((h[bt]||null).action),T=l.submitter;T&&(r=(r=T[bt]||null)?Z_(r.formAction):T.getAttribute("formAction"),r!==null&&(d=r,T=null));var b=new wa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var I=T?J_(h,T):new FormData(h);hd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=T?J_(h,T):new FormData(h),hd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Kd=0;Kd<xf.length;Kd++){var Yd=xf[Kd],_A=Yd.toLowerCase(),vA=Yd[0].toUpperCase()+Yd.slice(1);Zn(_A,"on"+vA)}Zn(Og,"onAnimationEnd"),Zn(kg,"onAnimationIteration"),Zn(Mg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Pb,"onTransitionRun"),Zn(Lb,"onTransitionStart"),Zn(Ub,"onTransitionCancel"),Zn(Vg,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function ev(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var T=l.length-1;0<=T;T--){var b=l[T],I=b.instance,G=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=G;try{d(h)}catch(Z){Ec(Z)}h.currentTarget=null,d=I}else for(T=0;T<l.length;T++){if(b=l[T],I=b.instance,G=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=G;try{d(h)}catch(Z){Ec(Z)}h.currentTarget=null,d=I}}}}function Me(t,r){var a=r[Po];a===void 0&&(a=r[Po]=new Set);var l=t+"__bubble";a.has(l)||(tv(r,t,2,!1),a.add(l))}function Qd(t,r,a){var l=0;r&&(l|=4),tv(a,t,l,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Mc]){t[Mc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(EA.has(a)||Qd(a,!1,t),Qd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,Qd("selectionchange",!1,r))}}function tv(t,r,a,l){switch(Sv(r)){case 2:var h=YA;break;case 8:h=QA;break;default:h=um}a=h.bind(null,r,a,t),h=void 0,!Un||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Xd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===h)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;b!==null;){if(T=Ui(b),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=d=T;continue e}b=b.parentNode}}l=l.return}Pu(function(){var G=d,Z=Ln(a),te=[];e:{var Y=Pg.get(t);if(Y!==void 0){var Q=wa,Re=t;switch(t){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":Q=Ia;break;case"focusin":Re="focus",Q=Sa;break;case"focusout":Re="blur",Q=Sa;break;case"beforeblur":case"afterblur":Q=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Fu;break;case Og:case kg:case Mg:Q=Ra;break;case Vg:Q=Ku;break;case"scroll":case"scrollend":Q=Lu;break;case"wheel":Q=Na;break;case"copy":case"cut":case"paste":Q=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$o;break;case"toggle":case"beforetoggle":Q=Qu}var we=(r&4)!==0,rt=!we&&(t==="scroll"||t==="scrollend"),U=we?Y!==null?Y+"Capture":null:Y;we=[];for(var V=G,H;V!==null;){var J=V;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||U===null||(J=Ns(V,U),J!=null&&we.push(Rl(V,J,H))),rt)break;V=V.return}0<we.length&&(Y=new Q(Y,Re,null,a,Z),te.push({event:Y,listeners:we}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",Y&&a!==qi&&(Re=a.relatedTarget||a.fromElement)&&(Ui(Re)||Re[Vn]))break e;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Re=a.relatedTarget||a.toElement,Q=G,Re=Re?Ui(Re):null,Re!==null&&(rt=u(Re),we=Re.tag,Re!==rt||we!==5&&we!==27&&we!==6)&&(Re=null)):(Q=null,Re=G),Q!==Re)){if(we=jn,J="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(we=$o,J="onPointerLeave",U="onPointerEnter",V="pointer"),rt=Q==null?Y:ci(Q),H=Re==null?Y:ci(Re),Y=new we(J,V+"leave",Q,a,Z),Y.target=rt,Y.relatedTarget=H,J=null,Ui(Z)===G&&(we=new we(U,V+"enter",Re,a,Z),we.target=H,we.relatedTarget=rt,J=we),rt=J,Q&&Re)t:{for(we=Q,U=Re,V=0,H=we;H;H=eo(H))V++;for(H=0,J=U;J;J=eo(J))H++;for(;0<V-H;)we=eo(we),V--;for(;0<H-V;)U=eo(U),H--;for(;V--;){if(we===U||U!==null&&we===U.alternate)break t;we=eo(we),U=eo(U)}we=null}else we=null;Q!==null&&nv(te,Y,Q,we,!1),Re!==null&&rt!==null&&nv(te,rt,Re,we,!0)}}e:{if(Y=G?ci(G):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var pe=Tg;else if(Ot(Y))if(wg)pe=kb;else{pe=Db;var Oe=xb}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&qo(G.elementType)&&(pe=Tg):pe=Ob;if(pe&&(pe=pe(t,G))){Yi(te,pe,a,Z);break e}Oe&&Oe(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&br(Y,"number",Y.value)}switch(Oe=G?ci(G):window,t){case"focusin":(Ot(Oe)||Oe.contentEditable==="true")&&(xa=Oe,Cf=G,Zo=null);break;case"focusout":Zo=Cf=xa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,xg(te,a,Z);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":xg(te,a,Z)}var ve;if(yi)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else je?$(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(je||be!=="onCompositionStart"?be==="onCompositionEnd"&&je&&(ve=Fo()):(di=Z,Ar="value"in di?di.value:di.textContent,je=!0)),Oe=Vc(G,be),0<Oe.length&&(be=new Yo(be,t,null,a,Z),te.push({event:be,listeners:Oe}),ve?be.data=ve:(ve=ce(a),ve!==null&&(be.data=ve)))),(ve=y?Dt(t,a):Be(t,a))&&(be=Vc(G,"onBeforeInput"),0<be.length&&(Oe=new Yo("onBeforeInput","beforeinput",null,a,Z),te.push({event:Oe,listeners:be}),Oe.data=ve)),yA(te,t,G,a,Z)}ev(te,r)})}function Rl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Vc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ns(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=Ns(t,r),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nv(t,r,a,l,h){for(var d=r._reactName,T=[];a!==null&&a!==l;){var b=a,I=b.alternate,G=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||G===null||(I=G,h?(G=Ns(a,d),G!=null&&T.unshift(Rl(a,G,I))):h||(G=Ns(a,d),G!=null&&T.push(Rl(a,G,I)))),a=a.return}T.length!==0&&t.push({event:r,listeners:T})}var TA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(wA,"")}function rv(t,r){return r=iv(r),iv(t)===r}function Pc(){}function it(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Pn(t,""+l);break;case"className":hi(t,"class",l);break;case"tabIndex":hi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(r!=="object"){hi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&it(t,r,"name",h.name,h,null),it(t,r,"formEncType",h.formEncType,h,null),it(t,r,"formMethod",h.formMethod,h,null),it(t,r,"formTarget",h.formTarget,h,null)):(it(t,r,"encType",h.encType,h,null),it(t,r,"method",h.method,h,null),it(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),wr(t,"popover",l);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,wr(t,a,l))}}function Wd(t,r,a,l,h,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&Pn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wr(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,d,T,a,null)}}h&&it(t,r,"srcSet",a.srcSet,a,null),l&&it(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var b=d=T=h=null,I=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":T=Z;break;case"checked":I=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:it(t,r,l,Z,a,null)}}Rs(t,d,b,I,G,T,h,!1),Ea(t);return;case"select":Me("invalid",t),l=T=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:it(t,r,h,b,a,null)}r=d,a=T,t.multiple=!!l,r!=null?zi(t,!!l,r,!1):a!=null&&zi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:it(t,r,T,b,a,null)}Cs(t,l,h,d),Ea(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,r,I,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Me(Sl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,G,l,a,null)}return;default:if(qo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Wd(t,r,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&it(t,r,b,l,a,null))}function bA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,T=null,b=null,I=null,G=null,Z=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(Q)||it(t,r,Q,null,l,te)}}for(var Y in l){var Q=l[Y];if(te=a[Y],l.hasOwnProperty(Y)&&(Q!=null||te!=null))switch(Y){case"type":d=Q;break;case"name":h=Q;break;case"checked":G=Q;break;case"defaultChecked":Z=Q;break;case"value":T=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==te&&it(t,r,Y,Q,l,te)}}bn(t,T,b,I,G,Z,d,h);return;case"select":Q=T=b=Y=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||it(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":Y=d;break;case"defaultValue":b=d;break;case"multiple":T=d;default:d!==I&&it(t,r,h,d,l,I)}r=b,a=T,l=Q,Y!=null?zi(t,!!a,Y,!1):!!l!=!!a&&(r!=null?zi(t,!!a,r,!0):zi(t,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:it(t,r,b,null,l,h)}for(T in l)if(h=l[T],d=a[T],l.hasOwnProperty(T)&&(h!=null||d!=null))switch(T){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&it(t,r,T,h,l,d)}tt(t,Y,Q);return;case"option":for(var Re in a)if(Y=a[Re],a.hasOwnProperty(Re)&&Y!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:it(t,r,Re,null,l,Y)}for(I in l)if(Y=l[I],Q=a[I],l.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(t,r,I,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)Y=a[we],a.hasOwnProperty(we)&&Y!=null&&!l.hasOwnProperty(we)&&it(t,r,we,null,l,Y);for(G in l)if(Y=l[G],Q=a[G],l.hasOwnProperty(G)&&Y!==Q&&(Y!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:it(t,r,G,Y,l,Q)}return;default:if(qo(r)){for(var rt in a)Y=a[rt],a.hasOwnProperty(rt)&&Y!==void 0&&!l.hasOwnProperty(rt)&&Wd(t,r,rt,void 0,l,Y);for(Z in l)Y=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||Wd(t,r,Z,Y,l,Q);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!l.hasOwnProperty(U)&&it(t,r,U,null,l,Y);for(te in l)Y=l[te],Q=a[te],!l.hasOwnProperty(te)||Y===Q||Y==null&&Q==null||it(t,r,te,Y,l,Q)}var Zd=null,Jd=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function em(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tm=null;function AA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(CA)}:ov;function CA(t){setTimeout(function(){throw t})}function Br(t){return t==="head"}function uv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=t.ownerDocument;if(a&1&&Cl(T.documentElement),a&2&&Cl(T.body),a&4)for(a=T.head,Cl(a),T=a.firstChild;T;){var b=T.nextSibling,I=T.nodeName;T[ws]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(h===0){t.removeChild(d),Vl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Vl(r)}function nm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ws])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function NA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function xA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var rm=null;function cv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function hv(t,r,a){switch(r=Lc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Tr(t)}var Kn=new Map,fv=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=he.d;he.d={f:DA,r:OA,D:kA,C:MA,L:VA,m:PA,X:UA,S:LA,M:jA};function DA(){var t=ar.f(),r=Nc();return t||r}function OA(t){var r=ui(t);r!==null&&r.tag===5&&r.type==="form"?Oy(r):ar.r(t)}var to=typeof document>"u"?null:document;function dv(t,r,a){var l=to;if(l&&typeof r=="string"&&r){var h=At(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),fv.has(h)||(fv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),$t(r,"link",t),_t(r),l.head.appendChild(r)))}}function kA(t){ar.D(t),dv("dns-prefetch",t,null)}function MA(t,r){ar.C(t,r),dv("preconnect",t,r)}function VA(t,r,a){ar.L(t,r,a);var l=to;if(l&&t&&r){var h='link[rel="preload"][as="'+At(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+At(a.imageSizes)+'"]')):h+='[href="'+At(t)+'"]';var d=h;switch(r){case"style":d=no(t);break;case"script":d=io(t)}Kn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Kn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Il(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),$t(r,"link",t),_t(r),l.head.appendChild(r)))}}function PA(t,r){ar.m(t,r);var a=to;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(t)}if(!Kn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),$t(l,"link",t),_t(l),a.head.appendChild(l)}}}function LA(t,r,a){ar.S(t,r,a);var l=to;if(l&&t){var h=hn(l).hoistableStyles,d=no(t);r=r||"default";var T=h.get(d);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Il(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Kn.get(d))&&sm(t,a);var I=T=l.createElement("link");_t(I),$t(I,"link",t),I._p=new Promise(function(G,Z){I.onload=G,I.onerror=Z}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,jc(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:b},h.set(d,T)}}}function UA(t,r){ar.X(t,r);var a=to;if(a&&t){var l=hn(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0},r),(r=Kn.get(h))&&am(t,r),d=a.createElement("script"),_t(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jA(t,r){ar.M(t,r);var a=to;if(a&&t){var l=hn(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Kn.get(h))&&am(t,r),d=a.createElement("script"),_t(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(t,r,a,l){var h=(h=ye.current)?Uc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=hn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var d=hn(h).hoistableStyles,T=d.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,T),(d=h.querySelector(Il(t)))&&!d._p&&(T.instance=d,T.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),d||BA(h,t,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=hn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+At(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function pv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function BA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),_t(r),t.head.appendChild(r))}function io(t){return'[src="'+At(t)+'"]'}function Nl(t){return"script[async]"+t}function gv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+At(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),$t(l,"style",h),jc(l,a.precedence,t),r.instance=l;case"stylesheet":h=no(a.href);var d=t.querySelector(Il(h));if(d)return r.state.loading|=4,r.instance=d,_t(d),d;l=pv(a),(h=Kn.get(h))&&sm(l,h),d=(t.ownerDocument||t).createElement("link"),_t(d);var T=d;return T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),$t(d,"link",l),r.state.loading|=4,jc(d,a.precedence,t),r.instance=d;case"script":return d=io(a.src),(h=t.querySelector(Nl(d)))?(r.instance=h,_t(h),h):(l=a,(h=Kn.get(d))&&(l=E({},a),am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_t(h),$t(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jc(l,a.precedence,t));return r.instance}function jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function sm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Bc=null;function yv(t,r,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ws]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(r)||"";T=t+T;var b=l.get(T);b?b.push(d):l.set(T,[d])}}return l}function _v(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function zA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function qA(){}function HA(t,r,a){if(xl===null)throw Error(s(475));var l=xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(a.href),d=t.querySelector(Il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,_t(d);return}d=t.ownerDocument||t,a=pv(a),(h=Kn.get(h))&&sm(a,h),d=d.createElement("link"),_t(d);var T=d;T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),$t(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=zc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function FA(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function om(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,r.forEach(GA,t),qc=null,zc.call(t))}function GA(t,r){if(!(r.state.loading&4)){var a=qc.get(t);if(a)var l=a.get(null);else{a=new Map,qc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var T=h[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=r.instance,T=h.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,h),a.set(T,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Dl={$$typeof:W,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function KA(t,r,a,l,h,d,T,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Ev(t,r,a,l,h,d,T,b,I,G,Z,te){return t=new KA(t,r,a,T,b,I,G,te),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),t.current=d,d.stateNode=t,r=qf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Kf(d),t}function Tv(t){return t?(t=Ma,t):Ma}function wv(t,r,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=Cr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,r),a!==null&&(xn(a,t,r),ol(a,t,r))}function bv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function lm(t,r){bv(t,r),(t=t.alternate)&&bv(t,r)}function Av(t){if(t.tag===13){var r=ka(t,67108864);r!==null&&xn(r,t,67108864),lm(t,67108864)}}var Hc=!0;function YA(t,r,a,l){var h=F.T;F.T=null;var d=he.p;try{he.p=2,um(t,r,a,l)}finally{he.p=d,F.T=h}}function QA(t,r,a,l){var h=F.T;F.T=null;var d=he.p;try{he.p=8,um(t,r,a,l)}finally{he.p=d,F.T=h}}function um(t,r,a,l){if(Hc){var h=cm(l);if(h===null)Xd(t,r,l,Fc,a),Rv(t,l);else if(XA(h,t,r,a,l))l.stopPropagation();else if(Rv(t,l),r&4&&-1<$A.indexOf(t)){for(;h!==null;){var d=ui(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=$n(d.pendingLanes);if(T!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var I=1<<31-rn(T);b.entanglements[1]|=I,T&=~I}bi(d),(Ze&6)===0&&(Cc=Nt()+500,Al(0))}}break;case 13:b=ka(d,2),b!==null&&xn(b,d,2),Nc(),lm(d,2)}if(d=cm(l),d===null&&Xd(t,r,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,r,l,null,a)}}function cm(t){return t=Ln(t),hm(t)}var Fc=null;function hm(t){if(Fc=null,t=Ui(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Fc=t,null}function Sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xo()){case ys:return 2;case ue:return 8;case We:case pt:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var fm=!1,zr=null,qr=null,Hr=null,Ol=new Map,kl=new Map,Fr=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(t,r){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(r.pointerId)}}function Ml(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ui(r),r!==null&&Av(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function XA(t,r,a,l,h){switch(r){case"focusin":return zr=Ml(zr,t,r,a,l,h),!0;case"dragenter":return qr=Ml(qr,t,r,a,l,h),!0;case"mouseover":return Hr=Ml(Hr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Ml(Ol.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ml(kl.get(d)||null,t,r,a,l,h)),!0}return!1}function Cv(t){var r=Ui(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Nu(t.priority,function(){if(a.tag===13){var l=Nn();l=_r(l);var h=ka(a,l);h!==null&&xn(h,a,l),lm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qi=l,a.target.dispatchEvent(l),qi=null}else return r=ui(a),r!==null&&Av(r),t.blockedOn=a,!1;r.shift()}return!0}function Iv(t,r,a){Gc(t)&&a.delete(r)}function WA(){fm=!1,zr!==null&&Gc(zr)&&(zr=null),qr!==null&&Gc(qr)&&(qr=null),Hr!==null&&Gc(Hr)&&(Hr=null),Ol.forEach(Iv),kl.forEach(Iv)}function Kc(t,r){t.blockedOn===r&&(t.blockedOn=null,fm||(fm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WA)))}var Yc=null;function Nv(t){Yc!==t&&(Yc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=ui(a);d!==null&&(t.splice(r,3),r-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vl(t){function r(I){return Kc(I,t)}zr!==null&&Kc(zr,t),qr!==null&&Kc(qr,t),Hr!==null&&Kc(Hr,t),Ol.forEach(r),kl.forEach(r);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],T=h[bt]||null;if(typeof d=="function")T||Nv(a);else if(T){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,T=d[bt]||null)b=T.formAction;else if(hm(h)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Nv(a)}}}function dm(t){this._internalRoot=t}Qc.prototype.render=dm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();wv(a,l,t,r,null,null)},Qc.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;wv(t.current,2,null,t,null,null),Nc(),r[Vn]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=vr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Fr.length&&r!==0&&r<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&Cv(t)}};var xv=e.version;if(xv!=="19.1.0")throw Error(s(527,xv,"19.1.0"));he.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ZA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ve=$c.inject(ZA),Ue=$c}catch{}}return Ll.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ky,d=Yy,T=Qy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Ev(t,1,!1,null,null,a,l,h,d,T,b,null),t[Vn]=r.current,$d(t),new dm(r)},Ll.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ky,T=Yy,b=Qy,I=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=Ev(t,1,!0,r,a??null,l,h,d,T,b,I,G),r.context=Tv(null),a=r.current,l=Nn(),l=_r(l),h=Cr(l),h.callback=null,Ir(a,h,l),a=l,r.current.lanes=a,Li(r,a),bi(r),t[Vn]=r.current,$d(t),new Qc(r)},Ll.version="19.1.0",Ll}var Bv;function uS(){if(Bv)return gm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=lS(),gm.exports}var cS=uS();const hS=xT(cS);var Ul={},zv;function fS(){if(zv)return Ul;zv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,O){const x=new u,z=w.length;if(z<2)return x;const B=(O==null?void 0:O.decode)||E;let K=0;do{const X=w.indexOf("=",K);if(X===-1)break;const W=w.indexOf(";",K),ne=W===-1?z:W;if(X>ne){K=w.lastIndexOf(";",X-1)+1;continue}const se=m(w,K,X),fe=p(w,X,se),D=w.slice(se,fe);if(x[D]===void 0){let R=m(w,X+1,ne),C=p(w,ne,R);const M=B(w.slice(R,C));x[D]=M}K=ne+1}while(K<z);return x}function m(w,O,x){do{const z=w.charCodeAt(O);if(z!==32&&z!==9)return O}while(++O<x);return x}function p(w,O,x){for(;O>x;){const z=w.charCodeAt(--O);if(z!==32&&z!==9)return O+1}return x}function g(w,O,x){const z=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const B=z(O);if(!e.test(B))throw new TypeError(`argument val is invalid: ${O}`);let K=w+"="+B;if(!x)return K;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);K+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);K+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);K+="; Path="+x.path}if(x.expires){if(!A(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);K+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(K+="; HttpOnly"),x.secure&&(K+="; Secure"),x.partitioned&&(K+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return K}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return Ul}fS();var qv="popstate";function dS(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Mm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:eu(o)}return pS(e,n,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ni(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mS(){return Math.random().toString(36).substring(2,10)}function Hv(i,e){return{usr:i.state,key:i.key,idx:e}}function Mm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||mS()}}function eu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function wo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function pS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let B=E(),K=B==null?null:B-g;g=B,p&&p({action:m,location:z.location,delta:K})}function w(B,K){m="PUSH";let X=Mm(z.location,B,K);g=E()+1;let W=Hv(X,g),ne=z.createHref(X);try{f.pushState(W,"",ne)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ne)}u&&p&&p({action:m,location:z.location,delta:1})}function O(B,K){m="REPLACE";let X=Mm(z.location,B,K);g=E();let W=Hv(X,g),ne=z.createHref(X);f.replaceState(W,"",ne),u&&p&&p({action:m,location:z.location,delta:0})}function x(B){return gS(B)}let z={get action(){return m},get location(){return i(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qv,A),p=B,()=>{o.removeEventListener(qv,A),p=null}},createHref(B){return e(o,B)},createURL:x,encodeLocation(B){let K=x(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:O,go(B){return f.go(B)}};return z}function gS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function DT(i,e,n="/"){return yS(i,e,n,!1)}function yS(i,e,n,s){let o=typeof e=="string"?wo(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let f=OT(i);_S(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=NS(u);m=CS(f[p],g,s)}return m}function OT(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ur([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),OT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:SS(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of kT(u.path))o(u,f,p)}),e}function kT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function _S(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:RS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vS=/^:[\w-]+$/,ES=3,TS=2,wS=1,bS=10,AS=-2,Fv=i=>i==="*";function SS(i,e){let n=i.split("/"),s=n.length;return n.some(Fv)&&(s+=AS),e&&(s+=TS),n.filter(o=>!Fv(o)).reduce((o,u)=>o+(vS.test(u)?ES:u===""?wS:bS),s)}function RS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function CS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ur([u,A.pathname]),pathnameBase:kS(ur([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=ur([u,A.pathnameBase]))}return f}function yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=IS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let x=m[w]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const O=m[w];return A&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function IS(i,e=!1,n=!0){ni(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function xS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?wo(i):i;return{pathname:n?n.startsWith("/")?n:DS(n,e):e,search:MS(s),hash:VS(o)}}function DS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(i){let e=OS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fp(i,e,n,s=!1){let o;typeof i=="string"?o=wo(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=xS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ur=i=>i.join("/").replace(/\/\/+/g,"/"),kS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,VS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function PS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var MT=["POST","PUT","PATCH","DELETE"];new Set(MT);var LS=["GET",...MT];new Set(LS);var bo=j.createContext(null);bo.displayName="DataRouter";var Hh=j.createContext(null);Hh.displayName="DataRouterState";var VT=j.createContext({isTransitioning:!1});VT.displayName="ViewTransition";var US=j.createContext(new Map);US.displayName="Fetchers";var jS=j.createContext(null);jS.displayName="Await";var si=j.createContext(null);si.displayName="Navigation";var cu=j.createContext(null);cu.displayName="Location";var Oi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var dp=j.createContext(null);dp.displayName="RouteError";function BS(i,{relative:e}={}){ft(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(si),{hash:o,pathname:u,search:f}=hu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return j.useContext(cu)!=null}function hs(){return ft(Ao(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(cu).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(i){j.useContext(si).static||j.useLayoutEffect(i)}function gr(){let{isDataRoute:i}=j.useContext(Oi);return i?JS():zS()}function zS(){ft(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(bo),{basename:e,navigator:n}=j.useContext(si),{matches:s}=j.useContext(Oi),{pathname:o}=hs(),u=JSON.stringify(hp(s)),f=j.useRef(!1);return LT(()=>{f.current=!0}),j.useCallback((p,g={})=>{if(ni(f.current,PT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=fp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}j.createContext(null);function hu(i,{relative:e}={}){let{matches:n}=j.useContext(Oi),{pathname:s}=hs(),o=JSON.stringify(hp(n));return j.useMemo(()=>fp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function qS(i,e){return UT(i,e)}function UT(i,e,n,s){var K;ft(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(si),{matches:u}=j.useContext(Oi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";jT(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=hs(),w;if(e){let X=typeof e=="string"?wo(e):e;ft(g==="/"||((K=X.pathname)==null?void 0:K.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),w=X}else w=A;let O=w.pathname||"/",x=O;if(g!=="/"){let X=g.replace(/^\//,"").split("/");x="/"+O.replace(/^\//,"").split("/").slice(X.length).join("/")}let z=DT(i,{pathname:x});ni(E||z!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ni(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=YS(z&&z.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:ur([g,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:ur([g,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return e&&B?j.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},B):B}function HS(){let i=ZS(),e=PS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var FS=j.createElement(HS,null),GS=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?j.createElement(Oi.Provider,{value:this.props.routeContext},j.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KS({routeContext:i,match:e,children:n}){let s=j.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Oi.Provider,{value:i},n)}function YS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,w=!1,O=null,x=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||FS,f&&(m<0&&E===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):m===E&&(w=!0,x=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),B=()=>{let K;return A?K=O:w?K=x:g.route.Component?K=j.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,j.createElement(KS,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?j.createElement(GS,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:B(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):B()},null)}function mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(i){let e=j.useContext(bo);return ft(e,mp(i)),e}function $S(i){let e=j.useContext(Hh);return ft(e,mp(i)),e}function XS(i){let e=j.useContext(Oi);return ft(e,mp(i)),e}function pp(i){let e=XS(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function WS(){return pp("useRouteId")}function ZS(){var s;let i=j.useContext(dp),e=$S("useRouteError"),n=pp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function JS(){let{router:i}=QS("useNavigate"),e=pp("useNavigate"),n=j.useRef(!1);return LT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{ni(n.current,PT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Gv={};function jT(i,e,n){!e&&!Gv[i]&&(Gv[i]=!0,ni(!1,n))}j.memo(e1);function e1({routes:i,future:e,state:n}){return UT(i,void 0,n,e)}function t1({to:i,replace:e,state:n,relative:s}){ft(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(si);ni(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Oi),{pathname:f}=hs(),m=gr(),p=fp(i,hp(u),f,s==="path"),g=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Yr(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ft(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=wo(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:w="default"}=n,O=j.useMemo(()=>{let x=hr(p,f);return x==null?null:{location:{pathname:x,search:g,hash:E,state:A,key:w},navigationType:s}},[f,p,g,E,A,w,s]);return ni(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(si.Provider,{value:m},j.createElement(cu.Provider,{children:e,value:O}))}function i1({children:i,location:e}){return qS(Vm(i),e)}function Vm(i,e=[]){let n=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Vm(s.props.children,u));return}ft(s.type===Yr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var rh="get",sh="application/x-www-form-urlencoded";function Fh(i){return i!=null&&typeof i.tagName=="string"}function r1(i){return Fh(i)&&i.tagName.toLowerCase()==="button"}function s1(i){return Fh(i)&&i.tagName.toLowerCase()==="form"}function a1(i){return Fh(i)&&i.tagName.toLowerCase()==="input"}function o1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function l1(i,e){return i.button===0&&(!e||e==="_self")&&!o1(i)}var Xc=null;function u1(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var c1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(i){return i!=null&&!c1.has(i)?(ni(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):i}function h1(i,e){let n,s,o,u,f;if(s1(i)){let m=i.getAttribute("action");s=m?hr(m,e):null,n=i.getAttribute("method")||rh,o=Tm(i.getAttribute("enctype"))||sh,u=new FormData(i)}else if(r1(i)||a1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?hr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||rh,o=Tm(i.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||sh,u=new FormData(m,i),!u1()){let{name:g,type:E,value:A}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=sh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function f1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function m1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await f1(u,n);return f.links?f.links():[]}return[]}));return _1(s.flat(1).filter(d1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function p1(i,e,{includeHydrateFallback:n}={}){return g1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function g1(i){return[...new Set(i)]}function y1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function _1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(y1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v1=new Set([100,101,204,205]);function E1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&hr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function BT(){let i=j.useContext(bo);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function T1(){let i=j.useContext(Hh);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yp=j.createContext(void 0);yp.displayName="FrameworkContext";function zT(){let i=j.useContext(yp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function w1(i,e){let n=j.useContext(yp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,w=j.useRef(null);j.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let z=K=>{K.forEach(X=>{f(X.isIntersecting)})},B=new IntersectionObserver(z,{threshold:.5});return w.current&&B.observe(w.current),()=>{B.disconnect()}}},[i]),j.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let O=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:jl(m,O),onBlur:jl(p,x),onMouseEnter:jl(g,O),onMouseLeave:jl(E,x),onTouchStart:jl(A,O)}]:[!1,w,{}]}function jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function b1({page:i,...e}){let{router:n}=BT(),s=j.useMemo(()=>DT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(S1,{page:i,matches:s,...e}):null}function A1(i){let{manifest:e,routeModules:n}=zT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return m1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function S1({page:i,matches:e,...n}){let s=hs(),{manifest:o,routeModules:u}=zT(),{basename:f}=BT(),{loaderData:m,matches:p}=T1(),g=j.useMemo(()=>Kv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=j.useMemo(()=>Kv(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,z=!1;if(e.forEach(K=>{var W;let X=o.routes[K.route.id];!X||!X.hasLoader||(!g.some(ne=>ne.route.id===K.route.id)&&K.route.id in m&&((W=u[K.route.id])!=null&&W.shouldRevalidate)||X.hasClientLoader?z=!0:x.add(K.route.id))}),x.size===0)return[];let B=E1(i,f);return z&&x.size>0&&B.searchParams.set("_routes",e.filter(K=>x.has(K.route.id)).map(K=>K.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,g,e,i,u]),w=j.useMemo(()=>p1(E,o),[E,o]),O=A1(E);return j.createElement(j.Fragment,null,A.map(x=>j.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),w.map(x=>j.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),O.map(({key:x,link:z})=>j.createElement("link",{key:x,...z})))}function R1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qT&&(window.__reactRouterVersion="7.6.2")}catch{}function C1({basename:i,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=dS({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(n1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FT=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...w},O){let{basename:x}=j.useContext(si),z=typeof g=="string"&&HT.test(g),B,K=!1;if(typeof g=="string"&&z&&(B=g,qT))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),P=hr(M.pathname,x);M.origin===C.origin&&P!=null?g=P+M.search+M.hash:K=!0}catch{ni(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=BS(g,{relative:o}),[W,ne,se]=w1(s,w),fe=D1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function D(C){e&&e(C),C.defaultPrevented||fe(C)}let R=j.createElement("a",{...w,...se,href:B||X,onClick:K||u?e:D,ref:R1(O,ne),target:p,"data-discover":!z&&n==="render"?"true":void 0});return W&&!z?j.createElement(j.Fragment,null,R,j.createElement(b1,{page:X})):R});FT.displayName="Link";var I1=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=hu(f,{relative:g.relative}),w=hs(),O=j.useContext(Hh),{navigator:x,basename:z}=j.useContext(si),B=O!=null&&P1(A)&&m===!0,K=x.encodeLocation?x.encodeLocation(A).pathname:A.pathname,X=w.pathname,W=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(X=X.toLowerCase(),W=W?W.toLowerCase():null,K=K.toLowerCase()),W&&z&&(W=hr(W,z)||W);const ne=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let se=X===K||!o&&X.startsWith(K)&&X.charAt(ne)==="/",fe=W!=null&&(W===K||!o&&W.startsWith(K)&&W.charAt(K.length)==="/"),D={isActive:se,isPending:fe,isTransitioning:B},R=se?e:void 0,C;typeof s=="function"?C=s(D):C=[s,se?"active":null,fe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return j.createElement(FT,{...g,"aria-current":R,className:C,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(D):p)});I1.displayName="NavLink";var N1=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...w},O)=>{let x=M1(),z=V1(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&HT.test(m),X=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ne=W.nativeEvent.submitter,se=(ne==null?void 0:ne.getAttribute("formmethod"))||f;x(ne||W.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return j.createElement("form",{ref:O,method:B,action:z,onSubmit:s?p:X,...w,"data-discover":!K&&i==="render"?"true":void 0})});N1.displayName="Form";function x1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(i){let e=j.useContext(bo);return ft(e,x1(i)),e}function D1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=gr(),p=hs(),g=hu(i,{relative:u});return j.useCallback(E=>{if(l1(E,e)){E.preventDefault();let A=n!==void 0?n:eu(p)===eu(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var O1=0,k1=()=>`__${String(++O1)}__`;function M1(){let{router:i}=GT("useSubmit"),{basename:e}=j.useContext(si),n=WS();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=h1(s,e);if(o.navigate===!1){let E=o.fetcherKey||k1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function V1(i,{relative:e}={}){let{basename:n}=j.useContext(si),s=j.useContext(Oi);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},f=hs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),eu(u)}function P1(i,e={}){let n=j.useContext(VT);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=GT("useViewTransitionState"),o=hu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}[...v1];const L1=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},U1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(w=64)),s.push(n[E],n[A],n[w],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(KT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):U1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new j1;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),A!==64){const x=g<<6&192|A;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(i){const e=KT(i);return YT.encodeByteArray(e,!0)},_h=function(i){return B1(i).replace(/\./g,"")},QT=function(i){try{return YT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=()=>z1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof Yv>"u")return;const i=Yv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},F1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&QT(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return L1()||q1()||H1()||F1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},$T=i=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},XT=i=>{const e=$T(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},WT=()=>{var i;return(i=Gh())===null||i===void 0?void 0:i.config},ZT=i=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i){return i.endsWith(".cloudworkstations.dev")}async function _p(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const Yl={};function K1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?i.emulator.push(e):i.prod.push(e);return i}function Y1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Qv=!1;function vp(i,e){if(typeof window>"u"||typeof document>"u"||!fs(window.location.host)||Yl[i]===e||Yl[i]||Qv)return;Yl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=K1().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Qv=!0,f()},w}function E(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=Y1(s),O=n("text"),x=document.getElementById(O)||document.createElement("span"),z=n("learnmore"),B=document.getElementById(z)||document.createElement("a"),K=n("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;m(W),E(B,z);const ne=g();p(X,K),W.append(X,x,B,ne),document.body.appendChild(W)}u?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function $1(){var i;const e=(i=Gh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function eR(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function nR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="FirebaseError";class ki extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iR,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ki(o,m,s)}}function rR(i,e){return i.replace(sR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sR=/\{\$([^}]+)}/g;function aR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ta(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if($v(u)&&$v(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function oR(i,e){const n=new lR(i,e);return n.subscribe.bind(n)}class lR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(i){return i&&i._delegate?i._delegate:i}class rs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new G1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hR(i){return i===Ws?void 0:i}function fR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const mR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},pR=Pe.INFO,gR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},yR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=gR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=pR,this._logHandler=yR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const _R=(i,e)=>e.some(n=>i instanceof n);let Xv,Wv;function vR(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,Pm=new WeakMap,t0=new WeakMap,bm=new WeakMap,Tp=new WeakMap;function TR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(es(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&e0.set(n,i)}).catch(()=>{}),Tp.set(e,i),e}function wR(i){if(Pm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Pm.set(i,e)}let Lm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||t0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bR(i){Lm=i(Lm)}function AR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Am(this),e,...n);return t0.set(s,e.sort?e.sort():[e]),es(s)}:ER().includes(i)?function(...e){return i.apply(Am(this),e),es(e0.get(this))}:function(...e){return es(i.apply(Am(this),e))}}function SR(i){return typeof i=="function"?AR(i):(i instanceof IDBTransaction&&wR(i),_R(i,vR())?new Proxy(i,Lm):i)}function es(i){if(i instanceof IDBRequest)return TR(i);if(bm.has(i))return bm.get(i);const e=SR(i);return e!==i&&(bm.set(i,e),Tp.set(e,i)),e}const Am=i=>Tp.get(i);function RR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const CR=["get","getKey","getAll","getAllKeys","count"],IR=["put","add","delete","clear"],Sm=new Map;function Zv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=IR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||CR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}bR(i=>({...i,get:(e,n,s)=>Zv(e,n)||i.get(e,n,s),has:(e,n)=>!!Zv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",Jv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Ep("@firebase/app"),DR="@firebase/app-compat",OR="@firebase/analytics-compat",kR="@firebase/analytics",MR="@firebase/app-check-compat",VR="@firebase/app-check",PR="@firebase/auth",LR="@firebase/auth-compat",UR="@firebase/database",jR="@firebase/data-connect",BR="@firebase/database-compat",zR="@firebase/functions",qR="@firebase/functions-compat",HR="@firebase/installations",FR="@firebase/installations-compat",GR="@firebase/messaging",KR="@firebase/messaging-compat",YR="@firebase/performance",QR="@firebase/performance-compat",$R="@firebase/remote-config",XR="@firebase/remote-config-compat",WR="@firebase/storage",ZR="@firebase/storage-compat",JR="@firebase/firestore",eC="@firebase/ai",tC="@firebase/firestore-compat",nC="firebase",iC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",rC={[Um]:"fire-core",[DR]:"fire-core-compat",[kR]:"fire-analytics",[OR]:"fire-analytics-compat",[VR]:"fire-app-check",[MR]:"fire-app-check-compat",[PR]:"fire-auth",[LR]:"fire-auth-compat",[UR]:"fire-rtdb",[jR]:"fire-data-connect",[BR]:"fire-rtdb-compat",[zR]:"fire-fn",[qR]:"fire-fn-compat",[HR]:"fire-iid",[FR]:"fire-iid-compat",[GR]:"fire-fcm",[KR]:"fire-fcm-compat",[YR]:"fire-perf",[QR]:"fire-perf-compat",[$R]:"fire-rc",[XR]:"fire-rc-compat",[WR]:"fire-gcs",[ZR]:"fire-gcs-compat",[JR]:"fire-fst",[tC]:"fire-fst-compat",[eC]:"fire-vertex","fire-js":"fire-js",[nC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,sC=new Map,Bm=new Map;function eE(i,e){try{i.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function na(i){const e=i.name;if(Bm.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,i);for(const n of vh.values())eE(n,i);for(const n of sC.values())eE(n,i);return!0}function Kh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Dn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new fu("app","Firebase",aC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=iC;function n0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=WT()),!n)throw ts.create("no-options");const u=vh.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new dR(o);for(const p of Bm.values())f.addComponent(p);const m=new oC(n,s,f);return vh.set(o,m),m}function wp(i=jm){const e=vh.get(i);if(!e&&i===jm&&WT())return n0();if(!e)throw ts.create("no-app",{appName:i});return e}function Si(i,e,n){var s;let o=(s=rC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(m.join(" "));return}na(new rs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebase-heartbeat-database",uC=1,tu="firebase-heartbeat-store";let Rm=null;function i0(){return Rm||(Rm=RR(lC,uC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ts.create("idb-open",{originalErrorMessage:i.message})})),Rm}async function cC(i){try{const n=(await i0()).transaction(tu),s=await n.objectStore(tu).get(r0(i));return await n.done,s}catch(e){if(e instanceof ki)fr.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function tE(i,e){try{const s=(await i0()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,r0(i)),await s.done}catch(n){if(n instanceof ki)fr.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(s.message)}}}function r0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,fC=30;class dC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=nE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>fC){const f=gC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nE(),{heartbeatsToSend:s,unsentEntries:o}=mC(this._heartbeatsCache.heartbeats),u=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return fr.warn(n),""}}}function nE(){return new Date().toISOString().substring(0,10)}function mC(i,e=hC){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),iE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?nR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iE(i){return _h(JSON.stringify({version:2,heartbeats:i})).length}function gC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(i){na(new rs("platform-logger",e=>new NR(e),"PRIVATE")),na(new rs("heartbeat",e=>new dC(e),"PRIVATE")),Si(Um,Jv,i),Si(Um,Jv,"esm2017"),Si("fire-js","")}yC("");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,s0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function C(){}C.prototype=R.prototype,D.D=R.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(M,P,L){for(var N=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)N[ot-2]=arguments[ot];return R.prototype[P].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)M[P]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(P=0;16>P;++P)M[P]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=D.g[0],C=D.g[1],P=D.g[2];var L=D.g[3],N=R+(L^C&(P^L))+M[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+M[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+M[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+M[3]+3250441966&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(L^C&(P^L))+M[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+M[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+M[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+M[7]+4249261313&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(L^C&(P^L))+M[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+M[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+M[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+M[11]+2304563134&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(L^C&(P^L))+M[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+M[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+M[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+M[15]+1236535329&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(P^L&(C^P))+M[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+M[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+M[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+M[0]+3921069994&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(P^L&(C^P))+M[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+M[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+M[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+M[4]+3889429448&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(P^L&(C^P))+M[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+M[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+M[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+M[8]+1163531501&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(P^L&(C^P))+M[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+M[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+M[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+M[12]+2368359562&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(C^P^L)+M[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+M[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+M[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+M[14]+4259657740&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(C^P^L)+M[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+M[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+M[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+M[10]+3200236656&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(C^P^L)+M[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+M[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+M[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+M[6]+76029189&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(C^P^L)+M[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+M[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+M[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+M[2]+3299628645&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(P^(C|~L))+M[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+M[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+M[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+M[5]+4237533241&4294967295,C=P+(N<<21&4294967295|N>>>11),N=R+(P^(C|~L))+M[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+M[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+M[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+M[1]+2240044497&4294967295,C=P+(N<<21&4294967295|N>>>11),N=R+(P^(C|~L))+M[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+M[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+M[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+M[13]+1309151649&4294967295,C=P+(N<<21&4294967295|N>>>11),N=R+(P^(C|~L))+M[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+M[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+M[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var C=R-this.blockSize,M=this.B,P=this.h,L=0;L<R;){if(P==0)for(;L<=C;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<R;)if(M[P++]=D.charCodeAt(L++),P==this.blockSize){o(this,M),P=0;break}}else for(;L<R;)if(M[P++]=D[L++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var C=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=C&255,C/=256;for(this.u(D),D=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)D[C++]=this.g[R]>>>M&255;return D};function u(D,R){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=R(D)}function f(D,R){this.h=R;for(var C=[],M=!0,P=D.length-1;0<=P;P--){var L=D[P]|0;M&&L==R||(C[P]=L,M=!1)}this.g=C}var m={};function p(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return B(g(-D));for(var R=[],C=1,M=0;D>=C;M++)R[M]=D/C|0,C*=4294967296;return new f(R,0)}function E(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return B(E(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),M=A,P=0;P<D.length;P+=8){var L=Math.min(8,D.length-P),N=parseInt(D.substring(P,P+L),R);8>L?(L=g(Math.pow(R,L)),M=M.j(L).add(g(N))):(M=M.j(C),M=M.add(g(N)))}return M}var A=p(0),w=p(1),O=p(16777216);i=f.prototype,i.m=function(){if(z(this))return-B(this).m();for(var D=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(z(this))return"-"+B(this).toString(D);for(var R=g(Math.pow(D,6)),C=this,M="";;){var P=ne(C,R).g;C=K(C,P.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=P,x(C))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function z(D){return D.h==-1}i.l=function(D){return D=K(this,D),z(D)?-1:x(D)?0:1};function B(D){for(var R=D.g.length,C=[],M=0;M<R;M++)C[M]=~D.g[M];return new f(C,~D.h).add(w)}i.abs=function(){return z(this)?B(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],M=0,P=0;P<=R;P++){var L=M+(this.i(P)&65535)+(D.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);M=N>>>16,L&=65535,N&=65535,C[P]=N<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function K(D,R){return D.add(B(R))}i.j=function(D){if(x(this)||x(D))return A;if(z(this))return z(D)?B(this).j(B(D)):B(B(this).j(D));if(z(D))return B(this.j(B(D)));if(0>this.l(O)&&0>D.l(O))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<D.g.length;P++){var L=this.i(M)>>>16,N=this.i(M)&65535,ot=D.i(P)>>>16,Ke=D.i(P)&65535;C[2*M+2*P]+=N*Ke,X(C,2*M+2*P),C[2*M+2*P+1]+=L*Ke,X(C,2*M+2*P+1),C[2*M+2*P+1]+=N*ot,X(C,2*M+2*P+1),C[2*M+2*P+2]+=L*ot,X(C,2*M+2*P+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new f(C,0)};function X(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function W(D,R){this.g=D,this.h=R}function ne(D,R){if(x(R))throw Error("division by zero");if(x(D))return new W(A,A);if(z(D))return R=ne(B(D),R),new W(B(R.g),B(R.h));if(z(R))return R=ne(D,B(R)),new W(B(R.g),R.h);if(30<D.g.length){if(z(D)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=R;0>=M.l(D);)C=se(C),M=se(M);var P=fe(C,1),L=fe(M,1);for(M=fe(M,2),C=fe(C,2);!x(M);){var N=L.add(M);0>=N.l(D)&&(P=P.add(C),L=N),M=fe(M,1),C=fe(C,1)}return R=K(D,P.j(R)),new W(P,R)}for(P=A;0<=D.l(R);){for(C=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=g(C),N=L.j(R);z(N)||0<N.l(D);)C-=M,L=g(C),N=L.j(R);x(L)&&(L=w),P=P.add(L),D=K(D,N)}return new W(P,D)}i.A=function(D){return ne(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&D.i(M);return new f(C,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|D.i(M);return new f(C,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^D.i(M);return new f(C,this.h^D.h)};function se(D){for(var R=D.g.length+1,C=[],M=0;M<R;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(C,D.h)}function fe(D,R){var C=R>>5;R%=32;for(var M=D.g.length-C,P=[],L=0;L<M;L++)P[L]=0<R?D.i(L+C)>>>R|D.i(L+C+1)<<32-R:D.i(L+C);return new f(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,s0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ns=f}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a0,Hl,o0,ah,zm,l0,u0,c0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,$){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return y.prototype[q].apply(S,ce)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function B(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const q=c.length||0,$=S.length||0;c.length=q+$;for(let ce=0;ce<$;ce++)c[q+ce]=S[ce]}else c.push(S)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var se=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function fe(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function N(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,v){const S=Ke.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ke=new K(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ge=!1,De=new ot,k=()=>{const c=m.Promise.resolve(void 0);he=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){L(v)}var y=Ke;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function _e(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{ne(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}x(_e,oe);var ye={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),et=0;function yn(c,y,v,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=q,this.key=++et,this.da=this.fa=!1}function ai(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qn(c){this.src=c,this.g={},this.h=0}Qn.prototype.add=function(c,y,v,S,q){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ce=oi(c,y,S,q);return-1<ce?(y=c[ce],v||(y.fa=!1)):(y=new yn(y,this.src,$,!!S,q),y.fa=v,c.push(y)),y};function wn(c,y){var v=y.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=q)&&Array.prototype.splice.call(S,q,1),$&&(ai(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function oi(c,y,v,S){for(var q=0;q<c.length;++q){var $=c[q];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return q}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),ps={};function gs(c,y,v,S,q){if(Array.isArray(y)){for(var $=0;$<y.length;$++)gs(c,y[$],v,S,q);return null}return v=$e(v),c&&c[wt]?c.K(y,v,g(S)?!!S.capture:!1,q):Nt(c,y,v,!1,S,q)}function Nt(c,y,v,S,q,$){if(!y)throw Error("Invalid event type");var ce=g(q)?!!q.capture:!!q,je=Qe(c);if(je||(c[Vi]=je=new Qn(c)),v=je.add(y,v,S,ce,$),v.proxy)return v;if(S=xo(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ae||(q=ce),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(We(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xo(){function c(v){return y.call(c.src,c.listener,v)}const y=pt;return c}function ys(c,y,v,S,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)ys(c,y[$],v,S,q);else S=g(S)?!!S.capture:!!S,v=$e(v),c&&c[wt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=oi($,v,S,q),-1<v&&(ai($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Qe(c))&&(y=c.g[y.toString()],c=-1,y&&(c=oi(y,v,S,q)),(v=-1<c?y[c]:null)&&ue(v))}function ue(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[wt])wn(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(We(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Qe(y))?(wn(v,c),v.h==0&&(v.src=null,y[Vi]=null)):ai(c)}}}function We(c){return c in ps?ps[c]:ps[c]="on"+c}function pt(c,y){if(c.da)c=!0;else{y=new _e(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&ue(c),c=v.call(S,y)}return c}function Qe(c){return c=c[Vi],c instanceof Qn?c:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(c){return typeof c=="function"?c:(c[Fe]||(c[Fe]=function(y){return c.handleEvent(y)}),c[Fe])}function Ve(){le.call(this),this.i=new Qn(this),this.M=this,this.F=null}x(Ve,le),Ve.prototype[wt]=!0,Ve.prototype.removeEventListener=function(c,y,v,S){ys(this,c,y,v,S)};function Ue(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var q=y;y=new oe(S,c),M(y,q)}if(q=!0,v)for(var $=v.length-1;0<=$;$--){var ce=y.g=v[$];q=cn(ce,S,!0,y)&&q}if(ce=y.g=c,q=cn(ce,S,!0,y)&&q,q=cn(ce,S,!1,y)&&q,v)for($=0;$<v.length;$++)ce=y.g=v[$],q=cn(ce,S,!1,y)&&q}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)ai(v[S]);delete c.g[y],c.h--}}this.F=null},Ve.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Ve.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function cn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,$=0;$<y.length;++$){var ce=y[$];if(ce&&!ce.da&&ce.capture==v){var je=ce.listener,Dt=ce.ha||ce.src;ce.fa&&wn(c.i,ce),q=je.call(Dt,S)!==!1&&q}}return q&&!S.defaultPrevented}function rn(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Iu(c){c.g=rn(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){le.call(this),this.h=c,this.g={}}x(_s,le);var vs=[];function Es(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ue(y)},c),c.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Es(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=m.JSON.stringify,ma=m.JSON.parse,Ts=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function Oo(c){return c.h||(c.h=c.i())}function ko(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){oe.call(this,"d")}x(Li,oe);function Mo(){oe.call(this,"c")}x(Mo,oe);var li={},Vo=null;function _r(){return Vo=Vo||new Ve}li.La="serverreachability";function pa(c){oe.call(this,li.La,c)}x(pa,oe);function vr(c){const y=_r();Ue(y,new pa(y))}li.STAT_EVENT="statevent";function Nu(c,y){oe.call(this,li.STAT_EVENT,c),this.stat=y}x(Nu,oe);function ct(c){const y=_r();Ue(y,new Nu(y,c))}li.Ma="timingevent";function xt(c,y){oe.call(this,li.Ma,c),this.size=y}x(xt,oe);function bt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function Po(c,y,v,S,q,$){c.info(function(){if(c.g)if($)for(var ce="",je=$.split("&"),Dt=0;Dt<je.length;Dt++){var Be=je[Dt].split("=");if(1<Be.length){var Ut=Be[0];Be=Be[1];var Ot=Ut.split("_");ce=2<=Ot.length&&Ot[1]=="type"?ce+(Ut+"="+Be+"&"):ce+(Ut+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+v+`
`+ce})}function yf(c,y,v,S,q,$,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+v+`
`+$+" "+ce})}function Er(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ws(c,v)+(S?" "+S:"")})}function xu(c,y){c.info(function(){return"TIMEOUT: "+y})}Vn.prototype.info=function(){};function ws(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return $n(v)}catch{return y}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}x(ci,Do),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function hn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Lo={},ga={};function Xn(c,y,v){c.L=1,c.v=Cs(bn(y)),c.m=v,c.P=!0,ji(c,null)}function ji(c,y){c.F=Date.now(),bs(c),c.A=bn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ho(v.i,"t",S),c.C=0,v=c.j.J,c.h=new _t,c.g=Ku(c.j,v?y:null,!c.m),0<c.O&&(c.M=new gf(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(vs[0]=q.toString()),q=vs);for(var $=0;$<q.length;$++){var ce=gs(v,q[$],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}hn.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},hn.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=jn(this.g);var y=this.g.Ba();const Yi=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=Yi?vr(3):vr(2)),wr(this);var v=this.g.Z();this.X=v;t:if(Du(this)){var S=Uu(this.g);c="";var q=S.length,$=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),hi(this);var ce="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,yf(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Dt=this.g;if((je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var Be=je;break t}}Be=null}if(v=Be)Er(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,As(this,v);else{this.o=!1,this.s=3,ct(12),Gt(this),hi(this);break e}}if(this.P){v=!0;let Kt;for(;!this.J&&this.C<ce.length;)if(Kt=Ou(this,ce),Kt==ga){Ot==4&&(this.s=4,ct(14),v=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Lo){this.s=4,ct(15),Er(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else Er(this.i,this.l,Kt,null),As(this,Kt);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ce.length!=0||this.h.h||(this.s=1,ct(16),v=!1),this.o=this.o&&v,!v)Er(this.i,this.l,ce,"[Invalid Chunked Response]"),Gt(this),hi(this);else if(0<ce.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Vs(Ut),Ut.M=!0,ct(11))}}else Er(this.i,this.l,ce,null),As(this,ce);Ot==4&&Gt(this),this.o&&!this.J&&(Ot==4?Hu(this.j,this):(this.o=!1,bs(this)))}else wf(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Gt(this),hi(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ou(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ga:(v=Number(y.substring(v,S)),isNaN(v)?Lo:(S+=1,S+v>y.length?ga:(y=y.slice(S,S+v),c.C=S+v,y)))}hn.prototype.cancel=function(){this.J=!0,Gt(this)};function bs(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bt(w(c.ba,c),y)}function wr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}hn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xu(this.i,this.A),this.L!=2&&(vr(),ct(17)),Gt(this),this.s=2,hi(this)):ku(this,this.S-c)};function hi(c){c.j.G==0||c.J||Hu(c.j,c)}function Gt(c){wr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function As(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Uo(v.h,c))){if(!c.K&&Uo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Ra(v);else break e;Qo(v),ct(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=bt(w(v.Za,v),6e3));if(1>=_a(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ki(v,11)}else if((c.K||v.g==c)&&Ia(v),!X(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let Be=q[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Ut=Be[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const Ot=Be[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const Yi=Be[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(S=1.5*Yi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Kt=c.g;if(Kt){const _i=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var $=S.h;$.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(va($,$.h),$.h=null))}if(S.D){const Xo=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(S.ya=Xo,tt(S.I,S.D,Xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ce=c;if(S.qa=Gu(S,S.J?S.ia:null,S.W),ce.K){fn(S.h,ce);var je=ce,Dt=S.L;Dt&&(je.I=Dt),je.B&&(wr(je),bs(je)),S.g=ce}else zu(S);0<v.i.length&&Ca(v)}else Be[0]!="stop"&&Be[0]!="close"||Ki(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ki(v,7):Ko(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}vr(4)}catch{}}var Mu=class{constructor(c,y){this.g=c,this.map=y}};function Bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function Uo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function va(c,y){c.g?c.g.add(y):c.h=y}function fn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bi.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function _f(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ea(c),S=_f(c),q=S.length,$=0;$<q;$++)y.call(void 0,S[$],v&&v[$],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var $=c[v].substring(0,S);q=c[v].substring(S+1)}else $=c[v];y($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function At(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof At){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,br(this,c.s),this.l=c.l;var y=c.i,v=new qi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),zi(this,v),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=Pn(y[2]||""),this.g=Pn(y[3]||"",!0),br(this,y[4]),this.l=Pn(y[5]||"",!0),zi(this,y[6]||"",!0),this.m=Pn(y[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}At.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Is(y,zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Ef:qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Ta)),c.join("")};function bn(c){return new At(c)}function Rs(c,y,v){c.j=v?Pn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function zi(c,y,v){y instanceof qi?(c.i=y,Pu(c.i,c.h)):(v||(y=Is(y,Tf)),c.i=new qi(y,c.h))}function tt(c,y,v){c.i.set(y,v)}function Cs(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Vu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,qo=/[#\?:]/g,Ef=/[#\?]/g,Tf=/[#\?@]/g,Ta=/#/g;function qi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&vf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=qi.prototype,i.add=function(c,y){Ln(this),this.i=null,c=fi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Hi(c,y){Ln(c),y=fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fi(c,y){return Ln(c),y=fi(c,y),c.g.has(y)}i.forEach=function(c,y){Ln(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(y,q,S,this)},this)},this)},i.na=function(){Ln(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const q=c[S];for(let $=0;$<q.length;$++)v.push(y[S])}return v},i.V=function(c){Ln(this);let y=[];if(typeof c=="string")Fi(this,c)&&(y=y.concat(this.g.get(fi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Ln(this),this.i=null,c=fi(this,c),Fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ho(c,y,v){Hi(c,y),0<v.length&&(c.i=null,c.g.set(fi(c,y),z(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const $=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var q=$;ce[S]!==""&&(q+="="+encodeURIComponent(String(ce[S]))),c.push(q)}}return this.i=c.join("&")};function fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pu(c,y){y&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(Hi(this,S),Ho(this,q,v))},c)),c.j=y}function Ns(c,y){const v=new Vn;if(m.Image){const S=new Image;S.onload=O(Un,v,"TestLoadImage: loaded",!0,y,S),S.onerror=O(Un,v,"TestLoadImage: error",!1,y,S),S.onabort=O(Un,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(Un,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Wn(c,y){const v=new Vn,S=new AbortController,q=setTimeout(()=>{S.abort(),Un(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?Un(v,"TestPingServer: ok",!0,y):Un(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Un(v,"TestPingServer: error",!1,y)})}function Un(c,y,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function xs(){this.g=new Ts}function di(c,y,v){const S=v||"";try{Bo(c,function(q,$){let ce=q;g(q)&&(ce=$n(q)),y.push(S+$+"="+encodeURIComponent(ce))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Ar,Do),Ar.prototype.g=function(){return new Gi(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Gi(c,y){Ve.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Gi,Ve),i=Gi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mi(this):pi(this),this.readyState==3&&Fo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},i.Qa=function(c){this.g&&(this.response=c,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return fe(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Go(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):tt(c,y,v))}function Xe(c){Ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Xe,Ve);var wa=/^https?$/i,Ds=["POST","PUT"];i=Xe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Oo(this.o):Oo(ui),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Lu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ds,y,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of v)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Lu(this,$)}};function Lu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),gi(c)}function ba(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ue(this,"complete"),Ue(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},i.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)rn(c.Ea,0,c);else if(Ue(c,"readystatechange"),jn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ce===0){var q=String(c.D).match(Ss)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!wa.test(q?q.toLowerCase():"")}v=S}if(v)Ue(c,"complete"),Ue(c,"success");else{c.m=6;try{var $=2<jn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ba(c)}}finally{gi(c)}}}}function gi(c,y){if(c.g){Os(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ue(c,"ready");try{v.onreadystatechange=S}catch{}}}function Os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ma(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wf(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var v=P(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[q]||[];y[q]=$,$.push(v)}D(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Sa(c){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,c),this.cb=ks("retryDelaySeedMs",1e4,c),this.Wa=ks("forwardChannelMaxRetries",2,c),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Sa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){ct(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Gu(this,null,this.W),Ca(this)};function Ko(c){if(ju(c),c.G==3){var y=c.U++,v=bn(c.I);if(tt(v,"SID",c.K),tt(v,"RID",y),tt(v,"TYPE","terminate"),Ms(c,v),y=new hn(c,c.j,y),y.L=2,y.v=Cs(bn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bs(y)}Fu(c)}function Ra(c){c.g&&(Vs(c),c.g.cancel(),c.g=null)}function ju(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!ya(c.h)&&!c.s){c.s=!0;var y=c.Ga;he||k(),ge||(he(),ge=!0),De.add(y,c),c.B=0}}function bf(c,y){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bt(w(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new hn(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),M($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Bu(this,q,y),v=bn(this.I),tt(v,"RID",c),tt(v,"CVER",22),this.D&&tt(v,"X-HTTP-Session-Id",this.D),Ms(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Go($)))+"&"+y:this.m&&Lt(v,this.m,$)),va(this.h,q),this.Ua&&tt(v,"TYPE","init"),this.P?(tt(v,"$req",y),tt(v,"SID","null"),q.T=!0,Xn(q,v,null)):Xn(q,v,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||ya(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.U++;const S=bn(c.I);tt(S,"SID",c.K),tt(S,"RID",v),tt(S,"AID",c.T),Ms(c,S),c.m&&c.o&&Lt(S,c.m,c.o),v=new hn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),va(c.h,v),Xn(v,S,y)}function Ms(c,y){c.H&&fe(c.H,function(v,S){tt(y,S,v)}),c.l&&Bo({},function(v,S){tt(y,S,v)})}function Bu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;e:{var q=c.i;let $=-1;for(;;){const ce=["count="+v];$==-1?0<v?($=q[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let je=!0;for(let Dt=0;Dt<v;Dt++){let Be=q[Dt].g;const Ut=q[Dt].map;if(Be-=$,0>Be)$=Math.max(0,q[Dt].g-100),je=!1;else try{di(Ut,ce,"req"+Be+"_")}catch{S&&S(Ut)}}if(je){S=ce.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;he||k(),ge||(he(),ge=!0),De.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bt(w(c.Fa,c),$o(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Ra(this),qu(this))};function Vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=bn(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Ms(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Cs(bn(y)),v.m=null,v.P=!0,ji(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ra(this),Qo(this),ct(19))};function Ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var v=null;if(c.g==y){Ia(c),Vs(c),c.g=null;var S=2}else if(Uo(c.h,y))v=y.D,fn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=_r(),Ue(S,new xt(S,v)),Ca(c)}else zu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&bf(c,y)||S==2&&Qo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function $o(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ki(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const q=!S;S=new At(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rs(S,"https"),Cs(S),q?Ns(S.toString(),v):Wn(S.toString(),v)}else ct(2);c.G=0,c.l&&c.l.sa(y),Fu(c),ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,v){var S=v instanceof At?bn(v):new At(v);if(S.g!="")y&&(S.g=y+"."+S.g),br(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var $=new At(null);S&&Rs($,S),y&&($.g=y),q&&br($,q),v&&($.l=v),S=$}return v=c.D,y=c.ya,v&&y&&tt(S,v,y),tt(S,"VER",c.la),Ms(c,S),S}function Ku(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new Ar({eb:v})):new Xe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Na(){}Na.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){Ve.call(this),this.g=new Sa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yi(this)}x(dn,Ve),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ko(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=$n(c),c=v);y.i.push(new Mu(y.Ya++,c)),y.G==3&&Ca(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,dn.aa.N.call(this)};function Qu(c){Li.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Qu,Li);function $u(){Mo.call(this),this.status=1}x($u,Mo);function yi(c){this.g=c}x(yi,Yu),yi.prototype.ua=function(){Ue(this.g,"a")},yi.prototype.ta=function(c){Ue(this.g,new Qu(c))},yi.prototype.sa=function(c){Ue(this.g,new $u)},yi.prototype.ra=function(){Ue(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,c0=function(){return new Na},u0=function(){return _r()},l0=li,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,ah=Tr,Ui.COMPLETE="complete",o0=Ui,ko.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Hl=ko,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,a0=Xe}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",aE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Ep("@firebase/firestore");function ro(){return ia.logLevel}function me(i,...e){if(ia.logLevel<=Pe.DEBUG){const n=e.map(bp);ia.debug(`Firestore (${So}): ${i}`,...n)}}function dr(i,...e){if(ia.logLevel<=Pe.ERROR){const n=e.map(bp);ia.error(`Firestore (${So}): ${i}`,...n)}}function po(i,...e){if(ia.logLevel<=Pe.WARN){const n=e.map(bp);ia.warn(`Firestore (${So}): ${i}`,...n)}}function bp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,h0(i,s,n)}function h0(i,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||h0(e,o,s)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class vC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ri,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ri)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new f0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class TC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new TC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function qm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=d0(),f=SC(u.encode(lE(i,n)),u.encode(lE(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(i.length,e.length)}function lE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function SC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return xe(i[n],e[n]);return xe(i.length,e.length)}function go(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=-62135596800,cE=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*cE);return new Vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uE)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Vt(0,0))}static max(){return new Ae(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class Ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=Ai.isNumericId(e),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class at extends Ai{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new at(n)}static emptyPath(){return new at([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ai{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Wt([hE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(at.fromString(e))}static fromName(e){return new Ee(at.fromString(e).popFirst(5))}static empty(){return new Ee(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function CC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new ss(o,Ee.empty(),e)}function IC(i){return new ss(i.readTime,i.key,nu)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(Ae.min(),Ee.empty(),nu)}static max(){return new ss(Ae.max(),Ee.empty(),nu)}}function NC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==xC)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,s)=>{n(e)})}static reject(e){return new re((n,s)=>{s(e)})}static waitFor(e){return new re((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next(o=>o?re.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new re((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new re((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function OC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function mu(i){return i==null}function Eh(i){return i===0&&1/i==-1/0}function kC(i){return typeof i=="number"&&Number.isInteger(i)&&!Eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="";function MC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=fE(e)),e=VC(i.get(n),e);return fE(e)}function VC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case p0:n+="";break;default:n+=u}}return n}function fE(i){return i+p0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ds(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function g0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(e){return new mE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class mE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Pt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new y0("Invalid base64 string: "+u):u}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const PC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=PC.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function os(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="server_timestamp",v0="__type__",E0="__previous_value__",T0="__local_write_time__";function Sp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[v0])===null||n===void 0?void 0:n.stringValue)===_0}function Qh(i){const e=i.mapValue.fields[E0];return Sp(e)?Qh(e):e}function iu(i){const e=as(i.mapValue.fields[T0].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Th="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="__type__",UC="__max__",Jc={mapValue:{}},b0="__vector__",wh="value";function ls(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sp(i)?4:BC(i)?9007199254740991:jC(i)?10:11:Te(28295,{value:i})}function xi(i,e){if(i===e)return!0;const n=ls(i);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),m=as(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),m=Tt(u.doubleValue);return f===m?Eh(f)===Eh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(dE(f)!==dE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!xi(f[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function su(i,e){return(i.values||[]).find(n=>xi(n,e))!==void 0}function yo(i,e){if(i===e)return 0;const n=ls(i),s=ls(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return pE(i.timestampValue,e.timestampValue);case 4:return pE(iu(i),iu(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=os(u),p=os(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=xe(m[g],p[g]);if(E!==0)return E}return xe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=xe(Tt(u.latitude),Tt(f.latitude));return m!==0?m:xe(Tt(u.longitude),Tt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return gE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},w=f.fields||{},O=(m=A[wh])===null||m===void 0?void 0:m.arrayValue,x=(p=w[wh])===null||p===void 0?void 0:p.arrayValue,z=xe(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:gE(O,x)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=qm(p[A],E[A]);if(w!==0)return w;const O=yo(m[p[A]],g[E[A]]);if(O!==0)return O}return xe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function pE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=as(i),s=as(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function gE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function _o(i){return Hm(i)}function Hm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return os(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ee.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Hm(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function oh(i){switch(ls(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+oh(e):16;case 5:return 2*i.stringValue.length;case 6:return os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+oh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ds(s.fields,(u,f)=>{o+=u.length+oh(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function yE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fm(i){return!!i&&"integerValue"in i}function Rp(i){return!!i&&"arrayValue"in i}function _E(i){return!!i&&"nullValue"in i}function vE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lh(i){return!!i&&"mapValue"in i}function jC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[w0])===null||n===void 0?void 0:n.stringValue)===b0}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ds(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ql(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return Object.assign({},i)}function BC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ds(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pn(Ql(this.value))}}function A0(i){const e=[];return ds(i.fields,(n,s)=>{const o=new Wt([n]);if(lh(s)){const u=A0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ht(e,0,Ae.min(),Ae.min(),Ae.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new Ht(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Ht(e,2,n,Ae.min(),Ae.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Ae.min(),Ae.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function EE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function TE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!xi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function zC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{}class It extends S0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new HC(e,n,s):n==="array-contains"?new KC(e,s):n==="in"?new YC(e,s):n==="not-in"?new QC(e,s):n==="array-contains-any"?new $C(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new FC(e,s):new GC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends S0{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ii(e,n)}matches(e){return R0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function R0(i){return i.op==="and"}function C0(i){return qC(i)&&R0(i)}function qC(i){for(const e of i.filters)if(e instanceof ii)return!1;return!0}function Gm(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(C0(i))return i.filters.map(e=>Gm(e)).join(",");{const e=i.filters.map(n=>Gm(n)).join(",");return`${i.op}(${e})`}}function I0(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)}(i,e):i instanceof ii?function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&I0(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function N0(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(i):i instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(N0).join(" ,")+"}"}(i):"Filter"}class HC extends It{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class FC extends It{constructor(e,n){super(e,"in",n),this.keys=x0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GC extends It{constructor(e,n){super(e,"not-in",n),this.keys=x0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function x0(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class KC extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&su(n.arrayValue,this.value)}}class YC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class QC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class $C extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function wE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new XC(i,e,n,s,o,u,f)}function Cp(i){const e=Ce(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Gm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_o(s)).join(",")),e.Ie=n}return e.Ie}function Ip(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!zC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!I0(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!TE(i.startAt,e.startAt)&&TE(i.endAt,e.endAt)}function Km(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WC(i,e,n,s,o,u,f,m){return new pu(i,e,n,s,o,u,f,m)}function $h(i){return new pu(i)}function bE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function D0(i){return i.collectionGroup!==null}function $l(i){const e=Ce(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Wt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Ah(u,s))}),n.has(Wt.keyField().canonicalString())||e.Ee.push(new Ah(Wt.keyField(),s))}return e.Ee}function Ci(i){const e=Ce(i);return e.de||(e.de=ZC(e,$l(i))),e.de}function ZC(i,e){if(i.limitType==="F")return wE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)});const n=i.endAt?new bh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bh(i.startAt.position,i.startAt.inclusive):null;return wE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ym(i,e){const n=i.filters.concat([e]);return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qm(i,e,n){return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xh(i,e){return Ip(Ci(i),Ci(e))&&i.limitType===e.limitType}function O0(i){return`${Cp(Ci(i))}|lt:${i.limitType}`}function so(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>N0(o)).join(", ")}]`),mu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(Ci(i))}; limitType=${i.limitType})`}function Wh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=EE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,$l(s),o)||s.endAt&&!function(f,m,p){const g=EE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,$l(s),o))}(i,e)}function JC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function k0(i){return(e,n)=>{let s=!1;for(const o of $l(i)){const u=eI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eI(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new mt(Ee.comparator);function mr(){return tI}const M0=new mt(Ee.comparator);function Fl(...i){let e=M0;for(const n of i)e=e.insert(n.key,n);return e}function V0(i){let e=M0;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return Xl()}function P0(){return Xl()}function Xl(){return new ca(i=>i.toString(),(i,e)=>i.isEqual(e))}const nI=new mt(Ee.comparator),iI=new Pt(Ee.comparator);function Le(...i){let e=iI;for(const n of i)e=e.add(n);return e}const rI=new Pt(xe);function sI(){return rI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function L0(i){return{integerValue:""+i}}function aI(i,e){return kC(e)?L0(e):Np(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function oI(i,e,n){return i instanceof Sh?function(o,u){const f={fields:{[v0]:{stringValue:_0},[T0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sp(u)&&(u=Qh(u)),u&&(f.fields[E0]=u),{mapValue:f}}(n,e):i instanceof au?j0(i,e):i instanceof ou?B0(i,e):function(o,u){const f=U0(o,u),m=AE(f)+AE(o.Re);return Fm(f)&&Fm(o.Re)?L0(m):Np(o.serializer,m)}(i,e)}function lI(i,e,n){return i instanceof au?j0(i,e):i instanceof ou?B0(i,e):n}function U0(i,e){return i instanceof Rh?function(s){return Fm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Sh extends Zh{}class au extends Zh{constructor(e){super(),this.elements=e}}function j0(i,e){const n=z0(e);for(const s of i.elements)n.some(o=>xi(o,s))||n.push(s);return{arrayValue:{values:n}}}class ou extends Zh{constructor(e){super(),this.elements=e}}function B0(i,e){let n=z0(e);for(const s of i.elements)n=n.filter(o=>!xi(o,s));return{arrayValue:{values:n}}}class Rh extends Zh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function AE(i){return Tt(i.integerValue||i.doubleValue)}function z0(i){return Rp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function uI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?go(s.elements,o.elements,xi):s instanceof Rh&&o instanceof Rh?xi(s.Re,o.Re):s instanceof Sh&&o instanceof Sh}(i.transform,e.transform)}class cI{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Jh{}function q0(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ef(i.key,Zt.none()):new gu(i.key,i.data,Zt.none());{const n=i.data,s=pn.empty();let o=new Pt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ms(i.key,s,new On(o.toArray()),Zt.none())}}function hI(i,e,n){i instanceof gu?function(o,u,f){const m=o.value.clone(),p=RE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ms?function(o,u,f){if(!uh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=RE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(H0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Wl(i,e,n,s){return i instanceof gu?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=u.value.clone(),E=CE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ms?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=CE(u.fieldTransforms,p,f),E=f.data;return E.setAll(H0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return uh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function fI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=U0(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function SE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,f)=>uI(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends Jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function H0(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function RE(i,e,n){const s=new Map;He(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,lI(f,m,n[o]))}return s}function CE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,oI(u,f,e))}return s}class ef extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F0 extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=P0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=q0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,s)=>SE(n,s))&&go(this.baseMutations,e.baseMutations,(n,s)=>SE(n,s))}}class xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return nI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new xp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function G0(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function K0(i){if(i===void 0)return dr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new ns([4294967295,4294967295],0);function IE(i){const e=d0().encode(i),n=new s0;return n.update(e),new Uint8Array(n.digest())}function NE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ns.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(gI)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=IE(e),[s,o]=NE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=IE(e),[s,o]=NE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tf(Ae.min(),o,new mt(xe),mr(),Le())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class Y0{constructor(e,n){this.targetId=e,this.Ce=n}}class Q0{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class xE{constructor(){this.Fe=0,this.Me=DE(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),n=Le(),s=Le();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new yu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=DE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yI{constructor(e){this.ze=e,this.je=new Map,this.He=mr(),this.Je=eh(),this.Ye=eh(),this.Ze=new mt(xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Km(u))if(s===0){const f=new Ee(u.path);this.tt(n,f,Ht.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=os(s).toUint8Array()}catch(p){if(p instanceof y0)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return po(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Km(m.target)){const p=new Ee(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ht.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Le();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new tf(e,n,this.Ze,this.He,s);return this.He=mr(),this.Je=eh(),this.Ye=eh(),this.Ze=new mt(xe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new xE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Pt(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Pt(xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function eh(){return new mt(Ee.comparator)}function DE(){return new mt(Ee.comparator)}const _I={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EI={and:"AND",or:"OR"};class TI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(i,e){return i.useProto3Json||mu(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $0(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function wI(i,e){return Ch(i,e.toTimestamp())}function Mn(i){return He(!!i,49232),Ae.fromTimestamp(function(n){const s=as(n);return new Vt(s.seconds,s.nanos)}(i))}function Op(i,e){return Xm(i,e).canonicalString()}function Xm(i,e){const n=function(o){return new at(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function X0(i){const e=at.fromString(i);return He(nw(e),10190,{key:e.toString()}),e}function Ih(i,e){return Op(i.databaseId,e.path)}function Zl(i,e){const n=X0(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(Z0(n))}function W0(i,e){return Op(i.databaseId,e)}function bI(i){const e=X0(i);return e.length===4?at.emptyPath():Z0(e)}function Wm(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Z0(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function OE(i,e,n){return{name:Ih(i,e),fields:n.value.mapValue.fields}}function AI(i,e){return"found"in e?function(s,o){He(!!o.found,43571),o.found.name,o.found.updateTime;const u=Zl(s,o.found.name),f=Mn(o.found.updateTime),m=o.found.createTime?Mn(o.found.createTime):Ae.min(),p=new pn({mapValue:{fields:o.found.fields}});return Ht.newFoundDocument(u,f,m,p)}(i,e):"missing"in e?function(s,o){He(!!o.missing,3894),He(!!o.readTime,22933);const u=Zl(s,o.missing),f=Mn(o.readTime);return Ht.newNoDocument(u,f)}(i,e):Te(7234,{result:e})}function SI(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ee.UNKNOWN:K0(g.code);return new de(E,g.message||"")}(f);n=new Q0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zl(i,s.document.name),u=Mn(s.document.updateTime),f=s.document.createTime?Mn(s.document.createTime):Ae.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=Ht.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ch(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zl(i,s.document),u=s.readTime?Mn(s.readTime):Ae.min(),f=Ht.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ch([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zl(i,s.document),u=s.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new pI(o,u),m=s.targetId;n=new Y0(m,f)}}return n}function J0(i,e){let n;if(e instanceof gu)n={update:OE(i,e.key,e.value)};else if(e instanceof ef)n={delete:Ih(i,e.key)};else if(e instanceof ms)n={update:OE(i,e.key,e.data),updateMask:MI(e.fieldMask)};else{if(!(e instanceof F0))return Te(16599,{ft:e.type});n={verify:Ih(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function RI(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?Mn(o.updateTime):Mn(u);return f.isEqual(Ae.min())&&(f=Mn(u)),new cI(f,o.transformResults||[])}(n,e))):[]}function CI(i,e){return{documents:[W0(i,e.path)]}}function II(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=W0(i,o);const u=function(g){if(g.length!==0)return tw(ii.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:ao(w.field),direction:DI(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=$m(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function NI(i){let e=bI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=ew(A);return w instanceof ii&&C0(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(x){return new Ah(oo(x.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,mu(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,O=A.values||[];return new bh(O,w)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const w=!A.before,O=A.values||[];return new bh(O,w)}(n.endAt)),WC(e,o,f,u,m,"F",p,g)}function xI(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ew(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return It.create(oo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ii.create(n.compositeFilter.filters.map(s=>ew(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function DI(i){return _I[i]}function OI(i){return vI[i]}function kI(i){return EI[i]}function ao(i){return{fieldPath:i.canonicalString()}}function oo(i){return Wt.fromServerFormat(i.fieldPath)}function tw(i){return i instanceof It?function(n){if(n.op==="=="){if(vE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:OI(n.op),value:n.value}}}(i):i instanceof ii?function(n){const s=n.getFilters().map(o=>tw(o));return s.length===1?s[0]:{compositeFilter:{op:kI(n.op),filters:s}}}(i):Te(54877,{filter:i})}function MI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.wt=e}}function PI(i){const e=NI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.Cn=new UI}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ss.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class UI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iw=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(iw,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vo(0)}static lr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",jI=1048576;function VE([i,e],[n,s]){const o=xe(i,n);return o===0?xe(e,s):o}class BI{constructor(e){this.Er=e,this.buffer=new Pt(VE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(ME,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?me(ME,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.mr(3e5)})}}class qI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Yh.le);const s=new BI(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(kE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),ro()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function HI(i,e){return new qI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Wl(s.mutation,o,On.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=mr();const f=Xl(),m=function(){return Xl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ms)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),Vt.now())):f.set(g.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new GI(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new mt((f,m)=>f-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||On.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=P0();E.forEach(w=>{if(!u.has(w)){const O=q0(n.get(w),s.get(w));O!==null&&A.set(w,O),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return re.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(Zs());let m=nu,p=u;return f.next(g=>re.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:V0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>re.forEach(m,p=>{const g=function(A,w){return new pu(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Ht.newInvalidDocument(E)))});let m=Fl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,On.empty(),Vt.now()),Wh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return re.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Mn(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:PI(o.bundledQuery),readTime:Mn(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.overlays=new mt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return re.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mI(n,s));let u=this.Qr.get(n);u===void 0&&(u=Le(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.$r=new Pt(qt.Ur),this.Kr=new Pt(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new qt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new qt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ee(new at([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new at([])),s=new qt(n,e),o=new qt(n,e+1);let u=Le();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new qt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||xe(e.Zr,n.Zr)}static Wr(e,n){return xe(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Pt(qt.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ap:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(xe);return n.forEach(o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),re.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new qt(new Ee(u),0);let m=new Pt(xe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),re.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return re.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Xr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.ii=e,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ht.newInvalidDocument(o))}),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||NC(IC(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}si(e,n){return re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ZI(this)}getSize(e){return re.resolve(this.size)}}class ZI extends FI{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),re.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.persistence=e,this.oi=new ca(n=>Cp(n),Ip),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new kp,this.targetCount=0,this.ui=vo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),re.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new vo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Tr(n),re.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.ci={},this.overlays={},this.li=new Yh(0),this.hi=!1,this.hi=!0,this.Pi=new $I,this.referenceDelegate=e(this),this.Ti=new JI(this),this.indexManager=new LI,this.remoteDocumentCache=function(o){return new WI(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new VI(n),this.Ei=new YI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new XI(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new eN(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return re.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class eN extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Vi=new kp,this.mi=null}static fi(e){return new Mp(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,s=>{const o=Ee.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return re.or([()=>re.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.yi=new ca(s=>MC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=HI(this,n)}static fi(e,n){return new Nh(e,n)}di(){}Ai(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return re.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?re.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}Dr(e,n,s){return re.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return eR()?8:OC(un())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new tN;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(ro()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(ro()<=Pe.DEBUG&&me("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(ro()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):re.resolve())}ws(e,n){if(bE(n))return re.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Qm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return bE(n)||o.isEqual(Ae.min())?re.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?re.resolve(null):(ro()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.Fs(e,f,n,CC(o,nu)).next(m=>m))})}vs(e,n){let s=new Pt(k0(e));return n.forEach((o,u)=>{Wh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ro()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",so(n)),this.ys.getDocumentsMatchingQuery(e,n,ss.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",iN=3e8;class rN{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new mt(xe),this.Os=new ca(u=>Cp(u),Ip),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function sN(i,e,n,s){return new rN(i,e,n,s)}async function sw(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function aN(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,w=A.keys();let O=re.resolve();return w.forEach(x=>{O=O.next(()=>E.getEntry(p,x)).next(z=>{const B=g.docVersions.get(x);He(B!==null,48541),z.version.compareTo(B)<0&&(A.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function aw(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function oN(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,A)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(A,O),function(z,B,K){return z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=iN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,O,E)&&m.push(n.Ti.updateTargetData(u,O))});let p=mr(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(lN(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Ae.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return re.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function lN(i,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=mr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(Pp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function uN(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cN(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,re.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Zm(i,e,n){const s=Ce(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Co(f))throw f;me(Pp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function PE(i,e,n){const s=Ce(i);let o=Ae.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Ce(p),w=A.Os.get(E);return w!==void 0?re.resolve(A.xs.get(w)):A.Ti.getTargetData(g,E)}(s,f,Ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Le())).next(m=>(hN(s,JC(e),m),{documents:m,$s:u})))}function hN(i,e,n){let s=i.Ns.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class LE{constructor(){this.activeTargetIds=sI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.xo=new LE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new LE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class jE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(UE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Jm(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Jm(),m=this.jo(e,n.toUriEncodedString());me(Cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=fs(g);return this.Jo(e,m,p,s,E).then(A=>(me(Cm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw po(Cm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=mN[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class yN extends pN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Jm();return new Promise((m,p)=>{const g=new a0;g.setWithCredentials(!0),g.listenOnce(o0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ah.NO_ERROR:const A=g.getResponseJson();me(on,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case ah.TIMEOUT:me(on,`RPC '${e}' ${f} timed out`),p(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const w=g.getStatus();if(me(on,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const x=O==null?void 0:O.error;if(x&&x.status&&x.message){const z=function(K){const X=K.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN}(x.status);p(new de(z,x.message))}else p(new de(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{me(on,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);me(on,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=Jm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=c0(),m=u0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");me(on,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.E_(A);let w=!1,O=!1;const x=new gN({Zo:B=>{O?me(on,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(w||(me(on,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),me(on,`RPC '${e}' stream ${o} sending:`,B),A.send(B))},Xo:()=>A.close()}),z=(B,K,X)=>{B.listen(K,W=>{try{X(W)}catch(ne){setTimeout(()=>{throw ne},0)}})};return z(A,Hl.EventType.OPEN,()=>{O||(me(on,`RPC '${e}' stream ${o} transport opened.`),x.__())}),z(A,Hl.EventType.CLOSE,()=>{O||(O=!0,me(on,`RPC '${e}' stream ${o} transport closed`),x.u_(),this.d_(A))}),z(A,Hl.EventType.ERROR,B=>{O||(O=!0,po(on,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),x.u_(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),z(A,Hl.EventType.MESSAGE,B=>{var K;if(!O){const X=B.data[0];He(!!X,16349);const W=X,ne=(W==null?void 0:W.error)||((K=W[0])===null||K===void 0?void 0:K.error);if(ne){me(on,`RPC '${e}' stream ${o} received error:`,ne);const se=ne.status;let fe=function(C){const M=Ct[C];if(M!==void 0)return K0(M)}(se),D=ne.message;fe===void 0&&(fe=ee.INTERNAL,D="Unknown error status: "+se+" with message "+ne.message),O=!0,x.u_(new de(fe,D)),A.close()}else me(on,`RPC '${e}' stream ${o} received:`,X),x.c_(X)}}),z(m,l0.STAT_EVENT,B=>{B.stat===zm.PROXY?me(on,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===zm.NOPROXY&&me(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(i){return new TI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class ow{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Lp(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(me(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _N extends ow{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=SI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Mn(f.readTime):Ae.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Km(p)?{documents:CI(u,p)}:{query:II(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=$0(u,f.resumeToken);const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Ch(u,f.snapshotVersion.toTimestamp());const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=xI(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.Q_(n)}}class vN extends ow{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=RI(e.writeResults,e.commitTime),s=Mn(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Wm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>J0(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{}class TN extends EN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Xm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Xm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ee.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class wN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(dr(n),this.ua=!1):me("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class bN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{ha(this)&&(me(ra,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.da.add(4),await _u(g),g.Va.set("Unknown"),g.da.delete(4),await rf(g)}(this))})}),this.Va=new wN(s,o)}}async function rf(i){if(ha(i))for(const e of i.Aa)await e(!0)}async function _u(i){for(const e of i.Aa)await e(!1)}function lw(i,e){const n=Ce(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),zp(n)?Bp(n):Io(n).N_()&&jp(n,e))}function Up(i,e){const n=Ce(i),s=Io(n);n.Ea.delete(e),s.N_()&&uw(n,e),n.Ea.size===0&&(s.N_()?s.k_():ha(n)&&n.Va.set("Unknown"))}function jp(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(i).Z_(e)}function uw(i,e){i.ma.Ke(e),Io(i).X_(e)}function Bp(i){i.ma=new yI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Io(i).start(),i.Va.ca()}function zp(i){return ha(i)&&!Io(i).O_()&&i.Ea.size>0}function ha(i){return Ce(i).da.size===0}function cw(i){i.ma=void 0}async function AN(i){i.Va.set("Online")}async function SN(i){i.Ea.forEach((e,n)=>{jp(i,e)})}async function RN(i,e){cw(i),zp(i)?(i.Va.Pa(e),Bp(i)):i.Va.set("Unknown")}async function CN(i,e,n){if(i.Va.set("Online"),e instanceof Q0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(s){me(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(i,s)}else if(e instanceof ch?i.ma.Xe(e):e instanceof Y0?i.ma.ot(e):i.ma.nt(e),!n.isEqual(Ae.min()))try{const s=await aw(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),uw(u,p);const A=new Zr(E.target,p,g,E.sequenceNumber);jp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){me(ra,"Failed to raise snapshot:",s),await xh(i,s)}}async function xh(i,e,n){if(!Co(e))throw e;i.da.add(1),await _u(i),i.Va.set("Offline"),n||(n=()=>aw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(ra,"Retrying IndexedDB access"),await n(),i.da.delete(1),await rf(i)})}function hw(i,e){return e().catch(n=>xh(i,n,e))}async function sf(i){const e=Ce(i),n=us(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ap;for(;IN(e);)try{const o=await uN(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,NN(e,o)}catch(o){await xh(e,o)}fw(e)&&dw(e)}function IN(i){return ha(i)&&i.Ia.length<10}function NN(i,e){i.Ia.push(e);const n=us(i);n.N_()&&n.ea&&n.ta(e.mutations)}function fw(i){return ha(i)&&!us(i).O_()&&i.Ia.length>0}function dw(i){us(i).start()}async function xN(i){us(i).ia()}async function DN(i){const e=us(i);for(const n of i.Ia)e.ta(n.mutations)}async function ON(i,e,n){const s=i.Ia.shift(),o=xp.from(s,e,n);await hw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await sf(i)}async function kN(i,e){e&&us(i).ea&&await async function(s,o){if(function(f){return G0(f)&&f!==ee.ABORTED}(o.code)){const u=s.Ia.shift();us(s).L_(),await hw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await sf(s)}}(i,e),fw(i)&&dw(i)}async function zE(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),me(ra,"RemoteStore received new credentials");const s=ha(n);n.da.add(3),await _u(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await rf(n)}async function MN(i,e){const n=Ce(i);e?(n.da.delete(2),await rf(n)):e||(n.da.add(2),await _u(n),n.Va.set("Unknown"))}function Io(i){return i.fa||(i.fa=function(n,s,o){const u=Ce(n);return u.oa(),new _N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:AN.bind(null,i),n_:SN.bind(null,i),i_:RN.bind(null,i),Y_:CN.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),zp(i)?Bp(i):i.Va.set("Unknown")):(await i.fa.stop(),cw(i))})),i.fa}function us(i){return i.ga||(i.ga=function(n,s,o){const u=Ce(n);return u.oa(),new vN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:xN.bind(null,i),i_:kN.bind(null,i),na:DN.bind(null,i),ra:ON.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await sf(i)):(await i.ga.stop(),i.Ia.length>0&&(me(ra,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new qp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(i,e){if(dr("AsyncQueue",`${e}: ${i}`),Co(i))return new de(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.pa=new mt(Ee.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Eo(e,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class PN{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=HE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function HE(){return new ca(i=>O0(i),Xh)}async function Fp(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new VN,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hp(f,`Initialization of query '${so(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Kp(n)}async function Gp(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LN(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&Kp(n)}function UN(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Kp(i){i.Ca.forEach(e=>{e.next()})}var ep,FE;(FE=ep||(ep={})).xa="default",FE.Cache="cache";class Yp{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.key=e}}class pw{constructor(e){this.key=e}}class jN{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.Za=k0(e),this.Xa=new co(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new qE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const w=o.get(E),O=Wh(this.query,A)?A:null,x=!!w&&this.mutatedKeys.has(w.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;w&&O?w.data.isEqual(O.data)?x!==z&&(s.track({type:3,doc:O}),B=!0):this.ru(w,O)||(s.track({type:2,doc:O}),B=!0,(p&&this.Za(O,p)>0||g&&this.Za(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),B=!0):w&&!O&&(s.track({type:1,doc:w}),B=!0,(p||g)&&(m=!0)),B&&(O?(f=f.add(O),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,A)=>function(O,x){const z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:B})}};return z(O)-z(x)}(E.type,A.type)||this.Za(E.doc,A.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new Eo(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new qE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new pw(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new mw(s))}),n}au(e){this.Ha=e.$s,this.Ya=Le();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Eo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qp="SyncEngine";class BN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class zN{constructor(e){this.key=e,this.cu=!1}}class qN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new ca(m=>O0(m),Xh),this.Pu=new Map,this.Tu=new Set,this.Iu=new mt(Ee.comparator),this.Eu=new Map,this.du=new kp,this.Au={},this.Ru=new Map,this.Vu=vo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function HN(i,e,n=!0){const s=Tw(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await gw(s,e,n,!0),o}async function FN(i,e){const n=Tw(i);await gw(n,e,!0,!1)}async function gw(i,e,n,s){const o=await cN(i.localStore,Ci(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await GN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&lw(i.remoteStore,o),m}async function GN(i,e,n,s,o){i.fu=(A,w,O)=>async function(z,B,K,X){let W=B.view.tu(K);W.Cs&&(W=await PE(z.localStore,B.query,!1).then(({documents:D})=>B.view.tu(D,W)));const ne=X&&X.targetChanges.get(B.targetId),se=X&&X.targetMismatches.get(B.targetId)!=null,fe=B.view.applyChanges(W,z.isPrimaryClient,ne,se);return KE(z,B.targetId,fe.ou),fe.snapshot}(i,A,w,O);const u=await PE(i.localStore,e,!0),f=new jN(e,u.$s),m=f.tu(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);KE(i,n,g.ou);const E=new BN(e,n,f);return i.hu.set(e,E),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),g.snapshot}async function KN(i,e,n){const s=Ce(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Xh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Up(s.remoteStore,o.targetId),tp(s,o.targetId)}).catch(Ro)):(tp(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function YN(i,e){const n=Ce(i),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Up(n.remoteStore,s.targetId))}async function QN(i,e,n){const s=tx(i);try{const o=await function(f,m){const p=Ce(f),g=Vt.now(),E=m.reduce((O,x)=>O.add(x.key),Le());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let x=mr(),z=Le();return p.Bs.getEntries(O,E).next(B=>{x=B,x.forEach((K,X)=>{X.isValidDocument()||(z=z.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,x)).next(B=>{A=B;const K=[];for(const X of m){const W=fI(X,A.get(X.key).overlayedDocument);W!=null&&K.push(new ms(X.key,W,A0(W.value.mapValue),Zt.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,K,m)}).next(B=>{w=B;const K=B.applyToLocalDocumentSet(A,z);return p.documentOverlayCache.saveOverlays(O,B.batchId,K)})}).then(()=>({batchId:w.batchId,changes:V0(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new mt(xe)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await vu(s,o.changes),await sf(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function yw(i,e){const n=Ce(i);try{const s=await oN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?He(f.cu,14607):o.removedDocuments.size>0&&(He(f.cu,42227),f.cu=!1))}),await vu(n,s,e)}catch(s){await Ro(s)}}function GE(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const w of A.Sa)w.Fa(m)&&(g=!0)}),g&&Kp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $N(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new mt(Ee.comparator);f=f.insert(u,Ht.newNoDocument(u,Ae.min()));const m=Le().add(u),p=new tf(Ae.min(),new Map,new mt(xe),f,m);await yw(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),$p(s)}else await Zm(s.localStore,e,!1).then(()=>tp(s,e,n)).catch(Ro)}async function XN(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await aN(n.localStore,e);vw(n,s,null),_w(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await Ro(o)}}async function WN(i,e,n){const s=Ce(i);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(He(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);vw(s,e,n),_w(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await Ro(o)}}function _w(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function vw(i,e,n){const s=Ce(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function tp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||Ew(i,s)})}function Ew(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(Up(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),$p(i))}function KE(i,e,n){for(const s of n)s instanceof mw?(i.du.addReference(s.key,e),ZN(i,s)):s instanceof pw?(me(Qp,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||Ew(i,s.key)):Te(19791,{pu:s})}function ZN(i,e){const n=e.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(me(Qp,"New document in limbo: "+n),i.Tu.add(s),$p(i))}function $p(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new Ee(at.fromString(e)),s=i.Vu.next();i.Eu.set(s,new zN(n)),i.Iu=i.Iu.insert(n,s),lw(i.remoteStore,new Zr(Ci($h(n.path)),s,"TargetPurposeLimboResolution",Yh.le))}}async function vu(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Vp.Rs(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>re.forEach(g,w=>re.forEach(w.ds,O=>E.persistence.referenceDelegate.addReference(A,w.targetId,O)).next(()=>re.forEach(w.As,O=>E.persistence.referenceDelegate.removeReference(A,w.targetId,O)))))}catch(A){if(!Co(A))throw A;me(Pp,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const O=E.xs.get(w),x=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(x);E.xs=E.xs.insert(w,z)}}}(s.localStore,u))}async function JN(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){me(Qp,"User change. New user:",e.toKey());const s=await sw(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new de(ee.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.ks)}}function ex(i,e){const n=Ce(i),s=n.Eu.get(e);if(s&&s.cu)return Le().add(s.key);{let o=Le();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function Tw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ex.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$N.bind(null,e),e.lu.Y_=LN.bind(null,e.eventManager),e.lu.gu=UN.bind(null,e.eventManager),e}function tx(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WN.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return sN(this.persistence,new nN,e.initialUser,this.serializer)}Su(e){return new rw(Mp.fi,this.serializer)}bu(e){return new fN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class nx extends Dh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){He(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zI(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new rw(s=>Nh.fi(s,n),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JN.bind(null,this.syncEngine),await MN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PN}()}createDatastore(e){const n=nf(e.databaseInfo.databaseId),s=function(u){return new yN(u)}(e.databaseInfo);return function(u,f,m,p){return new TN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new bN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>GE(this.syncEngine,n,0),function(){return jE.C()?new jE:new dN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new qN(o,u,f,m,p,g);return E&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);me(ra,"RemoteStore shutting down."),u.da.add(5),await _u(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(o,u){const f=Ce(o),m={documents:u.map(A=>Ih(f.serializer,A))},p=await f.Yo("BatchGetDocuments",f.serializer.databaseId,at.emptyPath(),m,u.length),g=new Map;p.forEach(A=>{const w=AI(f.serializer,A);g.set(w.key.toString(),w)});const E=[];return u.forEach(A=>{const w=g.get(A.toString());He(!!w,55234,{key:A}),E.push(w)}),E}(this.datastore,e);return n.forEach(s=>this.recordVersion(s)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ef(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,s)=>{const o=Ee.fromPath(s);this.mutations.push(new F0(o,this.precondition(o)))}),await async function(s,o){const u=Ce(s),f={writes:o.map(m=>J0(u.serializer,m))};await u.zo("Commit",u.serializer.databaseId,at.emptyPath(),f)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te(50498,{Uu:e.constructor.name});n=Ae.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new de(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ae.min())?Zt.exists(!1):Zt.updateTime(n):Zt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ae.min()))throw new de(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(n)}return Zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Ku=s.maxAttempts,this.x_=new Lp(this.asyncQueue,"transaction_retry")}Wu(){this.Ku-=1,this.Gu()}Gu(){this.x_.y_(async()=>{const e=new ix(this.datastore),n=this.zu(e);n&&n.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(o=>{this.ju(o)}))}).catch(s=>{this.ju(s)})})}zu(e){try{const n=this.updateFunction(e);return!mu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ju(e){this.Ku>0&&this.Hu(e)?(this.Ku-=1,this.asyncQueue.enqueueAndForget(()=>(this.Gu(),Promise.resolve()))):this.deferred.reject(e)}Hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!G0(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class sx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me(cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me(cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress(),me(cs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await sw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function YE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await ax(i);me(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>zE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>zE(e.remoteStore,o)),i._onlineComponents=e}async function ax(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(cs,"Using user provided OfflineComponentProvider");try{await Nm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Nm(i,new Dh)}}else me(cs,"Using default OfflineComponentProvider"),await Nm(i,new nx(void 0));return i._offlineComponents}async function Wp(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(cs,"Using user provided OnlineComponentProvider"),await YE(i,i._uninitializedComponentsProvider._online)):(me(cs,"Using default OnlineComponentProvider"),await YE(i,new np))),i._onlineComponents}function ox(i){return Wp(i).then(e=>e.syncEngine)}function lx(i){return Wp(i).then(e=>e.datastore)}async function Oh(i){const e=await Wp(i),n=e.eventManager;return n.onListen=HN.bind(null,e.syncEngine),n.onUnlisten=KN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YN.bind(null,e.syncEngine),n}function ux(i,e,n={}){const s=new Ri;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Xp({next:w=>{E.xu(),f.enqueueAndForget(()=>Gp(u,A));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new Yp($h(m.path),E,{includeMetadataChanges:!0,Qa:!0});return Fp(u,A)}(await Oh(i),i.asyncQueue,e,n,s)),s.promise}function cx(i,e,n={}){const s=new Ri;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Xp({next:w=>{E.xu(),f.enqueueAndForget(()=>Gp(u,A)),w.fromCache&&p.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new Yp(m,E,{includeMetadataChanges:!0,Qa:!0});return Fp(u,A)}(await Oh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hx(i,e,n,s){if(e===!0&&s===!0)throw new de(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function $E(i){if(!Ee.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function XE(i){if(Ee.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function af(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function gn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(i);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firestore.googleapis.com",WE=!0;class ZE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Aw,this.ssl=WE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:WE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jI)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ww((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _C;switch(s.type){case"firstParty":return new wC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=QE.get(n);s&&(me("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())}(this),Promise.resolve()}}function fx(i,e,n,s={}){var o;i=gn(i,of);const u=fs(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(_p(`https://${p}`),vp("Firestore",!0)),f.host!==Aw&&f.host!==p&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!ta(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=ln.MOCK_USER;else{E=JT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ln(w)}i._authCredentials=new vC(new f0(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class is extends fa{constructor(e,n,s){super(e,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Ee(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function lu(i,e,...n){if(i=ut(i),bw("collection","path",e),i instanceof of){const s=at.fromString(e,...n);return XE(s),new is(i,null,s)}{if(!(i instanceof Jt||i instanceof is))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return XE(s),new is(i.firestore,null,s)}}function kn(i,e,...n){if(i=ut(i),arguments.length===1&&(e=m0.newId()),bw("doc","path",e),i instanceof of){const s=at.fromString(e,...n);return $E(s),new Jt(i,null,new Ee(s))}{if(!(i instanceof Jt||i instanceof is))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return $E(s),new Jt(i.firestore,i instanceof is?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class eT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Lp(this,"async_queue_retry"),this.rc=()=>{const s=Im();s&&me(JE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ri;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Co(e))throw e;me(JE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,dr("INTERNAL UNHANDLED ERROR: ",tT(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Te(47125,{cc:tT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function tT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Di extends of{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new eT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eT(e),this._firestoreClient=void 0,await e}}}function dx(i,e){const n=typeof i=="object"?i:wp(),s=typeof i=="string"?i:Th,o=Kh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XT("firestore");u&&fx(o,...u)}return o}function Eu(i){if(i._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||mx(i),i._firestoreClient}function mx(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new LC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ww(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new sx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(en.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sa(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^__.*__$/;class gx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class Sw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Rw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:i})}}class tg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Rw(this.Ic)&&px.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class yx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nf(e)}bc(e,n,s,o=!1){return new tg({Ic:e,methodName:n,wc:s,path:Wt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(i){const e=i._freezeSettings(),n=nf(i._databaseId);return new yx(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ng(i,e,n,s,o,u={}){const f=i.bc(u.merge||u.mergeFields?2:0,e,n,o);ig("Data must be an object, but it was:",f,s);const m=Nw(s,f);let p,g;if(u.merge)p=new On(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=ip(e,A,n);if(!f.contains(w))throw new de(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Dw(E,w)||E.push(w)}p=new On(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new gx(new pn(m),p,g)}class lf extends Zp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function Cw(i,e,n,s){const o=i.bc(1,e,n);ig("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();ds(s,(p,g)=>{const E=rg(e,p,n);g=ut(g);const A=o.mc(E);if(g instanceof lf)u.push(E);else{const w=bu(g,A);w!=null&&(u.push(E),f.set(E,w))}});const m=new On(u);return new Sw(f,m,o.fieldTransforms)}function Iw(i,e,n,s,o,u){const f=i.bc(1,e,n),m=[ip(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ip(e,u[w])),p.push(u[w+1]);const g=[],E=pn.empty();for(let w=m.length-1;w>=0;--w)if(!Dw(g,m[w])){const O=m[w];let x=p[w];x=ut(x);const z=f.mc(O);if(x instanceof lf)g.push(O);else{const B=bu(x,z);B!=null&&(g.push(O),E.set(O,B))}}const A=new On(g);return new Sw(E,A,f.fieldTransforms)}function _x(i,e,n,s=!1){return bu(n,i.bc(s?4:3,e))}function bu(i,e){if(xw(i=ut(i)))return ig("Unsupported field value:",e,i),Nw(i,e);if(i instanceof Zp)return function(s,o){if(!Rw(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=bu(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Jp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof sa)return{bytesValue:$0(o.serializer,s._byteString)};if(s instanceof Jt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof eg)return function(f,m){return{mapValue:{fields:{[w0]:{stringValue:b0},[wh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Np(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${af(s)}`)}(i,e)}function Nw(i,e){const n={};return g0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(i,(s,o)=>{const u=bu(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function xw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Vt||i instanceof Jp||i instanceof sa||i instanceof Jt||i instanceof Zp||i instanceof eg)}function ig(i,e,n){if(!xw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=af(n);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function ip(i,e,n){if((e=ut(e))instanceof Tu)return e._internalPath;if(typeof e=="string")return rg(i,e);throw kh("Field path arguments must be of type string or ",i,!1,void 0,n)}const vx=new RegExp("[~\\*/\\[\\]]");function rg(i,e,n){if(e.search(vx)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function kh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(ee.INVALID_ARGUMENT,m+i+p)}function Dw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ex extends Mh{data(){return super.data()}}function sg(i,e){return typeof e=="string"?rg(i,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class Tx extends ag{}function kw(i,e,...n){let s=[];e instanceof ag&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof og).length,m=u.filter(p=>p instanceof uf).length;if(f>1||f>0&&m>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class uf extends Tx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new uf(e,n,s)}_apply(e){const n=this._parse(e);return Vw(e._query,n),new fa(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=wu(e.firestore);return function(u,f,m,p,g,E,A){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){rT(A,E);const x=[];for(const z of A)x.push(iT(p,u,z));w={arrayValue:{values:x}}}else w=iT(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||rT(A,E),w=_x(m,f,A,E==="in"||E==="not-in");return It.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mw(i,e,n){const s=e,o=sg("where",i);return uf._create(o,s,n)}class og extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Vw(f,p),f=Ym(f,p)}(e._query,n),new fa(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iT(i,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D0(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!Ee.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yE(i,new Ee(s))}if(n instanceof Jt)return yE(i,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function rT(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pw{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ds(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[wh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Tt(f.doubleValue));return new eg(u)}convertGeoPoint(e){return new Jp(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=as(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);He(nw(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class wx extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ug extends Mh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class hh extends ug{data(e={}){return super.data(e)}}class Lw{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new hh(this._firestore,this._userDataWriter,s.key,s,new lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:bx(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i){i=gn(i,Jt);const e=gn(i.firestore,Di);return ux(Eu(e),i._key).then(n=>jw(e,i,n))}class cf extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Ax(i){i=gn(i,fa);const e=gn(i.firestore,Di),n=Eu(e),s=new cf(e);return Ow(i._query),cx(n,i._query).then(o=>new Lw(e,s,i,o))}function Uw(i,e,n){i=gn(i,Jt);const s=gn(i.firestore,Di),o=lg(i.converter,e,n);return hf(s,[ng(wu(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Zt.none())])}function Jr(i,e,n,...s){i=gn(i,Jt);const o=gn(i.firestore,Di),u=wu(o);let f;return f=typeof(e=ut(e))=="string"||e instanceof Tu?Iw(u,"updateDoc",i._key,e,n,s):Cw(u,"updateDoc",i._key,e),hf(o,[f.toMutation(i._key,Zt.exists(!0))])}function Sx(i){return hf(gn(i.firestore,Di),[new ef(i._key,Zt.none())])}function Rx(i,e){const n=gn(i.firestore,Di),s=kn(i),o=lg(i.converter,e);return hf(n,[ng(wu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Zt.exists(!1))]).then(()=>s)}function rp(i,...e){var n,s,o;i=ut(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||nT(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(nT(e[f])){const A=e[f];e[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,g,E;if(i instanceof Jt)g=gn(i.firestore,Di),E=$h(i._key.path),p={next:A=>{e[f]&&e[f](jw(g,i,A))},error:e[f+1],complete:e[f+2]};else{const A=gn(i,fa);g=gn(A.firestore,Di),E=A._query;const w=new cf(g);p={next:O=>{e[f]&&e[f](new Lw(g,w,A,O))},error:e[f+1],complete:e[f+2]},Ow(i._query)}return function(w,O,x,z){const B=new Xp(z),K=new Yp(O,B,x);return w.asyncQueue.enqueueAndForget(async()=>Fp(await Oh(w),K)),()=>{B.xu(),w.asyncQueue.enqueueAndForget(async()=>Gp(await Oh(w),K))}}(Eu(g),E,m,p)}function hf(i,e){return function(s,o){const u=new Ri;return s.asyncQueue.enqueueAndForget(async()=>QN(await ox(s),o,u)),u.promise}(Eu(i),e)}function jw(i,e,n){const s=n.docs.get(e._key),o=new cf(i);return new ug(i,o,e._key,s,new lo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={maxAttempts:5};function Kl(i,e){if((i=ut(i)).firestore!==e)throw new de(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=wu(e)}get(e){const n=Kl(e,this._firestore),s=new wx(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return Te(24041);const u=o[0];if(u.isFoundDocument())return new Mh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Mh(this._firestore,s,n._key,null,n.converter);throw Te(18433,{doc:u})})}set(e,n,s){const o=Kl(e,this._firestore),u=lg(o.converter,n,s),f=ng(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Kl(e,this._firestore);let f;return f=typeof(n=ut(n))=="string"||n instanceof Tu?Iw(this._dataReader,"Transaction.update",u._key,n,s,o):Cw(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Kl(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends Ix{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Kl(e,this._firestore),s=new cf(this._firestore);return super.get(e).then(o=>new ug(this._firestore,s,n._key,o._document,new lo(!1,!1),n.converter))}}function xx(i,e,n){i=gn(i,Di);const s=Object.assign(Object.assign({},Cx),n);return function(u){if(u.maxAttempts<1)throw new de(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,f,m){const p=new Ri;return u.asyncQueue.enqueueAndForget(async()=>{const g=await lx(u);new rx(u.asyncQueue,g,m,f,p).Wu()}),p.promise}(Eu(i),o=>e(new Nx(i,o)),s)}(function(e,n=!0){(function(o){So=o})(ua),na(new rs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Di(new EC(s.getProvider("auth-internal")),new bC(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Si(sE,aE,e),Si(sE,aE,"esm2017")})();var Dx="firebase",Ox="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(Dx,Ox,"app");function cg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kx=Bw,zw=new fu("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Ep("@firebase/auth");function Mx(i,...e){Ph.logLevel<=Pe.WARN&&Ph.warn(`Auth (${ua}): ${i}`,...e)}function fh(i,...e){Ph.logLevel<=Pe.ERROR&&Ph.error(`Auth (${ua}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(i,...e){throw hg(i,...e)}function Ii(i,...e){return hg(i,...e)}function qw(i,e,n){const s=Object.assign(Object.assign({},kx()),{[e]:n});return new fu("auth","Firebase",s).create(e,{appName:i.name})}function cr(i){return qw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return zw.create(i,...e)}function Se(i,e,...n){if(!i)throw hg(e,...n)}function or(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fh(e),new Error(e)}function pr(i,e){i||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Vx(){return sT()==="http:"||sT()==="https:"}function sT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vx()||W1()||"connection"in navigator)?navigator.onLine:!0}function Lx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=Q1()||Z1()}get(){return Px()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(i,e){pr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bx=new Au(3e4,6e4);function yr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Mi(i,e,n,s,o={}){return Fw(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=du(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return X1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&fs(i.emulatorConfig.host)&&(g.credentials="include"),Hw.fetch()(await Gw(i,i.config.apiHost,n,m),g)})}async function Fw(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Ux),e);try{const o=new qx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qw(i,E,g);ri(i,E)}}catch(o){if(o instanceof ki)throw o;ri(i,"network-request-failed",{message:String(o)})}}async function Su(i,e,n,s,o={}){const u=await Mi(i,e,n,s,o);return"mfaPendingCredential"in u&&ri(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Gw(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?fg(i.config,o):`${i.config.apiScheme}://${o}`;return jx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function zx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),Bx.get())})}}function nh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(i,e,s);return o.customData._tokenResponse=n,o}function aT(i){return i!==void 0&&i.enterprise!==void 0}class Hx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fx(i,e){return Mi(i,"GET","/v2/recaptchaConfig",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(i,e){return Mi(i,"POST","/v1/accounts:delete",e)}async function Lh(i,e){return Mi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kx(i,e=!1){const n=ut(i),s=await n.getIdToken(e),o=dg(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(xm(o.auth_time)),issuedAtTime:Jl(xm(o.iat)),expirationTime:Jl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(i){return Number(i)*1e3}function dg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=QT(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function oT(i){const e=dg(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ki&&Yx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Yx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await To(i,Lh(n,{idToken:s}));Se(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Kw(u.providerUserInfo):[],m=Xx(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ap(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function $x(i){const e=ut(i);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Kw(i){return i.map(e=>{var{providerId:n}=e,s=cg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(i,e){const n=await Fw(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Gw(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&fs(i.emulatorConfig.host)&&(p.credentials="include"),Hw.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zx(i,e){return Mi(i,"POST","/v2/accounts:revokeToken",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=oT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Wx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=cg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ap(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await To(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kx(this,e)}reload(){return $x(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await To(this,Gx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=n.photoURL)!==null&&f!==void 0?f:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,X=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:W,emailVerified:ne,isAnonymous:se,providerData:fe,stsTokenManager:D}=n;Se(W&&D,e,"internal-error");const R=ho.fromJSON(this.name,D);Se(typeof W=="string",e,"internal-error"),Kr(A,e.name),Kr(w,e.name),Se(typeof ne=="boolean",e,"internal-error"),Se(typeof se=="boolean",e,"internal-error"),Kr(O,e.name),Kr(x,e.name),Kr(z,e.name),Kr(B,e.name),Kr(K,e.name),Kr(X,e.name);const C=new ti({uid:W,auth:e,email:w,emailVerified:ne,displayName:A,isAnonymous:se,photoURL:x,phoneNumber:O,tenantId:z,stsTokenManager:R,createdAt:K,lastLoginAt:X});return fe&&Array.isArray(fe)&&(C.providerData=fe.map(M=>Object.assign({},M))),B&&(C._redirectEventId=B),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Kw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ho;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;function lr(i){pr(i instanceof Function,"Expected a class definition");let e=lT.get(i);return e?(pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,lT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yw.type="NONE";const uT=Yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(i,e,n){return`firebase:${i}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(lr(uT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(uT);const f=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const w=await Lh(e,{idToken:E}).catch(()=>{});if(!w)break;A=await ti._fromGetAccountInfoResponse(e,w,E)}else A=ti._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jw(e))return"Blackberry";if(eb(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||Xw(e))&&!e.includes("edge/"))return"Chrome";if(Zw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Qw(i=un()){return/firefox\//i.test(i)}function $w(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xw(i=un()){return/crios\//i.test(i)}function Ww(i=un()){return/iemobile/i.test(i)}function Zw(i=un()){return/android/i.test(i)}function Jw(i=un()){return/blackberry/i.test(i)}function eb(i=un()){return/webos/i.test(i)}function mg(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Jx(i=un()){var e;return mg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e2(){return J1()&&document.documentMode===10}function tb(i=un()){return mg(i)||Zw(i)||eb(i)||Jw(i)||/windows phone/i.test(i)||Ww(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(i,e=[]){let n;switch(i){case"Browser":n=cT(un());break;case"Worker":n=`${cT(un())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,e={}){return Mi(i,"GET","/v2/passwordPolicy",yr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=6;class r2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:i2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hT(this),this.idTokenSubscription=new hT(this),this.beforeStateQueue=new t2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(cr(this));const n=e?ut(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n2(this),n=new r2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Zx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Mx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function da(i){return ut(i)}class hT{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a2(i){ff=i}function ib(i){return ff.loadJS(i)}function o2(){return ff.recaptchaEnterpriseScript}function l2(){return ff.gapiScript}function u2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class c2{constructor(){this.enterprise=new h2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class h2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const f2="recaptcha-enterprise",rb="NO_RECAPTCHA";class d2{constructor(e){this.type=f2,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Fx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Hx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;aT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(rb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&aT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=o2();p.length!==0&&(p+=m),ib(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function fT(i,e,n,s=!1,o=!1){const u=new d2(i);let f;if(o)f=rb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function op(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await fT(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await fT(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(i,e){const n=Kh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function p2(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function g2(i,e,n){const s=da(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=sb(e),{host:f,port:m}=y2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ta(g,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,fs(f)?(_p(`${u}//${f}${p}`),vp("Auth",!0)):_2()}function sb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function y2(i){const e=sb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:dT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:dT(f)}}}function dT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function v2(i,e){return Mi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(i,e){return Su(i,"POST","/v1/accounts:signInWithPassword",yr(i,e))}async function T2(i,e){return Mi(i,"POST","/v1/accounts:sendOobCode",yr(i,e))}async function w2(i,e){return T2(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}async function A2(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends pg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,n,"signInWithPassword",E2);case"emailLink":return b2(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,s,"signUpPassword",v2);case"emailLink":return A2(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(i,e){return Su(i,"POST","/v1/accounts:signInWithIdp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="http://localhost";class aa extends pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=cg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C2(i){const e=zl(ql(i)).link,n=e?zl(ql(e)).deep_link_id:null,s=zl(ql(i)).deep_link_id;return(s?zl(ql(s)).link:null)||s||n||e||i}class gg{constructor(e){var n,s,o,u,f,m;const p=zl(ql(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=R2((o=p.mode)!==null&&o!==void 0?o:null);Se(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=C2(e);try{return new gg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=gg.parseLink(n);return Se(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ru{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ru{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ru{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(i,e){return Su(i,"POST","/v1/accounts:signUp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=mT(s);return new oa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=mT(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function mT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends ki{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new jh(e,n,s,o)}}function ob(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(i,u,e,s):u})}async function N2(i,e,n=!1){const s=await To(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return oa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(i,e,n=!1){const{auth:s}=i;if(Dn(s.app))return Promise.reject(cr(s));const o="reauthenticate";try{const u=await To(i,ob(s,o,e,i),n);Se(u.idToken,s,"internal-error");const f=dg(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(i.uid===m,s,"user-mismatch"),oa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(i,e,n=!1){if(Dn(i.app))return Promise.reject(cr(i));const s="signIn",o=await ob(i,s,e),u=await oa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function D2(i,e){return lb(da(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O2(i,e,n){if(Dn(i.app))return Promise.reject(cr(i));const s=da(i),f=await op(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ub(i),p}),m=await oa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function pT(i,e,n){return Dn(i.app)?Promise.reject(cr(i)):D2(ut(i),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ub(i),s})}async function cb(i,e){const n=ut(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await w2(n.auth,o);u!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(i,e){return Mi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ut(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await To(s,k2(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function V2(i,e,n,s){return ut(i).onIdTokenChanged(e,n,s)}function P2(i,e,n){return ut(i).beforeAuthStateChanged(e,n)}function hb(i,e,n,s){return ut(i).onAuthStateChanged(e,n,s)}function Bh(i){return ut(i).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1e3,U2=10;class db extends fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);e2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,U2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}db.type="LOCAL";const j2=db;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mb.type="SESSION";const pb=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await B2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=yg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function q2(i){Ni().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function H2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function G2(){return gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebaseLocalStorageDb",K2=1,qh="firebaseLocalStorage",_b="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(i,e){return i.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function Y2(){const i=indexedDB.deleteDatabase(yb);return new Cu(i).toPromise()}function lp(){const i=indexedDB.open(yb,K2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(qh,{keyPath:_b})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(qh)?e(s):(s.close(),await Y2(),e(await lp()))})})}async function gT(i,e,n){const s=mf(i,!0).put({[_b]:e,value:n});return new Cu(s).toPromise()}async function Q2(i,e){const n=mf(i,!1).get(e),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function yT(i,e){const n=mf(i,!0).delete(e);return new Cu(n).toPromise()}const $2=800,X2=3;class vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>X2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(G2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await H2(),!this.activeServiceWorker)return;this.sender=new z2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await gT(e,zh,"1"),await yT(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>gT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Q2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=mf(o,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vb.type="LOCAL";const W2=vb;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(i,e){return e?lr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J2(i){return lb(i.auth,new _g(i),i.bypassAuthState)}function eD(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),x2(n,new _g(i),i.bypassAuthState)}async function tD(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),N2(n,new _g(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return tD;case"reauthViaPopup":case"reauthViaRedirect":return eD;default:ri(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Au(2e3,1e4);class uo extends Eb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nD.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="pendingRedirect",mh=new Map;class rD extends Eb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await sD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sD(i,e){const n=lD(e),s=oD(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function aD(i,e){mh.set(i._key(),e)}function oD(i){return lr(i._redirectPersistence)}function lD(i){return dh(iD,i.config.apiKey,i.name)}async function uD(i,e,n=!1){if(Dn(i.app))return Promise.reject(cr(i));const s=da(i),o=Z2(s,e),f=await new rD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=10*60*1e3;class hD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Tb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cD&&this.cachedEventUids.clear(),this.cachedEventUids.has(_T(e))}saveEventToCache(e){this.cachedEventUids.add(_T(e)),this.lastProcessedEventTime=Date.now()}}function _T(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Tb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(i,e={}){return Mi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pD=/^https?/;async function gD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await dD(i);for(const n of e)try{if(yD(n))return}catch{}ri(i,"unauthorized-domain")}function yD(i){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!pD.test(n))return!1;if(mD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new Au(3e4,6e4);function vT(){const i=Ni().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function vD(i){return new Promise((e,n)=>{var s,o,u;function f(){vT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vT(),n(Ii(i,"network-request-failed"))},timeout:_D.get()})}if(!((o=(s=Ni().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ni().gapi)===null||u===void 0)&&u.load)f();else{const m=u2("iframefcb");return Ni()[m]=()=>{gapi.load?f():n(Ii(i,"network-request-failed"))},ib(`${l2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ph=null,e})}let ph=null;function ED(i){return ph=ph||vD(i),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Au(5e3,15e3),wD="__/auth/iframe",bD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RD(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?fg(e,bD):`https://${i.config.authDomain}/${wD}`,s={apiKey:e.apiKey,appName:i.name,v:ua},o=SD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function CD(i){const e=await ED(i),n=Ni().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:RD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(i,"network-request-failed"),m=Ni().setTimeout(()=>{u(f)},TD.get());function p(){Ni().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ND=500,xD=600,DD="_blank",OD="http://localhost";class ET{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kD(i,e,n,s=ND,o=xD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},ID),{width:s.toString(),height:o.toString(),top:u,left:f}),g=un().toLowerCase();n&&(m=Xw(g)?DD:n),Qw(g)&&(e=e||OD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[O,x])=>`${w}${O}=${x},`,"");if(Jx(g)&&m!=="_self")return MD(e||"",m),new ET(null);const A=window.open(e||"",m,E);Se(A,i,"popup-blocked");try{A.focus()}catch{}return new ET(A)}function MD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="__/auth/handler",PD="emulator/auth/handler",LD=encodeURIComponent("fac");async function TT(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ua,eventId:o};if(e instanceof ab){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",aR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Ru){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${LD}=${encodeURIComponent(p)}`:"";return`${UD(i)}?${du(m).slice(1)}${g}`}function UD({config:i}){return i.emulator?fg(i,PD):`https://${i.authDomain}/${VD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class jD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pb,this._completeRedirectFn=uD,this._overrideRedirectResult=aD}async _openPopup(e,n,s,o){var u;pr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await TT(e,n,s,sp(),o);return kD(e,f,yg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await TT(e,n,s,sp(),o);return q2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CD(e),s=new hD(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];f!==void 0&&n(!!f),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tb()||$w()||mg()}}const BD=jD;var wT="@firebase/auth",bT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HD(i){na(new rs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(i)},g=new s2(s,o,u,p);return p2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),na(new rs("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new zD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(wT,bT,qD(i)),Si(wT,bT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=5*60,GD=ZT("authIdTokenMaxAge")||FD;let AT=null;const KD=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GD)return;const o=n==null?void 0:n.token;AT!==o&&(AT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wb(i=wp()){const e=Kh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=m2(i,{popupRedirectResolver:BD,persistence:[W2,j2,pb]}),s=ZT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KD(u.toString());P2(n,f,()=>f(n.currentUser)),V2(n,m=>f(m))}}const o=$T("auth");return o&&g2(n,`http://${o}`),n}function YD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}a2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",YD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebasestorage.googleapis.com",Ab="storageBucket",QD=2*60*1e3,$D=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends ki{constructor(e,n,s=0){super(Om(e),`Firebase Storage: ${n} (${Om(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function Om(i){return"storage/"+i}function XD(){const i="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,i)}function WD(i){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function ZD(i){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,i)}function eO(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tO(i){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function nO(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iO(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function rO(i){return new nn(tn.INVALID_URL,"Invalid URL '"+i+"'.")}function sO(i){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function aO(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ab+"' property when initializing the app?")}function up(i){return new nn(tn.INVALID_ARGUMENT,i)}function Sb(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function oO(i){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bl(i){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Yn.makeFromUrl(e,n)}catch{return new Yn(e,"")}if(s.path==="")return s;throw sO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${A}/${E}/b/${o}/o${w}`,"i"),x={bucket:1,path:3},z=n===bb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",K=new RegExp(`^https?://${z}/${o}/${B}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:O,indices:x,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<W.length;ne++){const se=W[ne],fe=se.regex.exec(e);if(fe){const D=fe[se.indices.bucket];let R=fe[se.indices.path];R||(R=""),s=new Yn(D,R),se.postModify(s);break}}if(s==null)throw rO(e);return s}}class lO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...B){g||(g=!0,e.apply(null,B))}function A(B){o=setTimeout(()=>{o=null,i(O,p())},B)}function w(){u&&clearTimeout(u)}function O(B,...K){if(g){w();return}if(B){w(),E.call(null,B,...K);return}if(p()||f){w(),E.call(null,B,...K);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,A(W)}let x=!1;function z(B){x||(x=!0,w(),!g&&(o!==null?(B||(m=2),clearTimeout(o),A(0)):B||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,z(!0)},n),z}function cO(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(i){return i!==void 0}function ST(i,e,n,s){if(s<e)throw up(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw up(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function dO(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ea;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ea||(ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,s,o,u,f,m,p,g,E,A,w=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,z)=>{this.resolve_=x,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ih(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ea.NO_ERROR,p=u.getStatus();if(!m||mO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ea.ABORT;s(!1,new ih(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ih(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());hO(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=XD();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?Sb():iO();f(p)}else{const p=nO();f(p)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=uO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function gO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function yO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _O(i,e){e&&(i["X-Firebase-GMPID"]=e)}function vO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function EO(i,e,n,s,o,u,f=!0,m=!1){const p=dO(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return _O(E,e),gO(E,n),yO(E,u),vO(E,s),new pO(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function wO(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function bO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class AO{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function SO(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=eO():o=JD():n.getStatus()===402?o=ZD(i.bucket):n.getStatus()===403?o=tO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function RO(i){const e=SO(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=WD(i.path)),u.serverResponse=o.serverResponse,u}return n}function CO(i,e){const n=e.fullServerUrl(),s=fO(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function f(p,g){}const m=new AO(s,o,f,u);return m.successCodes=[200,204],m.errorHandler=RO(e),m}class IO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Bl("cannot .send() more than once");if(fs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NO extends IO{initXhr(){this.xhr_.responseType="text"}}function xO(){return new NO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this._service=e,n instanceof Yn?this._location=n:this._location=Yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new la(e,n)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bO(this._location.path)}get storage(){return this._service}get parent(){const e=TO(this._location.path);if(e===null)return null;const n=new Yn(this._location.bucket,e);return new la(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oO(e)}}function DO(i){i._throwIfRoot("deleteObject");const e=CO(i.storage,i._location);return i.storage.makeRequestWithTokens(e,xO)}function OO(i,e){const n=wO(i._location.path,e),s=new Yn(i._location.bucket,n);return new la(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(i){return/^[A-Za-z]+:\/\//.test(i)}function MO(i,e){return new la(i,e)}function Rb(i,e){if(i instanceof vg){const n=i;if(n._bucket==null)throw aO();const s=new la(n,n._bucket);return e!=null?Rb(s,e):s}else return e!==void 0?OO(i,e):i}function VO(i,e){if(e&&kO(e)){if(i instanceof vg)return MO(i,e);throw up("To use ref(service, url), the first argument must be a Storage instance.")}else return Rb(i,e)}function RT(i,e){const n=e==null?void 0:e[Ab];return n==null?null:Yn.makeFromBucketSpec(n,i)}function PO(i,e,n,s={}){i.host=`${e}:${n}`;const o=fs(e);o&&(_p(`https://${i.host}/b`),vp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:JT(u,i.app.options.projectId))}class vg{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=bb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QD,this._maxUploadRetryTime=$D,this._requests=new Set,o!=null?this._bucket=Yn.makeFromBucketSpec(o,this._host):this._bucket=RT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=RT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ST("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ST("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new la(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new lO(Sb());{const f=EO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const CT="@firebase/storage",IT="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="storage";function LO(i){return i=ut(i),DO(i)}function UO(i,e){return i=ut(i),VO(i,e)}function jO(i=wp(),e){i=ut(i);const s=Kh(i,Cb).getImmediate({identifier:e}),o=XT("storage");return o&&BO(s,...o),s}function BO(i,e,n,s={}){PO(i,e,n,s)}function zO(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new vg(n,s,o,e,ua)}function qO(){na(new rs(Cb,zO,"PUBLIC").setMultipleInstances(!0)),Si(CT,IT,""),Si(CT,IT,"esm2017")}qO();const HO={apiKey:"AIzaSyDM7ok2P_WnrqMcH69gVC4cR9EP4J9fD_8",authDomain:"goodneighbor-b1fb3.firebaseapp.com",projectId:"goodneighbor-b1fb3",storageBucket:"goodneighbor-b1fb3.appspot.com",messagingSenderId:"437041543135",appId:"1:437041543135:web:c20ac170d742746f49366a",measurementId:"G-CCYJ56JPMB"},Eg=n0(HO),Js=wb(Eg),Ft=dx(Eg),FO=jO(Eg),gh=kn(Ft,"meta","stats");async function GO(i){await xx(Ft,async e=>{const n=await e.get(gh);if(!n.exists())e.set(gh,{[i]:1});else{const s=n.data(),o=typeof s[i]=="number"?s[i]:0;e.update(gh,{[i]:o+1})}})}async function Ib(){const i=await Vh(gh);return i.exists()?i.data():{accounts:0,listings:0}}const Nb=j.createContext(),pf=()=>{const i=j.useContext(Nb);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},KO=({children:i})=>{const[e,n]=j.useState(null),[s,o]=j.useState(null),[u,f]=j.useState(!0),m=wb(),p=async O=>{var B;if(!O)return;const x=kn(Ft,"users",O.uid),z=await Vh(x);if(z.exists()){const K=z.data();await Jr(x,{email:O.email,lastLogin:new Date}),o(K)}else{const K={uid:O.uid,email:O.email,fullName:O.displayName||((B=O.email)==null?void 0:B.split("@")[0])||"User",phone:O.phoneNumber||"",createdAt:new Date,lastLogin:new Date};await Uw(x,K),o(K)}},g=async O=>{try{const x=kn(Ft,"users",O),z=await Vh(x);return z.exists()?z.data():null}catch(x){return console.error("Error getting user profile:",x),null}},E=async O=>{if(e)try{const x=kn(Ft,"users",e.uid);return await Jr(x,O),o(z=>({...z,...O})),!0}catch(x){return console.error("Error updating user profile:",x),!1}},A=async()=>{try{await Bh(m),n(null),o(null)}catch(O){console.error("Error signing out:",O)}};j.useEffect(()=>hb(m,async x=>{n(x),x?await p(x):o(null),f(!1)}),[m]);const w={currentUser:e,userProfile:s,loading:u,getUserProfile:g,updateUserProfile:E,logout:A};return _.jsx(Nb.Provider,{value:w,children:i})};function YO(){const i=gr(),{currentUser:e}=pf();return _.jsx("div",{className:"start-container",children:_.jsxs("div",{className:"start-card",children:[_.jsxs("div",{className:"start-header",children:[_.jsx("h1",{className:"start-title",children:"Welcome to GoodNeighbor"}),_.jsx("p",{className:"start-subtitle",children:"Your community marketplace"})]}),_.jsxs("div",{className:"start-content",children:[_.jsx("p",{className:"start-description",children:"Connect with your neighbors, discover local services, and build a stronger community together."}),_.jsxs("div",{className:"start-buttons",children:[_.jsx("button",{className:"start-button primary",onClick:()=>i("/signin"),children:"Sign In"}),_.jsx("button",{className:"start-button secondary",onClick:()=>i("/listingspage"),children:"Browse Listings"}),_.jsx("button",{className:"start-button secondary",onClick:()=>i("/createlistings"),children:"Create Listing"}),e&&_.jsx("button",{className:"start-button secondary",onClick:()=>i("/account"),children:"Account"}),_.jsx("button",{className:"start-button secondary",onClick:()=>i("/about"),children:"About"})]}),_.jsx("div",{className:"start-footer",children:_.jsxs("p",{className:"signup-prompt",children:["New to GoodNeighbor?"," ",_.jsx("button",{className:"signup-link",onClick:()=>i("/signup"),children:"Create an account"})]})})]})]})})}function QO(){const i=gr(),[e,n]=j.useState({email:"",password:""}),[s,o]=j.useState(""),[u,f]=j.useState(!1),[m,p]=j.useState(!1),[g,E]=j.useState(""),A=z=>{n({...e,[z.target.name]:z.target.value}),s&&o(""),m&&p(!1),g&&E("")},w=async z=>{z.preventDefault(),o(""),f(!0),p(!1),E("");try{if(!(await pT(Js,e.email,e.password)).user.emailVerified){o("Please verify your email before signing in."),p(!0),await Bh(Js),f(!1);return}i("/listingspage")}catch(B){o(B.message)}finally{f(!1)}},O=async()=>{E(""),f(!0);try{const B=(await pT(Js,e.email,e.password)).user;await cb(B),E("Verification email sent! Please check your inbox."),await Bh(Js)}catch{E("Failed to send verification email. Please check your credentials and try again.")}finally{f(!1)}},x=()=>{i("/")};return _.jsxs("div",{className:"signin-container",children:[_.jsx("div",{className:"back-button-container",children:_.jsxs("button",{onClick:x,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]})}),_.jsxs("div",{className:"signin-card",children:[_.jsxs("div",{className:"signin-header",children:[_.jsx("h1",{className:"signin-title",children:"Welcome Back"}),_.jsx("p",{className:"signin-subtitle",children:"Sign in to your account"})]}),_.jsxs("form",{onSubmit:w,className:"signin-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),_.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:A,required:!0,className:"signin-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),_.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:e.password,onChange:A,required:!0,className:"signin-input"})]}),s&&_.jsxs("div",{className:"error-message",children:[_.jsx("span",{className:"error-icon",children:""}),s]}),m&&_.jsxs("div",{style:{marginBottom:"1rem",textAlign:"center"},children:[_.jsx("button",{type:"button",className:"signin-button",style:{background:"linear-gradient(135deg, #764ba2 0%, #667eea 100%)",marginBottom:"0.5rem"},onClick:O,disabled:u,children:u?"Sending...":"Resend Verification Email"}),g&&_.jsx("div",{style:{color:"#667eea",fontWeight:500},children:g})]}),_.jsx("button",{type:"submit",className:"signin-button",disabled:u,children:u?"Signing In...":"Sign In"})]}),_.jsx("div",{className:"signin-footer",children:_.jsxs("p",{className:"signup-prompt",children:["Don't have an account?"," ",_.jsx("button",{className:"signup-link",onClick:()=>i("/signup"),children:"Sign up"})]})})]})]})}function $O(){const i=gr(),[e,n]=j.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),[s,o]=j.useState(""),[u,f]=j.useState(!1),m=A=>{n({...e,[A.target.name]:A.target.value}),s&&o("")},p=async A=>{const w=lu(Ft,"users"),O=kw(w,Mw("username","==",A));return(await Ax(O)).empty},g=async A=>{if(A.preventDefault(),o(""),f(!0),e.password!==e.confirmPassword){o("Passwords do not match"),f(!1);return}const w=e.username.trim();if(!w){o("Username is required"),f(!1);return}if(!await p(w.toLowerCase())){o("Username is already taken. Please choose another."),f(!1);return}try{const z=(await O2(Js,e.email,e.password)).user;await M2(z,{displayName:e.fullName}),await cb(z),await Uw(kn(Ft,"users",z.uid),{username:w,fullName:e.fullName,email:e.email,createdAt:new Date}),await GO("accounts"),f(!1),alert("Account created! Please check your email and verify your account before signing in."),i("/account")}catch(x){o(x.message),f(!1)}},E=()=>{i("/")};return _.jsxs("div",{className:"signup-container",children:[_.jsx("div",{className:"back-button-container",children:_.jsxs("button",{onClick:E,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]})}),_.jsxs("div",{className:"signup-card",children:[_.jsxs("div",{className:"signup-header",children:[_.jsx("h1",{className:"signup-title",children:"Create Account"}),_.jsx("p",{className:"signup-subtitle",children:"Join our community today"})]}),_.jsxs("form",{onSubmit:g,className:"signup-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"username",className:"input-label",children:"Username"}),_.jsx("input",{id:"username",name:"username",type:"text",placeholder:"Choose a unique username",value:e.username,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"fullName",className:"input-label",children:"Full Name"}),_.jsx("input",{id:"fullName",name:"fullName",type:"text",placeholder:"Enter your full name",value:e.fullName,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),_.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),_.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Create a password",value:e.password,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"confirmPassword",className:"input-label",children:"Confirm Password"}),_.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:e.confirmPassword,onChange:m,required:!0,className:"signup-input"})]}),s&&_.jsxs("div",{className:"error-message",children:[_.jsx("span",{className:"error-icon",children:""}),s]}),_.jsx("button",{type:"submit",className:"signup-button",disabled:u,children:u?"Creating Account...":"Create Account"})]}),_.jsx("div",{className:"signup-footer",children:_.jsxs("p",{className:"signin-prompt",children:["Already have an account?"," ",_.jsx("button",{className:"signin-link",onClick:()=>i("/signin"),children:"Sign in"})]})})]})]})}function XO({listing:i,onContact:e,onFavorite:n,onShare:s,onMatch:o,onClaim:u,showActions:f=!0,isFavorited:m=!1,currentUserId:p=null,viewMode:g="grid"}){const[E,A]=j.useState(!1),[w,O]=j.useState(!1),[x,z]=j.useState(!1),[B,K]=j.useState(null),X=F=>{const he=new Date(F),De=Math.abs(new Date-he),k=Math.floor(De/(1e3*60*60*24)),ie=Math.floor(De/(1e3*60*60)),le=Math.floor(De/(1e3*60));return le<60?`${le}m ago`:ie<24?`${ie}h ago`:k<7?`${k}d ago`:he.toLocaleDateString()},W=F=>{switch(F==null?void 0:F.toLowerCase()){case"like new":return"condition-like-new";case"good":return"condition-good";case"fair":return"condition-fair";case"poor":return"condition-poor";default:return"condition-good"}},ne=F=>{switch(F==null?void 0:F.toLowerCase()){case"available":return"status-available";case"matched":return"status-matched";case"claimed":return"status-claimed";default:return"status-available"}},se=F=>{switch(F==null?void 0:F.toLowerCase()){case"service":return"type-flair-service";case"item":return"type-flair-item";default:return"type-flair-item"}},fe=F=>{switch(F==null?void 0:F.toLowerCase()){case"service":return{icon:"",text:"Service"};case"item":return{icon:"",text:"Item"};default:return{icon:"",text:"Item"}}},D=()=>{O(!0)},R=()=>{A(!0)},C=F=>{F.stopPropagation(),e&&e(i)},M=F=>{F.stopPropagation(),n&&n(i.id)},P=F=>{F.stopPropagation(),s&&s(i)},L=()=>{z(!1),K(null)},N=p&&i.userId===p,ot=(i.requestors||[]).some(F=>F.userId===p),Ke=(i.requestors||[]).length;if(g==="list"){const F=fe(i.type);return _.jsxs("div",{className:"listing-row",children:[_.jsxs("div",{className:"listing-row-main",children:[_.jsx("div",{className:"listing-row-title",children:i.title}),_.jsxs("div",{className:"listing-row-meta",children:[_.jsxs("span",{className:`type-flair ${se(i.type)}`,children:[F.icon," ",F.text]}),_.jsx("span",{className:"listing-row-sep",children:""}),_.jsx("span",{className:"listing-row-category",children:i.category||i.serviceType}),_.jsx("span",{className:"listing-row-sep",children:""}),_.jsx("span",{className:"listing-row-location",children:i.location}),_.jsx("span",{className:"listing-row-sep",children:""}),(i.status==="available"||i.status==="claimed")&&_.jsx("span",{className:`status-badge ${ne(i.status)}`,children:i.status}),i.status==="matched"&&_.jsx("span",{className:"matched-badge",children:" Matched"}),_.jsx("span",{className:"listing-row-sep",children:""}),_.jsx("span",{className:"listing-row-date",children:X(i.datePosted)})]})]}),f&&_.jsx("div",{className:"listing-row-actions"})]})}return _.jsxs("div",{className:"listing-card",children:[_.jsxs("div",{className:"listing-image-container",children:[!w&&i.image?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:i.image,alt:i.title,className:`listing-image ${E?"loaded":""}`,onLoad:R,onError:D}),!E&&_.jsx("div",{className:"image-placeholder",children:_.jsx("div",{className:"loading-spinner"})})]}):_.jsxs("div",{className:"image-placeholder no-image",children:[_.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),_.jsx("polyline",{points:"21,15 16,10 5,21"})]}),_.jsx("span",{children:"No Image"})]}),(i.status==="available"||i.status==="claimed")&&_.jsx("div",{className:`status-badge ${ne(i.status)}`,children:i.status||"Available"}),(()=>{const F=fe(i.type);return _.jsxs("div",{className:`type-flair-badge ${se(i.type)}`,children:[F.icon," ",F.text]})})(),N&&Ke>0&&_.jsxs("div",{className:"request-count-badge",children:[Ke," request",Ke!==1?"s":""]}),f&&!N&&_.jsx("button",{className:`favorite-btn ${m?"favorited":""}`,onClick:M,"aria-label":m?"Remove from favorites":"Add to favorites",children:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:m?"currentColor":"none",stroke:"currentColor",children:_.jsx("path",{d:"20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),_.jsxs("div",{className:"listing-content",children:[_.jsx("h3",{className:"listing-title",children:i.title}),_.jsxs("div",{className:"listing-meta",children:[_.jsx("span",{className:"listing-category",children:i.category}),i.condition&&_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"meta-separator",children:""}),_.jsx("span",{className:`condition-badge ${W(i.condition)}`,children:i.condition})]})]}),i.description&&_.jsx("p",{className:"listing-description",children:i.description.length>100?`${i.description.substring(0,100)}...`:i.description}),_.jsx("div",{className:"listing-footer",children:_.jsxs("div",{className:"location-date",children:[_.jsxs("span",{className:"listing-location",children:[_.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),_.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),i.location]}),_.jsx("span",{className:"listing-date",children:X(i.datePosted)})]})}),f&&_.jsxs("div",{className:"listing-actions",children:[!N&&i.status==="available"&&!ot&&_.jsxs("button",{className:"contact-btn primary",onClick:C,children:[_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),_.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact"]}),!N&&ot&&_.jsx("span",{className:"requested-indicator",children:"Requested"}),_.jsxs("button",{className:"share-btn secondary",onClick:P,children:[_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("circle",{cx:"18",cy:"5",r:"3"}),_.jsx("circle",{cx:"6",cy:"12",r:"3"}),_.jsx("circle",{cx:"18",cy:"19",r:"3"}),_.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),_.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),"Share"]}),N&&_.jsx("span",{className:"own-listing-indicator",children:"Your listing"})]})]}),x&&B&&_.jsx("div",{className:"contact-popup-overlay",onClick:L,children:_.jsxs("div",{className:"contact-popup",onClick:F=>F.stopPropagation(),children:[_.jsx("h4",{children:"Contact Information"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Name:"})," ",B.userFullName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",B.userEmail]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Requested:"})," ",X(B.requestDate)]}),_.jsx("button",{className:"close-popup-btn",onClick:L,children:"Close"})]})})]})}const WO=["All","Books & Media","Electronics","Toys & Games","Sports & Outdoors","Home & Garden","Office & School Supplies","Vehicles & Parts","Baby & Kids"],ZO=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"title",label:"Title A-Z"},{value:"category",label:"Category"}];function JO({listings:i=[],onContact:e,onFavorite:n,onShare:s,onMatch:o,onClaim:u,favorites:f=[],currentUserId:m,loading:p=!1}){const[g,E]=j.useState("All"),[A,w]=j.useState(""),[O,x]=j.useState("newest"),[z,B]=j.useState("grid"),[K,X]=j.useState(!1),[W,ne]=j.useState(1),se=18,fe=j.useMemo(()=>{let ae=i;if(g!=="All"&&(ae=ae.filter(_e=>_e.category===g)),A){const _e=A.toLowerCase();ae=ae.filter(ye=>ye.title.toLowerCase().includes(_e)||ye.description.toLowerCase().includes(_e)||ye.location.toLowerCase().includes(_e)||ye.category.toLowerCase().includes(_e))}return ae.sort((_e,ye)=>{switch(O){case"newest":return new Date(ye.createdAt||ye.datePosted)-new Date(_e.createdAt||_e.datePosted);case"oldest":return new Date(_e.createdAt||_e.datePosted)-new Date(ye.createdAt||ye.datePosted);case"title":return _e.title.localeCompare(ye.title);case"category":return _e.category.localeCompare(ye.category);default:return 0}}),ae},[i,g,A,O]),D=Math.ceil(fe.length/se),R=(W-1)*se,C=R+se,M=fe.slice(R,C);j.useEffect(()=>{ne(1)},[g,A,O]);const P=ae=>{ne(ae),window.scrollTo({top:0,behavior:"smooth"})},L=ae=>{E(ae)},N=ae=>{w(ae.target.value)},ot=ae=>{x(ae.target.value)},Ke=ae=>{B(ae)},F=()=>{E("All"),w(""),x("newest")},he=ae=>{e&&e(ae)},ge=ae=>{n&&n(ae)},De=ae=>{s?s(ae):navigator.share?navigator.share({title:ae.title,text:`Check out this free item: ${ae.title}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},k=(ae,_e)=>{o&&o(ae,_e)},ie=ae=>{u&&u(ae)},le=gr(),oe=()=>{le("/")};return _.jsxs("div",{className:"listings-page",children:[_.jsxs("div",{className:"listings-header",children:[_.jsxs("button",{onClick:oe,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"m12 19-7-7 7-7"}),_.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),_.jsxs("div",{className:"header-content",children:[_.jsx("h1",{children:"Marketplace"}),_.jsx("p",{children:"Find free items in your community"})]})]}),_.jsxs("div",{className:"listings-controls",children:[_.jsxs("div",{className:"controls-container",children:[_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-input-wrapper",children:[_.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("circle",{cx:"11",cy:"11",r:"8"}),_.jsx("path",{d:"21 21l-4.35-4.35"})]}),_.jsx("input",{type:"text",placeholder:"Search for items...",value:A,onChange:N,className:"search-input"}),A&&_.jsx("button",{className:"clear-search",onClick:()=>w(""),children:_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),_.jsxs("button",{className:"filter-toggle",onClick:()=>X(!K),children:[_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:_.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})}),"Filters"]}),_.jsxs("div",{className:"view-mode-toggle",children:[_.jsx("button",{className:`view-btn ${z==="grid"?"active":""}`,onClick:()=>Ke("grid"),children:_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),_.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),_.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),_.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),_.jsx("button",{className:`view-btn ${z==="list"?"active":""}`,onClick:()=>Ke("list"),children:_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),_.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),_.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),_.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})})]})]}),_.jsxs("div",{className:`filters-panel ${K?"show":""}`,children:[_.jsxs("div",{className:"filter-section",children:[_.jsx("h3",{children:"Categories"}),_.jsx("div",{className:"category-filters",children:WO.map(ae=>_.jsx("button",{className:`category-btn ${g===ae?"active":""}`,onClick:()=>L(ae),children:ae},ae))})]}),_.jsxs("div",{className:"filter-section",children:[_.jsx("h3",{children:"Sort By"}),_.jsx("select",{value:O,onChange:ot,className:"sort-select",children:ZO.map(ae=>_.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),_.jsx("button",{className:"clear-filters-btn",onClick:F,children:"Clear All Filters"})]})]}),(fe.length>0||g!=="All"||A)&&_.jsxs("div",{className:"results-summary",children:[fe.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"results-count-badge",children:fe.length}),_.jsx("span",{className:"results-count-text",children:fe.length===1?"item found":"items found"})]}),(g!=="All"||A)&&_.jsxs("div",{className:"active-filters",children:[g!=="All"&&_.jsxs("span",{className:"filter-tag",children:[g,_.jsx("button",{onClick:()=>E("All"),children:""})]}),A&&_.jsxs("span",{className:"filter-tag",children:['"',A,'"',_.jsx("button",{onClick:()=>w(""),children:""})]})]})]}),_.jsx("div",{className:"listings-container",children:p?_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading listings..."})]}):fe.length>0?_.jsx("div",{className:`listings-grid ${z}`,children:M.map(ae=>_.jsx(XO,{listing:ae,onContact:he,onFavorite:ge,onShare:De,onMatch:k,onClaim:ie,isFavorited:f.includes(ae.id),currentUserId:m,showActions:!0,viewMode:z},ae.id))}):_.jsxs("div",{className:"no-results",children:[_.jsx("div",{className:"no-results-icon",children:_.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"11",cy:"11",r:"8"}),_.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),_.jsx("h2",{className:"no-results-title",children:"No items found"}),_.jsx("p",{className:"no-results-message",children:A||g!=="All"?"Try adjusting your search or filters.":"There are no listings available at the moment. Be the first to share something with your community!"}),_.jsxs("div",{className:"no-results-actions",children:[(A||g!=="All")&&_.jsx("button",{className:"clear-filters-btn",onClick:F,children:"Clear Filters"}),_.jsx("button",{className:"create-listing-cta",onClick:()=>le("/createlistings"),children:"+ Create a Listing"})]})]})}),D>1&&_.jsxs("div",{className:"pagination-controls",children:[_.jsx("button",{className:`page-btn ${W===1?"disabled":""}`,onClick:()=>P(W-1),disabled:W===1,children:"Previous"}),_.jsxs("span",{className:"page-info",children:["Page ",W," of ",D]}),_.jsx("button",{className:`page-btn ${W===D?"disabled":""}`,onClick:()=>P(W+1),disabled:W===D,children:"Next"})]})]})}const km=["Books & Media","Electronics","Toys & Games","Sports & Outdoors","Home & Garden","Office & School Supplies","Vehicles & Parts","Baby & Kids"];function ek({onCreate:i}){const e=gr(),[n,s]=j.useState({title:"",location:"",category:km[0],condition:"Good",description:"",serviceType:"Tutoring"}),[o,u]=j.useState([]),[f,m]=j.useState(!1),[p,g]=j.useState({current:0,total:0}),[E,A]=j.useState({}),[w,O]=j.useState("item"),x=["Tutoring","Volunteer Opportunity","Yardwork","Pet Care","Other"],z=ne=>{const{name:se,value:fe}=ne.target;s({...n,[se]:fe}),E[se]&&A(D=>({...D,[se]:""}))},B=ne=>{const se=Array.from(ne.target.files);u(se),se.length>0&&E.photos&&A(fe=>({...fe,photos:""}))},K=()=>{let ne=!0;const se={};return n.title.trim()||(se.title="Title is required.",ne=!1),n.location.trim()||(se.location="Location is required.",ne=!1),n.description.trim()||(se.description="Description is required.",ne=!1),w==="item"?(n.category||(se.category="Category is required.",ne=!1),n.condition||(se.condition="Condition is required.",ne=!1)):w==="service"&&(n.serviceType||(se.serviceType="Service type is required.",ne=!1)),A(se),ne},X=async ne=>{if(ne.preventDefault(),!!K()){m(!0),g({current:0,total:w==="item"?o.length:0});try{let se=null;if(w==="item")se=await createListingWithPhotos({...n,type:"item"},o,(fe,D)=>g({current:fe,total:D}));else{const{title:fe,description:D,location:R,serviceType:C}=n;i&&await i({title:fe,description:D,location:R,serviceType:C,type:"service",createdAt:new Date,status:"available",requestors:[],matchedWith:null})}s({title:"",description:"",location:"",category:km[0],condition:"Good",serviceType:x[0]}),u([]),A({}),g({current:0,total:0}),alert("Listing created successfully!"),e("/")}catch(se){console.error("Error creating listing:",se),alert("Failed to create listing. Please try again.")}finally{m(!1)}}},W=()=>{e("/")};return _.jsx("div",{className:"create-listing-page",children:_.jsxs("div",{className:"create-listing-container",children:[_.jsxs("button",{onClick:W,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19-7-7 7-7"}),_.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),_.jsxs("div",{className:"create-listing-header",children:[_.jsx("h1",{children:"Create New Listing"}),_.jsx("p",{children:"Share items or services you can offer to your community - completely free!"})]}),_.jsxs("div",{className:"listing-type-toggle",children:[_.jsxs("label",{className:w==="item"?"selected":"",children:[_.jsx("input",{type:"radio",name:"listingType",value:"item",checked:w==="item",onChange:()=>O("item")}),_.jsx("span",{children:"Item"})]}),_.jsxs("label",{className:w==="service"?"selected":"",children:[_.jsx("input",{type:"radio",name:"listingType",value:"service",checked:w==="service",onChange:()=>O("service")}),_.jsx("span",{children:"Service"})]})]}),_.jsxs("form",{onSubmit:X,className:"create-listing-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"title",children:"Title *"}),_.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:z,placeholder:w==="item"?"What are you giving away?":"What service are you offering?",maxLength:"100",className:E.title?"error":""}),E.title&&_.jsx("span",{className:"error-message",children:E.title})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"description",children:"Description *"}),_.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:z,placeholder:w==="item"?"Describe the item's condition, any flaws, pickup instructions, etc.":"Describe the service, requirements, schedule, etc.",rows:"4",maxLength:"500",className:E.description?"error":""}),_.jsxs("div",{className:"character-count",children:[n.description.length,"/500"]}),E.description&&_.jsx("span",{className:"error-message",children:E.description})]}),w==="service"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"serviceType",children:"Service Type *"}),_.jsx("select",{id:"serviceType",name:"serviceType",value:n.serviceType||x[0],onChange:z,className:E.serviceType?"error":"",children:x.map(ne=>_.jsx("option",{value:ne,children:ne},ne))}),E.serviceType&&_.jsx("span",{className:"error-message",children:E.serviceType})]}),w==="item"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"category",children:"Category"}),_.jsx("select",{id:"category",name:"category",value:n.category,onChange:z,children:km.map(ne=>_.jsx("option",{value:ne,children:ne},ne))})]}),w==="item"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"condition",children:"Condition"}),_.jsxs("select",{id:"condition",name:"condition",value:n.condition,onChange:z,children:[_.jsx("option",{value:"",children:"Select condition"}),_.jsx("option",{value:"Like New",children:"Like New"}),_.jsx("option",{value:"Good",children:"Good"}),_.jsx("option",{value:"Fair",children:"Fair"}),_.jsx("option",{value:"Poor",children:"Poor"})]})]}),w==="item"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"photos",children:"Photos"}),_.jsxs("label",{htmlFor:"photos",className:"image-upload-label",children:[_.jsx("span",{role:"img","aria-label":"camera",style:{marginRight:8},children:""}),o.length>0?`${o.length} photo${o.length>1?"s":""} selected`:"Choose Photos"]}),_.jsx("input",{type:"file",id:"photos",name:"photos",accept:"image/*",multiple:!0,onChange:B,disabled:f,className:"image-input"}),o.length>0&&_.jsx("div",{className:"image-preview-list",children:o.map((ne,se)=>_.jsxs("div",{className:"image-preview-item",children:[_.jsx("span",{className:"image-preview-name",children:ne.name}),_.jsxs("span",{className:"image-preview-size",children:["(",(ne.size/1024/1024).toFixed(2)," MB)"]})]},se))}),E.photos&&_.jsx("span",{className:"error-message",children:E.photos}),p.total>0&&_.jsxs("div",{className:"upload-progress",children:["Uploading ",p.current," of ",p.total," photos..."]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"location",children:w==="item"?"Pickup Location *":"Service Location *"}),_.jsx("input",{type:"text",id:"location",name:"location",value:n.location,onChange:z,placeholder:w==="item"?"City, State or general area":"Where is the service provided?",className:E.location?"error":""}),E.location&&_.jsx("span",{className:"error-message",children:E.location})]}),_.jsx("div",{className:"form-actions",children:_.jsx("button",{type:"submit",disabled:f,className:"submit-btn",children:f?"Creating Listing...":"Create Listing"})})]})]})})}function tk(){const{currentUser:i,userProfile:e,logout:n,updateUserProfile:s}=pf(),o=gr(),[u,f]=j.useState("profile"),[m,p]=j.useState([]),[g,E]=j.useState([]),[A,w]=j.useState(!0),[O,x]=j.useState(!1),[z,B]=j.useState(!1),[K,X]=j.useState(!1),[W,ne]=j.useState(null),[se,fe]=j.useState(null),[D,R]=j.useState(null),[C,M]=j.useState({}),[P,L]=j.useState({}),[N,ot]=j.useState({}),[Ke,F]=j.useState({}),[he,ge]=j.useState({accounts:0,listings:0}),[De,k]=j.useState(!0),[ie,le]=j.useState(!1),[oe,ae]=j.useState(null),[_e,ye]=j.useState(!1);j.useEffect(()=>{async function ue(){k(!0);try{const We=await Ib();ge(We)}catch{ge({accounts:0,listings:0})}finally{k(!1)}}ue()},[]),j.useEffect(()=>{if(!i)return;const ue=rp(kw(lu(Ft,"listings"),Mw("userId","==",i.uid)),pt=>{const Qe=pt.docs.map(Fe=>({id:Fe.id,...Fe.data()}));p(Qe)}),We=rp(lu(Ft,"listings"),pt=>{const Fe=pt.docs.map($e=>({id:$e.id,...$e.data()})).filter($e=>($e.requestors||[]).some(Ve=>Ve.userId===i.uid)).map($e=>{var Ue;const Ve=($e.requestors||[]).find(cn=>cn.userId===i.uid);return{...$e,userRequest:Ve,isMatched:((Ue=$e.matchedWith)==null?void 0:Ue.userId)===i.uid}});E(Fe),w(!1)});return()=>{ue(),We()}},[i]);const wt=ue=>{ae(ue),le(!0)},et=async()=>{if(oe){ye(!0);try{const ue=await Vh(kn(Ft,"listings",oe.id));if(!ue.exists())throw new Error("Listing not found");const We=ue.data();if(We.userId!==i.uid)throw new Error("You can only delete your own listings");if(We.photos&&We.photos.length>0){const pt=We.photos.map(Qe=>{const Fe=UO(FO,Qe.path);return LO(Fe)});await Promise.allSettled(pt)}await Sx(kn(Ft,"listings",oe.id)),alert("Listing deleted successfully!"),le(!1),ae(null)}catch(ue){console.error("Error deleting listing:",ue),alert("Failed to delete listing. Please try again.")}finally{ye(!1)}}},yn=()=>{le(!1),ae(null)},ai=async()=>{try{await n(),o("/")}catch(ue){console.error("Error logging out:",ue)}},Qn=()=>{o("/")},wn=ue=>new Date(ue).toLocaleDateString(),oi=ue=>{switch(ue==null?void 0:ue.toLowerCase()){case"available":return"status-available";case"matched":return"status-matched";case"claimed":return"status-claimed";default:return"status-available"}},Vi=ue=>{ne(ue),x(!0)},ps=ue=>{fe(ue),B(!0)},gs=(ue,We)=>{R(ue),ne({id:We}),X(!0)},Nt=()=>{x(!1),B(!1),X(!1),ne(null),fe(null),R(null)},xo=async(ue,We)=>{const pt=`${ue}-${We.userId}`;M(Qe=>({...Qe,[pt]:!0}));try{const Qe=kn(Ft,"listings",ue);await Jr(Qe,{matchedWith:{userId:We.userId,userEmail:We.userEmail,userFullName:We.userFullName,matchDate:new Date().toISOString()},status:"matched"}),L(Fe=>({...Fe,[pt]:!0})),setTimeout(()=>{L(Fe=>{const $e={...Fe};return delete $e[pt],$e}),M(Fe=>{const $e={...Fe};return delete $e[pt],$e})},3e3)}catch(Qe){console.error("Error matching with user:",Qe),alert("Failed to match with user. Please try again.")}finally{M(Qe=>{const Fe={...Qe};return delete Fe[pt],Fe})}},ys=async(ue,We,pt)=>{const Qe=`${W.id}-${ue}`;ot(Fe=>({...Fe,[Qe]:!0}));try{const Fe=kn(Ft,"listings",W.id);await Jr(Fe,{contactExchanged:{[ue]:{sharedBy:i.uid,sharedAt:new Date().toISOString(),userEmail:i.email,userFullName:(e==null?void 0:e.fullName)||"Unknown"}}}),F($e=>({...$e,[Qe]:!0})),setTimeout(()=>{F($e=>{const Ve={...$e};return delete Ve[Qe],Ve}),ot($e=>{const Ve={...$e};return delete Ve[Qe],Ve})},3e3)}catch(Fe){console.error("Error sharing contact:",Fe),alert("Failed to share contact. Please try again.")}finally{ot(Fe=>{const $e={...Fe};return delete $e[Qe],$e})}};return A?_.jsx("div",{className:"account-page",children:_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading account information..."})]})}):_.jsxs("div",{className:"account-page",children:[_.jsxs("div",{className:"account-container",children:[_.jsxs("button",{onClick:Qn,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19-7-7 7-7"}),_.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),_.jsxs("div",{className:"account-header",children:[_.jsx("h1",{children:"Account"}),_.jsx("p",{children:"Manage your profile, listings, and requests"})]}),_.jsxs("div",{className:"account-tabs",children:[_.jsx("button",{className:`tab-btn ${u==="profile"?"active":""}`,onClick:()=>f("profile"),children:"Profile"}),_.jsxs("button",{className:`tab-btn ${u==="listings"?"active":""}`,onClick:()=>f("listings"),children:["My Listings (",m.length,")"]}),_.jsxs("button",{className:`tab-btn ${u==="requests"?"active":""}`,onClick:()=>f("requests"),children:["My Requests (",g.length,")"]})]}),_.jsxs("div",{className:"tab-content",children:[u==="profile"&&_.jsxs("div",{className:"profile-section",children:[_.jsxs("div",{className:"profile-info",children:[_.jsx("h2",{children:"Profile Information"}),_.jsxs("div",{className:"info-item",children:[_.jsx("label",{children:"Email:"}),_.jsx("span",{children:(e==null?void 0:e.email)||(i==null?void 0:i.email)})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("label",{children:"Name:"}),_.jsx("span",{children:(e==null?void 0:e.fullName)||"Not set"})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("label",{children:"Member since:"}),_.jsx("span",{children:e!=null&&e.createdAt?wn(e.createdAt):"Unknown"})]})]}),_.jsxs("div",{className:"profile-update",children:[_.jsx("h3",{children:"Update Profile"}),_.jsxs("form",{onSubmit:async ue=>{ue.preventDefault();const pt=new FormData(ue.target).get("fullName");if(pt.trim()){const Qe=await s({fullName:pt.trim()});alert(Qe?"Profile updated successfully!":"Failed to update profile. Please try again.")}},children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"fullName",children:"Full Name"}),_.jsx("input",{type:"text",id:"fullName",name:"fullName",placeholder:"Enter your full name",defaultValue:(e==null?void 0:e.fullName)||"",className:"profile-input"})]}),_.jsx("button",{type:"submit",className:"update-profile-btn",children:"Update Profile"})]})]}),_.jsx("button",{onClick:ai,className:"logout-btn",children:"Sign Out"})]}),u==="listings"&&_.jsxs("div",{className:"listings-section",children:[_.jsx("h2",{children:"My Listings"}),m.length===0?_.jsxs("div",{className:"empty-state",children:[_.jsx("p",{children:"You haven't created any listings yet."}),_.jsx("button",{onClick:()=>o("/createlistings"),className:"create-listing-btn",children:"Create Your First Listing"})]}):_.jsx("div",{className:"listings-grid",children:m.map(ue=>_.jsxs("div",{className:"listing-card",children:[_.jsxs("div",{className:"listing-header",children:[_.jsx("h3",{children:ue.title}),_.jsxs("div",{className:"listing-status",children:[ue.status!=="matched"&&_.jsx("span",{className:`status-badge ${oi(ue.status)}`,children:ue.status}),ue.matchedWith&&_.jsx("span",{className:"matched-badge",children:" Matched"})]})]}),_.jsx("p",{className:"listing-description",children:ue.description}),_.jsxs("div",{className:"listing-meta",children:[_.jsx("span",{children:ue.category}),_.jsx("span",{children:""}),_.jsx("span",{children:ue.location})]}),_.jsxs("div",{className:"listing-actions",children:[_.jsxs("span",{className:"request-count",children:[(ue.requestors||[]).length," request",(ue.requestors||[]).length!==1?"s":""]}),_.jsxs("div",{className:"listing-buttons",children:[(ue.requestors||[]).length>0&&_.jsx("button",{className:"view-requests-btn",onClick:()=>Vi(ue),children:"View Requests"}),_.jsx("button",{className:"delete-listing-btn",onClick:()=>wt(ue),children:"Delete"})]})]})]},ue.id))})]}),u==="requests"&&_.jsxs("div",{className:"requests-section",children:[_.jsx("h2",{children:"My Requests"}),g.length===0?_.jsxs("div",{className:"empty-state",children:[_.jsx("p",{children:"You haven't requested any items yet."}),_.jsx("button",{onClick:()=>o("/listingspage"),className:"browse-listings-btn",children:"Browse Listings"})]}):_.jsx("div",{className:"requests-grid",children:g.map(ue=>_.jsxs("div",{className:"request-card",children:[_.jsxs("div",{className:"request-header",children:[_.jsx("h3",{children:ue.title}),_.jsxs("div",{className:"request-status",children:[(ue.status==="available"||ue.status==="claimed")&&_.jsx("span",{className:`status-badge ${oi(ue.status)}`,children:ue.status}),ue.isMatched&&_.jsx("span",{className:"matched-badge",children:" Matched"})]})]}),_.jsx("p",{className:"request-description",children:ue.description}),_.jsxs("div",{className:"request-meta",children:[_.jsxs("span",{children:["Posted by: ",ue.userFullName]}),_.jsx("span",{children:""}),_.jsxs("span",{children:["Requested: ",wn(ue.userRequest.requestDate)]})]}),ue.isMatched&&_.jsx("div",{className:"matched-info",children:_.jsx("button",{className:"view-owner-contact-btn",onClick:()=>ps(ue),children:"View Owner Contact"})})]},ue.id))})]})]})]}),O&&W&&_.jsx("div",{className:"modal-overlay",onClick:Nt,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsxs("h3",{children:['Requests for "',W.title,'"']}),_.jsx("button",{className:"close-modal-btn",onClick:Nt,children:""})]}),_.jsx("div",{className:"modal-body",children:(W.requestors||[]).length===0?_.jsx("p",{children:"No requests yet."}):_.jsx("div",{className:"requests-list",children:W.requestors.map((ue,We)=>{const pt=`${W.id}-${ue.userId}`,Qe=`${W.id}-${ue.userId}`,Fe=C[pt],$e=P[pt],Ve=N[Qe],Ue=Ke[Qe];return _.jsxs("div",{className:"requestor-item",children:[_.jsxs("div",{className:"requestor-header",children:[_.jsxs("div",{className:"requestor-info",children:[_.jsx("h4",{children:ue.userFullName}),_.jsxs("p",{children:["Email: ",ue.userEmail]}),_.jsxs("p",{children:["Requested: ",wn(ue.requestDate)]})]}),_.jsx("div",{className:"requestor-status",children:_.jsx("button",{className:`match-btn ${Fe?"loading":""}`,onClick:()=>xo(W.id,ue),disabled:Fe,children:Fe?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"spinner"}),"Matching..."]}):"Match"})})]}),_.jsx("div",{className:"requestor-actions",children:$e?Ue?_.jsx("button",{className:"contact-btn shared",disabled:!0,children:" Contact Shared"}):_.jsx("button",{className:`contact-btn ${Ve?"loading":""}`,onClick:()=>gs(ue,W.id),disabled:Ve,children:Ve?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"spinner"}),"Sharing..."]}):"Share Contact"}):_.jsx("button",{className:"contact-btn",onClick:()=>gs(ue,W.id),children:"Contact"})})]},We)})})})]})}),z&&se&&_.jsx("div",{className:"modal-overlay",onClick:Nt,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h3",{children:"Owner Contact Information"}),_.jsx("button",{className:"close-modal-btn",onClick:Nt,children:""})]}),_.jsxs("div",{className:"modal-body",children:[_.jsxs("div",{className:"owner-info",children:[_.jsxs("h4",{children:["Item: ",se.title]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Owner Name:"})," ",se.userFullName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Owner Email:"})," ",se.userEmail]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Posted:"})," ",wn(se.datePosted)]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Your Request:"})," ",wn(se.userRequest.requestDate)]})]}),_.jsx("div",{className:"contact-actions",children:_.jsx("p",{className:"contact-note",children:"You can now contact the owner directly using their email address above."})})]})]})}),K&&D&&W&&_.jsx("div",{className:"modal-overlay",onClick:Nt,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h3",{children:"Contact Exchange"}),_.jsx("button",{className:"close-modal-btn",onClick:Nt,children:""})]}),_.jsx("div",{className:"modal-body",children:_.jsxs("div",{className:"contact-exchange-info",children:[_.jsxs("h4",{children:["Exchange Contact with ",D.userFullName]}),_.jsx("p",{children:"Share your contact information to facilitate the exchange."}),_.jsxs("div",{className:"contact-details",children:[_.jsxs("div",{className:"your-contact",children:[_.jsx("h5",{children:"Your Contact Information:"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Name:"})," ",(e==null?void 0:e.fullName)||"Not set"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",i==null?void 0:i.email]})]}),_.jsxs("div",{className:"their-contact",children:[_.jsx("h5",{children:"Their Contact Information:"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Name:"})," ",D.userFullName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",D.userEmail]})]})]}),_.jsxs("div",{className:"contact-exchange-actions",children:[_.jsx("button",{className:"share-contact-btn",onClick:()=>ys(D.userId,D.userEmail,D.userFullName),children:"Share My Contact"}),_.jsx("p",{className:"contact-exchange-note",children:"By sharing your contact, you agree to exchange contact information with this user."})]})]})})]})}),ie&&oe&&_.jsx("div",{className:"modal-overlay",onClick:yn,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h3",{children:"Delete Listing"}),_.jsx("button",{className:"close-modal-btn",onClick:yn,children:""})]}),_.jsx("div",{className:"modal-body",children:_.jsxs("p",{children:["Are you sure you want to delete ",_.jsx("strong",{children:oe.title}),"? This action cannot be undone."]})}),_.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[_.jsx("button",{className:"cancel-btn",onClick:yn,disabled:_e,children:"Cancel"}),_.jsx("button",{className:"confirm-delete-btn",onClick:et,disabled:_e,style:{background:"#dc2626",color:"white"},children:_e?"Deleting...":"Delete"})]})]})})]})}function nk(){const i=gr(),[e,n]=j.useState({accounts:0,listings:0}),[s,o]=j.useState(!0);j.useEffect(()=>{async function f(){o(!0);try{const m=await Ib();n(m)}catch{n({accounts:0,listings:0})}finally{o(!1)}}f()},[]);const u=()=>{i("/")};return _.jsx("div",{className:"about-page",children:_.jsxs("div",{className:"about-container",children:[_.jsxs("button",{onClick:u,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]}),_.jsx("h1",{className:"about-title",children:"About GoodNeighbor"}),_.jsxs("div",{className:"community-stats-card",children:[_.jsx("div",{className:"community-stats-title",children:"Community Stats"}),s?_.jsx("div",{className:"community-stats-loading",children:"Loading..."}):_.jsxs("div",{className:"community-stats-list",children:[_.jsxs("div",{className:"community-stat",children:[_.jsx("span",{className:"community-stat-number accounts",children:e.accounts}),_.jsx("span",{className:"community-stat-label",children:"Accounts"})]}),_.jsxs("div",{className:"community-stat",children:[_.jsx("span",{className:"community-stat-number listings",children:e.listings}),_.jsx("span",{className:"community-stat-label",children:"Listings"})]})]})]}),_.jsxs("div",{className:"about-section",children:[_.jsx("h2",{className:"about-section-title",children:"About Us"}),_.jsx("div",{className:"about-section-text",children:_.jsx("p",{children:"Welcome to Good Neighbor! This is a community-driven marketplace where you can exchange goods and services with members of your community. As a kind reminder from Good Neighbor, please be mindful of both giving and receiving. This project is only sustainable if we all do our part to keep it going. Our dream is to not only create a platform for people to exchange, but to create a stronger, more connected community."})})]}),_.jsxs("div",{className:"about-section",children:[_.jsx("h2",{className:"about-section-title",children:"Team"}),_.jsxs("div",{className:"co-founders-list",children:[_.jsx("a",{href:"https://www.instagram.com/_michael.yang/",target:"_blank",rel:"noopener noreferrer",className:"co-founder-link",children:_.jsxs("div",{className:"co-founder",children:[_.jsx("h3",{className:"co-founder-name",children:"Michael Yang"}),_.jsx("p",{className:"co-founder-nickname",children:_.jsx("em",{children:"Blorg"})})]})}),_.jsx("a",{href:"https://www.instagram.com/ronit_kongara/",target:"_blank",rel:"noopener noreferrer",className:"co-founder-link",children:_.jsxs("div",{className:"co-founder",children:[_.jsx("h3",{className:"co-founder-name",children:"Ronit Kongara"}),_.jsx("p",{className:"co-founder-nickname",children:_.jsx("em",{children:"Kongaroo"})})]})})]})]})]})})}const NT=({children:i})=>{const{currentUser:e,loading:n}=pf();return n?_.jsx("div",{children:"Loading..."}):e?i:_.jsx(t1,{to:"/signin"})};function ik(){const[i,e]=j.useState([]),[n,s]=j.useState([]),[o,u]=j.useState(!0),[f,m]=j.useState(!0),{currentUser:p,userProfile:g,getUserProfile:E}=pf();j.useEffect(()=>{const K=rp(lu(Ft,"listings"),X=>{const W=X.docs.map(ne=>{const se=ne.data(),{id:fe,...D}=se;return{id:ne.id,...D}});e(W),m(!1)},X=>{console.error("Error fetching listings:",X),m(!1)});return()=>{K()}},[]);const A=async(K,X=[])=>{try{const W={...K,userId:p.uid,userEmail:(g==null?void 0:g.email)||p.email,userFullName:(g==null?void 0:g.fullName)||p.displayName||"User",createdAt:new Date,requestors:[],matchedWith:null,status:"available",photos:[],views:0,favorites:[]},ne=await Rx(lu(Ft,"listings"),W),se=ne.id;if(X&&X.length>0){const fe=await uploadPhotos(se,X);await Jr(ne,{photos:fe,updatedAt:new Date})}return console.log("Listing created with ID:",se),se}catch(W){throw console.error("Error creating listing:",W),W}},w=async K=>{if(!p){alert("Please sign in to contact the owner");return}if(!K){console.error("Invalid listing object:",K),alert("Invalid listing. Please try again.");return}try{console.log("Listing object:",K),console.log("Current user:",p.uid);const X=Array.isArray(K.requestors)?K.requestors:[];if(console.log("Requestors array:",X),X.some(fe=>fe.userId===p.uid)){alert("You have already requested this item");return}const ne=kn(Ft,"listings",K.id),se={userId:p.uid,userEmail:(g==null?void 0:g.email)||p.email,userFullName:(g==null?void 0:g.fullName)||p.displayName||"User",requestDate:new Date().toISOString()};console.log("New requestor:",se),console.log("Updated requestors array:",[...X,se]),await Jr(ne,{requestors:[...X,se]}),alert("Request sent successfully!")}catch(X){console.error("Error sending request:",X),console.error("Error details:",{listing:K,currentUser:p==null?void 0:p.uid,userProfile:g}),alert("Failed to send request. Please try again.")}},O=K=>{console.log("Favoriting listing:",K)},x=K=>{console.log("Sharing listing:",K.title)},z=async(K,X)=>{try{const W=kn(Ft,"listings",K);await Jr(W,{matchedWith:X,status:"matched"}),alert("Successfully matched with requestor!")}catch(W){console.error("Error matching with requestor:",W),alert("Failed to match with requestor. Please try again.")}},B=async K=>{try{const X=kn(Ft,"listings",K);await Jr(X,{status:"claimed"}),alert("Listing marked as claimed!")}catch(X){console.error("Error claiming listing:",X),alert("Failed to mark as claimed. Please try again.")}};return _.jsx(C1,{basename:"/GoodNeighbor",children:_.jsxs(i1,{children:[_.jsx(Yr,{path:"/",element:_.jsx(YO,{})}),_.jsx(Yr,{path:"/signin",element:_.jsx(QO,{})}),_.jsx(Yr,{path:"/signup",element:_.jsx($O,{})}),_.jsx(Yr,{path:"/listingspage",element:_.jsx(JO,{listings:i,loading:f,onContact:w,onFavorite:O,onShare:x,onMatch:z,onClaim:B,currentUserId:p==null?void 0:p.uid})}),_.jsx(Yr,{path:"/createlistings",element:_.jsx(NT,{children:_.jsx(ek,{onCreate:A})})}),_.jsx(Yr,{path:"/account",element:_.jsx(NT,{children:_.jsx(tk,{})})}),_.jsx(Yr,{path:"/about",element:_.jsx(nk,{})})]})})}function rk(){return _.jsx(KO,{children:_.jsx(ik,{})})}const sk=j.createContext();function ak({children:i}){const[e,n]=j.useState(null),[s,o]=j.useState(!0);j.useEffect(()=>hb(Js,m=>{n(m),o(!1)}),[]);const u=()=>Bh(Js);return _.jsx(sk.Provider,{value:{user:e,loading:s,logout:u},children:i})}hS.createRoot(document.getElementById("root")).render(_.jsx(iS.StrictMode,{children:_.jsx(ak,{children:_.jsx(rk,{})})}));
