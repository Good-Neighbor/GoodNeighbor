(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function qS(){if(vv)return Pl;vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Ev;function HS(){return Ev||(Ev=1,sm.exports=qS()),sm.exports}var _=HS(),am={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function FS(){if(Tv)return Ie;Tv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function U(k,ne,le){this.props=k,this.context=ne,this.refs=z,this.updater=le||D}U.prototype.isReactComponent={},U.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},U.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=U.prototype;function Q(k,ne,le){this.props=k,this.context=ne,this.refs=z,this.updater=le||D}var W=Q.prototype=new K;W.constructor=Q,x(W,U.prototype),W.isPureReactComponent=!0;var te=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function O(k,ne,le,oe,ae,_e){return le=_e.ref,{$$typeof:i,type:k,key:ne,ref:le!==void 0?le:null,props:_e}}function R(k,ne){return O(k.type,ne,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function M(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return ne[le]})}var V=/\/+/g;function L(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):ne.toString(36)}function N(){}function at(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ge(k,ne,le,oe,ae){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(_e){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case i:case e:ye=!0;break;case T:return ye=k._init,Ge(ye(k._payload),ne,le,oe,ae)}}if(ye)return ae=ae(k),ye=oe===""?"."+L(k,0):oe,te(ae)?(le="",ye!=null&&(le=ye.replace(V,"$&/")+"/"),Ge(ae,ne,le,"",function(pn){return pn})):ae!=null&&(C(ae)&&(ae=R(ae,le+(ae.key==null||k&&k.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+ye)),ne.push(ae)),1;ye=0;var bt=oe===""?".":oe+":";if(te(k))for(var et=0;et<k.length;et++)oe=k[et],_e=bt+L(oe,et),ye+=Ge(oe,ne,le,_e,ae);else if(et=b(k),typeof et=="function")for(k=et.call(k),et=0;!(oe=k.next()).done;)oe=oe.value,_e=bt+L(oe,et++),ye+=Ge(oe,ne,le,_e,ae);else if(_e==="object"){if(typeof k.then=="function")return Ge(at(k),ne,le,oe,ae);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ye}function F(k,ne,le){if(k==null)return k;var oe=[],ae=0;return Ge(k,oe,"","",function(_e){return ne.call(le,_e,ae++)}),oe}function he(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var ge=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function De(){}return Ie.Children={map:F,forEach:function(k,ne,le){F(k,function(){ne.apply(this,arguments)},le)},count:function(k){var ne=0;return F(k,function(){ne++}),ne},toArray:function(k){return F(k,function(ne){return ne})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=Q,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return re.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,ne,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=x({},k.props),ae=k.key,_e=void 0;if(ne!=null)for(ye in ne.ref!==void 0&&(_e=void 0),ne.key!==void 0&&(ae=""+ne.key),ne)!fe.call(ne,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ne.ref===void 0||(oe[ye]=ne[ye]);var ye=arguments.length-2;if(ye===1)oe.children=le;else if(1<ye){for(var bt=Array(ye),et=0;et<ye;et++)bt[et]=arguments[et+2];oe.children=bt}return O(k.type,ae,void 0,void 0,_e,oe)},Ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,ne,le){var oe,ae={},_e=null;if(ne!=null)for(oe in ne.key!==void 0&&(_e=""+ne.key),ne)fe.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ae[oe]=ne[oe]);var ye=arguments.length-2;if(ye===1)ae.children=le;else if(1<ye){for(var bt=Array(ye),et=0;et<ye;et++)bt[et]=arguments[et+2];ae.children=bt}if(k&&k.defaultProps)for(oe in ye=k.defaultProps,ye)ae[oe]===void 0&&(ae[oe]=ye[oe]);return O(k,_e,void 0,void 0,null,ae)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=C,Ie.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:he}},Ie.memo=function(k,ne){return{$$typeof:g,type:k,compare:ne===void 0?null:ne}},Ie.startTransition=function(k){var ne=re.T,le={};re.T=le;try{var oe=k(),ae=re.S;ae!==null&&ae(le,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(De,ge)}catch(_e){ge(_e)}finally{re.T=ne}},Ie.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ie.use=function(k){return re.H.use(k)},Ie.useActionState=function(k,ne,le){return re.H.useActionState(k,ne,le)},Ie.useCallback=function(k,ne){return re.H.useCallback(k,ne)},Ie.useContext=function(k){return re.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,ne){return re.H.useDeferredValue(k,ne)},Ie.useEffect=function(k,ne,le){var oe=re.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(k,ne)},Ie.useId=function(){return re.H.useId()},Ie.useImperativeHandle=function(k,ne,le){return re.H.useImperativeHandle(k,ne,le)},Ie.useInsertionEffect=function(k,ne){return re.H.useInsertionEffect(k,ne)},Ie.useLayoutEffect=function(k,ne){return re.H.useLayoutEffect(k,ne)},Ie.useMemo=function(k,ne){return re.H.useMemo(k,ne)},Ie.useOptimistic=function(k,ne){return re.H.useOptimistic(k,ne)},Ie.useReducer=function(k,ne,le){return re.H.useReducer(k,ne,le)},Ie.useRef=function(k){return re.H.useRef(k)},Ie.useState=function(k){return re.H.useState(k)},Ie.useSyncExternalStore=function(k,ne,le){return re.H.useSyncExternalStore(k,ne,le)},Ie.useTransition=function(){return re.H.useTransition()},Ie.version="19.1.0",Ie}var bv;function sp(){return bv||(bv=1,am.exports=FS()),am.exports}var B=sp();const GS=_0(B);var om={exports:{}},Vl={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function KS(){return wv||(wv=1,function(i){function e(F,he){var ge=F.length;F.push(he);e:for(;0<ge;){var De=ge-1>>>1,k=F[De];if(0<o(k,he))F[De]=he,F[ge]=k,ge=De;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var he=F[0],ge=F.pop();if(ge!==he){F[0]=ge;e:for(var De=0,k=F.length,ne=k>>>1;De<ne;){var le=2*(De+1)-1,oe=F[le],ae=le+1,_e=F[ae];if(0>o(oe,ge))ae<k&&0>o(_e,oe)?(F[De]=_e,F[ae]=ge,De=ae):(F[De]=oe,F[le]=ge,De=le);else if(ae<k&&0>o(_e,ge))F[De]=_e,F[ae]=ge,De=ae;else break e}}return he}function o(F,he){var ge=F.sortIndex-he.sortIndex;return ge!==0?ge:F.id-he.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,S=null,b=3,D=!1,x=!1,z=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function te(F){for(var he=n(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=F)s(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=n(g)}}function re(F){if(z=!1,te(F),!x)if(n(p)!==null)x=!0,fe||(fe=!0,L());else{var he=n(g);he!==null&&Ge(re,he.startTime-F)}}var fe=!1,O=-1,R=5,C=-1;function M(){return U?!0:!(i.unstable_now()-C<R)}function V(){if(U=!1,fe){var F=i.unstable_now();C=F;var he=!0;try{e:{x=!1,z&&(z=!1,Q(O),O=-1),D=!0;var ge=b;try{t:{for(te(F),S=n(p);S!==null&&!(S.expirationTime>F&&M());){var De=S.callback;if(typeof De=="function"){S.callback=null,b=S.priorityLevel;var k=De(S.expirationTime<=F);if(F=i.unstable_now(),typeof k=="function"){S.callback=k,te(F),he=!0;break t}S===n(p)&&s(p),te(F)}else s(p);S=n(p)}if(S!==null)he=!0;else{var ne=n(g);ne!==null&&Ge(re,ne.startTime-F),he=!1}}break e}finally{S=null,b=ge,D=!1}he=void 0}}finally{he?L():fe=!1}}}var L;if(typeof W=="function")L=function(){W(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,at=N.port2;N.port1.onmessage=V,L=function(){at.postMessage(null)}}else L=function(){K(V,0)};function Ge(F,he){O=K(function(){F(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(F){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var ge=b;b=he;try{return F()}finally{b=ge}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(F,he){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=b;b=F;try{return he()}finally{b=ge}},i.unstable_scheduleCallback=function(F,he,ge){var De=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,F){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ge+k,F={id:T++,callback:he,priorityLevel:F,startTime:ge,expirationTime:k,sortIndex:-1},ge>De?(F.sortIndex=ge,e(g,F),n(p)===null&&F===n(g)&&(z?(Q(O),O=-1):z=!0,Ge(re,ge-De))):(F.sortIndex=k,e(p,F),x||D||(x=!0,fe||(fe=!0,L()))),F},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(F){var he=b;return function(){var ge=b;b=he;try{return F.apply(this,arguments)}finally{b=ge}}}}(um)),um}var Sv;function YS(){return Sv||(Sv=1,lm.exports=KS()),lm.exports}var cm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function $S(){if(Av)return nn;Av=1;var i=sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},nn.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:D}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var Rv;function QS(){if(Rv)return cm.exports;Rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cm.exports=$S(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function XS(){if(Cv)return Vl;Cv=1;var i=YS(),e=sp(),n=QS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case re:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case W:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case te:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:at(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return at(t(r))}catch{}}return null}var Ge=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],k=-1;function ne(t){return{current:t}}function le(t){0>k||(t.current=De[k],De[k]=null,k--)}function oe(t,r){k++,De[k]=t.current,t.current=r}var ae=ne(null),_e=ne(null),ye=ne(null),bt=ne(null);function et(t,r){switch(oe(ye,r),oe(_e,t),oe(ae,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Y_(r),t=$_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ae),oe(ae,t)}function pn(){le(ae),le(_e),le(ye)}function si(t){t.memoizedState!==null&&oe(bt,t);var r=ae.current,a=$_(r,t.type);r!==a&&(oe(_e,t),oe(ae,a))}function $n(t){_e.current===t&&(le(ae),le(_e)),bt.current===t&&(le(bt),xl._currentValue=ge)}var Dn=Object.prototype.hasOwnProperty,ai=i.unstable_scheduleCallback,ki=i.unstable_cancelCallback,ps=i.unstable_shouldYield,gs=i.unstable_requestPaint,Nt=i.unstable_now,No=i.unstable_getCurrentPriorityLevel,ys=i.unstable_ImmediatePriority,ue=i.unstable_UserBlockingPriority,We=i.unstable_NormalPriority,pt=i.unstable_LowPriority,Ye=i.unstable_IdlePriority,He=i.log,$e=i.unstable_setDisableYieldValue,Pe=null,Ue=null;function un(t){if(typeof He=="function"&&$e(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Pe,t)}catch{}}var en=Math.clz32?Math.clz32:_s,bu=Math.log,of=Math.LN2;function _s(t){return t>>>=0,t===0?32:31-(bu(t)/of|0)|0}var vs=256,Es=4194304;function Qn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function da(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Qn(l):(E&=w,E!==0?h=Qn(E):a||(a=w&~t,a!==0&&(h=Qn(a))))):(w=l&~d,w!==0?h=Qn(w):E!==0?h=Qn(E):a||(a=l&~t,a!==0&&(h=Qn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Ts(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function xo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),t}function Oo(){var t=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),t}function Mi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Pi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ko(t,r,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,G=t.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-en(a),ee=1<<Z;w[Z]=0,I[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&oi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function oi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Mo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-en(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ma(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yr(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:dv(t.type))}function wu(t,r){var a=he.p;try{return he.p=t,r()}finally{he.p=a}}var ut=Math.random().toString(36).slice(2),xt="__reactFiber$"+ut,wt="__reactProps$"+ut,On="__reactContainer$"+ut,Po="__reactEvents$"+ut,lf="__reactListeners$"+ut,_r="__reactHandles$"+ut,Su="__reactResources$"+ut,bs="__reactMarker$"+ut;function vr(t){delete t[xt],delete t[wt],delete t[Po],delete t[lf],delete t[_r]}function Vi(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[On]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Z_(t);t!==null;){if(a=t[xt])return a;t=Z_(t)}return r}t=a,a=t.parentNode}return null}function li(t){if(t=t[xt]||t[On]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ui(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function cn(t){var r=t[Su];return r||(r=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(t){t[bs]=!0}var Vo=new Set,pa={};function Xn(t,r){Li(t,r),Li(t+"Capture",r)}function Li(t,r){for(pa[t]=r,t=0;t<r.length;t++)Vo.add(r[t])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},ws={};function Cu(t){return Dn.call(ws,t)?!0:Dn.call(Ru,t)?!1:Au.test(t)?ws[t]=!0:(Ru[t]=!0,!1)}function Er(t,r,a){if(Cu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ci(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ft(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ss,Iu;function Ui(t){if(Ss===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ss=r&&r[1]||"",Iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+Iu}var ga=!1;function ya(t,r){if(!t||ga)return"";ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var Y=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){Y=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){Y=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),G=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===G.length)for(l=I.length-1,h=G.length-1;1<=l&&0<=h&&I[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==G[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ga=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ui(a):""}function Lo(t){switch(t.tag){case 26:case 27:case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return Ui("Activity");default:return""}}function _a(t){try{var r="";do r+=Lo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uf(t){var r=Uo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function va(t){t._valueTracker||(t._valueTracker=uf(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Uo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cf=/[\n"\\]/g;function St(t){return t.replace(cf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(t,r,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+hn(r)):t.value!==""+hn(r)&&(t.value=""+hn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Tr(t,E,hn(r)):a!=null?Tr(t,E,hn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+hn(w):t.removeAttribute("name")}function Rs(t,r,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+hn(a):"",r=r!=null?""+hn(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Tr(t,r,a){r==="number"&&As(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ji(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+hn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function tt(t,r,a){if(r!=null&&(r=""+hn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+hn(a):""}function Cs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ge(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=hn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function kn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Is.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Bo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Nu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Nu(t,d,r[d])}function zo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return ff.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bi=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,qi=null;function qo(t){var r=li(t);if(r&&(t=r.stateNode)){var a=t[wt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Tn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&jo(l)}break e;case"textarea":tt(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ji(t,!!a.multiple,r,!1)}}}var hi=!1;function xu(t,r,a){if(hi)return t(r,a);hi=!0;try{var l=t(r);return l}finally{if(hi=!1,(zi!==null||qi!==null)&&(wc(),zi&&(r=zi,t=qi,qi=zi=null,qo(r),t)))for(r=0;r<t.length;r++)qo(t[r])}}function Ns(t,r){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(Wn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Pn=!1}var fi=null,br=null,Hi=null;function Ho(){if(Hi)return Hi;var t,r=br,a=r.length,l,h="value"in fi?fi.value:fi.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return Hi=h.slice(t,1<l?1-l:void 0)}function di(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function Fo(){return!1}function Lt(t){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?mi:Fo,this.isPropagationStopped=Fo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Lt(Qe),Ds=T({},Qe,{view:0,detail:0}),Du=Lt(Ds),ba,wa,pi,Os=T({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(ba=t.screenX-pi.screenX,wa=t.screenY-pi.screenY):wa=ba=0,pi=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Vn=Lt(Os),Ou=T({},Os,{dataTransfer:0}),df=Lt(Ou),ks=T({},Ds,{relatedTarget:0}),Sa=Lt(ks),Go=T({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Lt(Go),ku=T({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=Lt(ku),mf=T({},Qe,{data:0}),Ko=Lt(mf),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Pu[t])?!!r[t]:!1}function Ps(){return Yo}var Vu=T({},Ds,{key:function(t){if(t.key){var r=Ms[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Lt(Vu),Lu=T({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Lt(Lu),Fi=T({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Uu=Lt(Fi),ju=T({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=Lt(ju),zu=T({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=Lt(zu),fn=T({},Qe,{newState:0,oldState:0}),qu=Lt(fn),Hu=[9,13,27,32],gi=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var y=Wn&&"TextEvent"in window&&!c,v=Wn&&(!gi||c&&8<c&&11>=c),A=" ",q=!1;function X(t,r){switch(t){case"keyup":return Hu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Dt(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(q=!0,A);case"textInput":return t=r.data,t===A&&q?null:t;default:return null}}function Be(t,r){if(je)return t==="compositionend"||!gi&&X(t,r)?(t=Ho(),Hi=br=fi=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ut[t.type]:r==="textarea"}function Gi(t,r,a,l){zi?qi?qi.push(l):qi=[l]:zi=l,r=Nc(r,"onChange"),0<r.length&&(a=new Ta("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Gt=null,yi=null;function Qo(t){q_(t,0)}function Fu(t){var r=ui(t);if(jo(r))return t}function ug(t,r){if(t==="change")return r}var cg=!1;if(Wn){var pf;if(Wn){var gf="oninput"in document;if(!gf){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),gf=typeof hg.oninput=="function"}pf=gf}else pf=!1;cg=pf&&(!document.documentMode||9<document.documentMode)}function fg(){Gt&&(Gt.detachEvent("onpropertychange",dg),yi=Gt=null)}function dg(t){if(t.propertyName==="value"&&Fu(yi)){var r=[];Gi(r,yi,t,Mn(t)),xu(Qo,r)}}function _w(t,r,a){t==="focusin"?(fg(),Gt=r,yi=a,Gt.attachEvent("onpropertychange",dg)):t==="focusout"&&fg()}function vw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(yi)}function Ew(t,r){if(t==="click")return Fu(r)}function Tw(t,r){if(t==="input"||t==="change")return Fu(r)}function bw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:bw;function Xo(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Dn.call(r,h)||!bn(t[h],r[h]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,r){var a=mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mg(a)}}function gg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?gg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=As(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=As(t.document)}return r}function yf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var ww=Wn&&"documentMode"in document&&11>=document.documentMode,Na=null,_f=null,Wo=null,vf=!1;function _g(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Na==null||Na!==As(l)||(l=Na,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Xo(Wo,l)||(Wo=l,l=Nc(_f,"onSelect"),0<l.length&&(r=new Ta("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Na)))}function Vs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var xa={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Ef={},vg={};Wn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ls(t){if(Ef[t])return Ef[t];if(!xa[t])return t;var r=xa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in vg)return Ef[t]=r[a];return t}var Eg=Ls("animationend"),Tg=Ls("animationiteration"),bg=Ls("animationstart"),Sw=Ls("transitionrun"),Aw=Ls("transitionstart"),Rw=Ls("transitioncancel"),wg=Ls("transitionend"),Sg=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function Zn(t,r){Sg.set(t,r),Xn(r,[t])}var Ag=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(r={value:t,source:r,stack:_a(r)},Ag.set(t,r),r)}return{value:t,source:r,stack:_a(r)}}var Un=[],Da=0,bf=0;function Gu(){for(var t=Da,r=bf=Da=0;r<t;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var h=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Rg(a,h,d)}}function Ku(t,r,a,l){Un[Da++]=t,Un[Da++]=r,Un[Da++]=a,Un[Da++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,r,a,l){return Ku(t,r,a,l),Yu(t)}function Oa(t,r){return Ku(t,null,null,r),Yu(t)}function Rg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-en(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Yu(t){if(50<bl)throw bl=0,Nd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ka={};function Cw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,r,a,l){return new Cw(t,r,a,l)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,r){var a=t.alternate;return a===null?(a=wn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function $u(t,r,a,l,h,d){var E=0;if(l=t,typeof t=="function")Sf(t)&&(E=1);else if(typeof t=="string")E=NS(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=wn(31,a,r,h),t.elementType=C,t.lanes=d,t;case x:return Us(a.children,h,d,r);case z:E=8,h|=24;break;case U:return t=wn(12,a,r,h|2),t.elementType=U,t.lanes=d,t;case re:return t=wn(13,a,r,h),t.elementType=re,t.lanes=d,t;case fe:return t=wn(19,a,r,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case W:E=10;break e;case Q:E=9;break e;case te:E=11;break e;case O:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=wn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Us(t,r,a,l){return t=wn(7,t,l,r),t.lanes=a,t}function Af(t,r,a){return t=wn(6,t,null,r),t.lanes=a,t}function Rf(t,r,a){return r=wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ma=[],Pa=0,Qu=null,Xu=0,jn=[],Bn=0,js=null,Yi=1,$i="";function Bs(t,r){Ma[Pa++]=Xu,Ma[Pa++]=Qu,Qu=t,Xu=r}function Ig(t,r,a){jn[Bn++]=Yi,jn[Bn++]=$i,jn[Bn++]=js,js=t;var l=Yi;t=$i;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Yi=1<<32-en(r)+h|a<<h|l,$i=d+t}else Yi=1<<d|a<<h|l,$i=t}function Cf(t){t.return!==null&&(Bs(t,1),Ig(t,1,0))}function If(t){for(;t===Qu;)Qu=Ma[--Pa],Ma[Pa]=null,Xu=Ma[--Pa],Ma[Pa]=null;for(;t===js;)js=jn[--Bn],jn[Bn]=null,$i=jn[--Bn],jn[Bn]=null,Yi=jn[--Bn],jn[Bn]=null}var dn=null,gt=null,Ke=!1,zs=null,_i=!1,Nf=Error(s(519));function qs(t){var r=Error(s(418,""));throw el(Ln(r,t)),Nf}function Ng(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[wt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Me(Sl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Rs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Cs(r,l.value,l.defaultValue,l.children),va(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||K_(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||qs(t)}function xg(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:dn=dn.return}}function Zo(t){if(t!==dn)return!1;if(!Ke)return xg(t),Ke=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&gt&&qs(t),xg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){gt=ei(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}gt=null}}else r===27?(r=gt,Ur(t.type)?(t=Qd,Qd=null,gt=t):gt=r):gt=dn?ei(t.stateNode.nextSibling):null;return!0}function Jo(){gt=dn=null,Ke=!1}function Dg(){var t=zs;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),zs=null),t}function el(t){zs===null?zs=[t]:zs.push(t)}var xf=ne(null),Hs=null,Qi=null;function wr(t,r,a){oe(xf,r._currentValue),r._currentValue=a}function Xi(t){t._currentValue=xf.current,le(xf)}function Df(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Of(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var I=0;I<r.length;I++)if(w.context===r[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Df(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Df(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function tl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;bn(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===bt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&Of(r,t,a,l),r.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Og(Hs,t)}function Zu(t,r){return Hs===null&&Fs(t),Og(t,r)}function Og(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Qi=Qi.next=r;return a}var Iw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Nw=i.unstable_scheduleCallback,xw=i.unstable_NormalPriority,kt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new Iw,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Nw(xw,function(){t.controller.abort()})}var il=null,Mf=0,Va=0,La=null;function Dw(t,r){if(il===null){var a=il=[];Mf=0,Va=Vd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,r.then(kg,kg),r}function kg(){if(--Mf===0&&il!==null){La!==null&&(La.status="fulfilled");var t=il;il=null,Va=0,La=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Ow(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=F.S;F.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Dw(t,r),Mg!==null&&Mg(t,r)};var Gs=ne(null);function Pf(){var t=Gs.current;return t!==null?t:ot.pooledCache}function Ju(t,r){r===null?oe(Gs,Gs.current):oe(Gs,r.pool)}function Pg(){var t=Pf();return t===null?null:{parent:kt._currentValue,pool:t}}var rl=Error(s(460)),Vg=Error(s(474)),ec=Error(s(542)),Vf={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Ug(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bg(t),t;default:if(typeof r.status=="string")r.then(tc,tc);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bg(t),t}throw sl=r,rl}}var sl=null;function jg(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Bg(t){if(t===rl||t===ec)throw Error(s(483))}var Sr=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Yu(t),Rg(t,null,a),r}return Ku(t,l,r,a),Yu(t)}function al(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}function jf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Bf=!1;function ol(){if(Bf){var t=La;if(t!==null)throw t}}function ll(t,r,a,l){Bf=!1;var h=t.updateQueue;Sr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,G=I.next;I.next=null,E===null?d=G:E.next=G,E=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=G:w.next=G,Z.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;E=0,Z=G=I=null,w=d;do{var Y=w.lane&-536870913,$=Y!==w.lane;if($?(ze&Y)===Y:(l&Y)===Y){Y!==0&&Y===Va&&(Bf=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=t,Te=w;Y=r;var rt=a;switch(Te.tag){case 1:if(Ae=Te.payload,typeof Ae=="function"){ee=Ae.call(rt,ee,Y);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Te.payload,Y=typeof Ae=="function"?Ae.call(rt,ee,Y):Ae,Y==null)break e;ee=T({},ee,Y);break e;case 2:Sr=!0}}Y=w.callback,Y!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(G=Z=$,I=ee):Z=Z.next=$,E|=Y;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Mr|=E,t.lanes=E,t.memoizedState=ee}}function zg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function qg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zg(a[t],r)}var Ua=ne(null),nc=ne(0);function Hg(t,r){t=ir,oe(nc,t),oe(Ua,r),ir=t|r.baseLanes}function zf(){oe(nc,ir),oe(Ua,Ua.current)}function qf(){ir=nc.current,le(Ua),le(nc)}var Cr=0,Ne=null,nt=null,At=null,ic=!1,ja=!1,Ks=!1,rc=0,ul=0,Ba=null,kw=0;function vt(){throw Error(s(321))}function Hf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function Ff(t,r,a,l,h,d){return Cr=d,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=t===null||t.memoizedState===null?Ry:Cy,Ks=!1,d=a(l,h),Ks=!1,ja&&(d=Gg(r,a,l,h)),Fg(t),d}function Fg(t){F.H=cc;var r=nt!==null&&nt.next!==null;if(Cr=0,At=nt=Ne=null,ic=!1,ul=0,Ba=null,r)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&Wu(t)&&(jt=!0))}function Gg(t,r,a,l){Ne=t;var h=0;do{if(ja&&(Ba=null),ul=0,ja=!1,25<=h)throw Error(s(301));if(h+=1,At=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Bw,d=r(a,l)}while(ja);return d}function Mw(){var t=F.H,r=t.useState()[0];return r=typeof r.then=="function"?cl(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Gf(){var t=rc!==0;return rc=0,t}function Kf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Yf(t){if(ic){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ic=!1}Cr=0,At=nt=Ne=null,ja=!1,ul=rc=0,Ba=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ne.memoizedState=At=t:At=At.next=t,At}function Rt(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=At===null?Ne.memoizedState:At.next;if(r!==null)At=r,nt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},At===null?Ne.memoizedState=At=t:At=At.next=t}return At}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var r=ul;return ul+=1,Ba===null&&(Ba=[]),t=Ug(Ba,t,r),r=Ne,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?Ry:Cy),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===W)return tn(t)}throw Error(s(438,String(t)))}function Qf(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=$f(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function Wi(t,r){return typeof r=="function"?r(t):r}function ac(t){var r=Rt();return Xf(r,nt,t)}function Xf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var w=E=null,I=null,G=r,Z=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(ze&ee)===ee:(Cr&ee)===ee){var Y=G.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Va&&(Z=!0);else if((Cr&Y)===Y){G=G.next,Y===Va&&(Z=!0);continue}else ee={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(w=I=ee,E=d):I=I.next=ee,Ne.lanes|=Y,Mr|=Y;ee=G.action,Ks&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else Y={lane:ee,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(w=I=Y,E=d):I=I.next=Y,Ne.lanes|=ee,Mr|=ee;G=G.next}while(G!==null&&G!==r);if(I===null?E=d:I.next=w,!bn(d,t.memoizedState)&&(jt=!0,Z&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);bn(d,r.memoizedState)||(jt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,r,a){var l=Ne,h=Rt(),d=Ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!bn((nt||h).memoizedState,a);E&&(h.memoizedState=a,jt=!0),h=h.queue;var w=Qg.bind(null,l,h,t);if(hl(2048,8,w,[t]),h.getSnapshot!==r||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,za(9,oc(),$g.bind(null,l,h,a,r),null),ot===null)throw Error(s(349));d||(Cr&124)!==0||Yg(l,r,a)}return a}function Yg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=$f(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function $g(t,r,a,l){r.value=a,r.getSnapshot=l,Xg(r)&&Wg(t)}function Qg(t,r,a){return a(function(){Xg(r)&&Wg(t)})}function Xg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function Wg(t){var r=Oa(t,2);r!==null&&In(r,t,2)}function Zf(t){var r=gn();if(typeof t=="function"){var a=t;if(t=a(),Ks){un(!0);try{a()}finally{un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},r}function Zg(t,r,a,l){return t.baseState=a,Xf(t,nt,typeof l=="function"?l:Wi)}function Pw(t,r,a,l,h){if(uc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Jg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Jg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=F.T,E={};F.T=E;try{var w=a(h,l),I=F.S;I!==null&&I(E,w),ey(t,r,w)}catch(G){Jf(t,r,G)}finally{F.T=d}}else try{d=a(h,l),ey(t,r,d)}catch(G){Jf(t,r,G)}}function ey(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ty(t,r,l)},function(l){return Jf(t,r,l)}):ty(t,r,a)}function ty(t,r,a){r.status="fulfilled",r.value=a,ny(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Jg(t,a)))}function Jf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ny(r),r=r.next;while(r!==l)}t.action=null}function ny(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function iy(t,r){return r}function ry(t,r){if(Ke){var a=ot.formState;if(a!==null){e:{var l=Ne;if(Ke){if(gt){t:{for(var h=gt,d=_i;h.nodeType!==8;){if(!d){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){gt=ei(h.nextSibling),l=h.data==="F!";break e}}qs(l)}l=!1}l&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:r},a.queue=l,a=wy.bind(null,Ne,l),l.dispatch=a,l=Zf(!1),d=rd.bind(null,Ne,!1,l.queue),l=gn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Pw.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function sy(t){var r=Rt();return ay(r,nt,t)}function ay(t,r,a){if(r=Xf(t,r,iy)[0],t=ac(Wi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=cl(r)}catch(E){throw E===rl?ec:E}else l=r;r=Rt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,za(9,oc(),Vw.bind(null,h,a),null)),[l,d,t]}function Vw(t,r){t.action=r}function oy(t){var r=Rt(),a=nt;if(a!==null)return ay(r,a,t);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function za(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=$f(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function oc(){return{destroy:void 0,resource:void 0}}function ly(){return Rt().memoizedState}function lc(t,r,a,l){var h=gn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=za(1|r,oc(),a,l)}function hl(t,r,a,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Hf(l,nt.memoizedState.deps)?h.memoizedState=za(r,d,a,l):(Ne.flags|=t,h.memoizedState=za(1|r,d,a,l))}function uy(t,r){lc(8390656,8,t,r)}function cy(t,r){hl(2048,8,t,r)}function hy(t,r){return hl(4,2,t,r)}function fy(t,r){return hl(4,4,t,r)}function dy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function my(t,r,a){a=a!=null?a.concat([t]):null,hl(4,4,dy.bind(null,r,t),a)}function ed(){}function py(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Hf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function gy(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Hf(r,l[1]))return l[0];if(l=t(),Ks){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l}function td(t,r,a){return a===void 0||(Cr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=v_(),Ne.lanes|=t,Mr|=t,a)}function yy(t,r,a,l){return bn(a,r)?a:Ua.current!==null?(t=td(t,a,l),bn(t,r)||(jt=!0),t):(Cr&42)===0?(jt=!0,t.memoizedState=a):(t=v_(),Ne.lanes|=t,Mr|=t,r)}function _y(t,r,a,l,h){var d=he.p;he.p=d!==0&&8>d?d:8;var E=F.T,w={};F.T=w,rd(t,!1,r,a);try{var I=h(),G=F.S;if(G!==null&&G(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=Ow(I,l);fl(t,r,Z,Cn(t))}else fl(t,r,l,Cn(t))}catch(ee){fl(t,r,{then:function(){},status:"rejected",reason:ee},Cn())}finally{he.p=d,F.T=E}}function Lw(){}function nd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=vy(t).queue;_y(t,h,r,ge,a===null?Lw:function(){return Ey(t),a(l)})}function vy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ey(t){var r=vy(t).next.queue;fl(t,r,{},Cn())}function id(){return tn(xl)}function Ty(){return Rt().memoizedState}function by(){return Rt().memoizedState}function Uw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();t=Ar(a);var l=Rr(r,t,a);l!==null&&(In(l,r,a),al(l,r,a)),r={cache:kf()},t.payload=r;return}r=r.return}}function jw(t,r,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?Sy(r,a):(a=wf(t,r,a,l),a!==null&&(In(a,t,l),Ay(a,r,l)))}function wy(t,r,a){var l=Cn();fl(t,r,a,l)}function fl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))Sy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,bn(w,E))return Ku(t,r,h,0),ot===null&&Gu(),!1}catch{}finally{}if(a=wf(t,r,h,l),a!==null)return In(a,t,l),Ay(a,r,l),!0}return!1}function rd(t,r,a,l){if(l={lane:2,revertLane:Vd(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(r)throw Error(s(479))}else r=wf(t,a,l,2),r!==null&&In(r,t,2)}function uc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Sy(t,r){ja=ic=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ay(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}var cc={readContext:tn,use:sc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Ry={readContext:tn,use:sc,useCallback:function(t,r){return gn().memoizedState=[t,r===void 0?null:r],t},useContext:tn,useEffect:uy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,lc(4194308,4,dy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return lc(4194308,4,t,r)},useInsertionEffect:function(t,r){lc(4,2,t,r)},useMemo:function(t,r){var a=gn();r=r===void 0?null:r;var l=t();if(Ks){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=gn();if(a!==void 0){var h=a(r);if(Ks){un(!0);try{a(r)}finally{un(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jw.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=gn();return t={current:t},r.memoizedState=t},useState:function(t){t=Zf(t);var r=t.queue,a=wy.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,r){var a=gn();return td(a,t,r)},useTransition:function(){var t=Zf(!1);return t=_y.bind(null,Ne,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,h=gn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(ze&124)!==0||Yg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,uy(Qg.bind(null,l,d,t),[t]),l.flags|=2048,za(9,oc(),$g.bind(null,l,d,a,r),null),a},useId:function(){var t=gn(),r=ot.identifierPrefix;if(Ke){var a=$i,l=Yi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=rc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=kw++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:id,useFormState:ry,useActionState:ry,useOptimistic:function(t){var r=gn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=rd.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:Qf,useCacheRefresh:function(){return gn().memoizedState=Uw.bind(null,Ne)}},Cy={readContext:tn,use:sc,useCallback:py,useContext:tn,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:ac,useRef:ly,useState:function(){return ac(Wi)},useDebugValue:ed,useDeferredValue:function(t,r){var a=Rt();return yy(a,nt.memoizedState,t,r)},useTransition:function(){var t=ac(Wi)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:id,useFormState:sy,useActionState:sy,useOptimistic:function(t,r){var a=Rt();return Zg(a,nt,t,r)},useMemoCache:Qf,useCacheRefresh:by},Bw={readContext:tn,use:sc,useCallback:py,useContext:tn,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:Wf,useRef:ly,useState:function(){return Wf(Wi)},useDebugValue:ed,useDeferredValue:function(t,r){var a=Rt();return nt===null?td(a,t,r):yy(a,nt.memoizedState,t,r)},useTransition:function(){var t=Wf(Wi)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:id,useFormState:oy,useActionState:oy,useOptimistic:function(t,r){var a=Rt();return nt!==null?Zg(a,nt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:by},qa=null,dl=0;function hc(t){var r=dl;return dl+=1,qa===null&&(qa=[]),Ug(qa,t,r)}function ml(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function fc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Iy(t){var r=t._init;return r(t._payload)}function Ny(t){function r(j,P){if(t){var H=j.deletions;H===null?(j.deletions=[P],j.flags|=16):H.push(P)}}function a(j,P){if(!t)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function h(j,P){return j=Ki(j,P),j.index=0,j.sibling=null,j}function d(j,P,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<P?(j.flags|=67108866,P):H):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function E(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function w(j,P,H,J){return P===null||P.tag!==6?(P=Af(H,j.mode,J),P.return=j,P):(P=h(P,H),P.return=j,P)}function I(j,P,H,J){var pe=H.type;return pe===x?Z(j,P,H.props.children,J,H.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Iy(pe)===P.type)?(P=h(P,H.props),ml(P,H),P.return=j,P):(P=$u(H.type,H.key,H.props,null,j.mode,J),ml(P,H),P.return=j,P)}function G(j,P,H,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Rf(H,j.mode,J),P.return=j,P):(P=h(P,H.children||[]),P.return=j,P)}function Z(j,P,H,J,pe){return P===null||P.tag!==7?(P=Us(H,j.mode,J,pe),P.return=j,P):(P=h(P,H),P.return=j,P)}function ee(j,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Af(""+P,j.mode,H),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return H=$u(P.type,P.key,P.props,null,j.mode,H),ml(H,P),H.return=j,H;case D:return P=Rf(P,j.mode,H),P.return=j,P;case R:var J=P._init;return P=J(P._payload),ee(j,P,H)}if(Ge(P)||L(P))return P=Us(P,j.mode,H,null),P.return=j,P;if(typeof P.then=="function")return ee(j,hc(P),H);if(P.$$typeof===W)return ee(j,Zu(j,P),H);fc(j,P)}return null}function Y(j,P,H,J){var pe=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:w(j,P,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===pe?I(j,P,H,J):null;case D:return H.key===pe?G(j,P,H,J):null;case R:return pe=H._init,H=pe(H._payload),Y(j,P,H,J)}if(Ge(H)||L(H))return pe!==null?null:Z(j,P,H,J,null);if(typeof H.then=="function")return Y(j,P,hc(H),J);if(H.$$typeof===W)return Y(j,P,Zu(j,H),J);fc(j,H)}return null}function $(j,P,H,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,w(P,j,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return j=j.get(J.key===null?H:J.key)||null,I(P,j,J,pe);case D:return j=j.get(J.key===null?H:J.key)||null,G(P,j,J,pe);case R:var Oe=J._init;return J=Oe(J._payload),$(j,P,H,J,pe)}if(Ge(J)||L(J))return j=j.get(H)||null,Z(P,j,J,pe,null);if(typeof J.then=="function")return $(j,P,H,hc(J),pe);if(J.$$typeof===W)return $(j,P,H,Zu(P,J),pe);fc(P,J)}return null}function Ae(j,P,H,J){for(var pe=null,Oe=null,ve=P,be=P=0,zt=null;ve!==null&&be<H.length;be++){ve.index>be?(zt=ve,ve=null):zt=ve.sibling;var Fe=Y(j,ve,H[be],J);if(Fe===null){ve===null&&(ve=zt);break}t&&ve&&Fe.alternate===null&&r(j,ve),P=d(Fe,P,be),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe,ve=zt}if(be===H.length)return a(j,ve),Ke&&Bs(j,be),pe;if(ve===null){for(;be<H.length;be++)ve=ee(j,H[be],J),ve!==null&&(P=d(ve,P,be),Oe===null?pe=ve:Oe.sibling=ve,Oe=ve);return Ke&&Bs(j,be),pe}for(ve=l(ve);be<H.length;be++)zt=$(ve,j,be,H[be],J),zt!==null&&(t&&zt.alternate!==null&&ve.delete(zt.key===null?be:zt.key),P=d(zt,P,be),Oe===null?pe=zt:Oe.sibling=zt,Oe=zt);return t&&ve.forEach(function(Hr){return r(j,Hr)}),Ke&&Bs(j,be),pe}function Te(j,P,H,J){if(H==null)throw Error(s(151));for(var pe=null,Oe=null,ve=P,be=P=0,zt=null,Fe=H.next();ve!==null&&!Fe.done;be++,Fe=H.next()){ve.index>be?(zt=ve,ve=null):zt=ve.sibling;var Hr=Y(j,ve,Fe.value,J);if(Hr===null){ve===null&&(ve=zt);break}t&&ve&&Hr.alternate===null&&r(j,ve),P=d(Hr,P,be),Oe===null?pe=Hr:Oe.sibling=Hr,Oe=Hr,ve=zt}if(Fe.done)return a(j,ve),Ke&&Bs(j,be),pe;if(ve===null){for(;!Fe.done;be++,Fe=H.next())Fe=ee(j,Fe.value,J),Fe!==null&&(P=d(Fe,P,be),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return Ke&&Bs(j,be),pe}for(ve=l(ve);!Fe.done;be++,Fe=H.next())Fe=$(ve,j,be,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&ve.delete(Fe.key===null?be:Fe.key),P=d(Fe,P,be),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return t&&ve.forEach(function(zS){return r(j,zS)}),Ke&&Bs(j,be),pe}function rt(j,P,H,J){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var pe=H.key;P!==null;){if(P.key===pe){if(pe=H.type,pe===x){if(P.tag===7){a(j,P.sibling),J=h(P,H.props.children),J.return=j,j=J;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Iy(pe)===P.type){a(j,P.sibling),J=h(P,H.props),ml(J,H),J.return=j,j=J;break e}a(j,P);break}else r(j,P);P=P.sibling}H.type===x?(J=Us(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=$u(H.type,H.key,H.props,null,j.mode,J),ml(J,H),J.return=j,j=J)}return E(j);case D:e:{for(pe=H.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(j,P.sibling),J=h(P,H.children||[]),J.return=j,j=J;break e}else{a(j,P);break}else r(j,P);P=P.sibling}J=Rf(H,j.mode,J),J.return=j,j=J}return E(j);case R:return pe=H._init,H=pe(H._payload),rt(j,P,H,J)}if(Ge(H))return Ae(j,P,H,J);if(L(H)){if(pe=L(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),Te(j,P,H,J)}if(typeof H.then=="function")return rt(j,P,hc(H),J);if(H.$$typeof===W)return rt(j,P,Zu(j,H),J);fc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(j,P.sibling),J=h(P,H),J.return=j,j=J):(a(j,P),J=Af(H,j.mode,J),J.return=j,j=J),E(j)):a(j,P)}return function(j,P,H,J){try{dl=0;var pe=rt(j,P,H,J);return qa=null,pe}catch(ve){if(ve===rl||ve===ec)throw ve;var Oe=wn(29,ve,null,j.mode);return Oe.lanes=J,Oe.return=j,Oe}finally{}}}var Ha=Ny(!0),xy=Ny(!1),zn=ne(null),vi=null;function Ir(t){var r=t.alternate;oe(Mt,Mt.current&1),oe(zn,t),vi===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(vi=t)}function Dy(t){if(t.tag===22){if(oe(Mt,Mt.current),oe(zn,t),vi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(vi=t)}}else Nr()}function Nr(){oe(Mt,Mt.current),oe(zn,zn.current)}function Zi(t){le(zn),vi===t&&(vi=null),le(Mt)}var Mt=ne(0);function dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function sd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Cn(),h=Ar(l);h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(In(r,t,l),al(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Cn(),h=Ar(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(In(r,t,l),al(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Cn(),l=Ar(a);l.tag=2,r!=null&&(l.callback=r),r=Rr(t,l,a),r!==null&&(In(r,t,a),al(r,t,a))}};function Oy(t,r,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,d):!0}function ky(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ad.enqueueReplaceState(r,r.state,null)}function Ys(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function My(t){mc(t)}function Py(t){console.error(t)}function Vy(t){mc(t)}function pc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ly(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function od(t,r,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,r)},a}function Uy(t){return t=Ar(t),t.tag=3,t}function jy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ly(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Ly(r,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function zw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&tl(r,a,h,!0),a=zn.current,a!==null){switch(a.tag){case 13:return vi===null?Dd():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(s(435,a.tag))}return kd(t,l,h),Dd(),!1}if(Ke)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Nf&&(t=Error(s(422),{cause:l}),el(Ln(t,a)))):(l!==Nf&&(r=Error(s(423),{cause:l}),el(Ln(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=od(t.stateNode,l,h),jf(t,h),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),Tl===null?Tl=[d]:Tl.push(d),yt!==4&&(yt=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=od(a.stateNode,l,t),jf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Uy(h),jy(h,t,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var By=Error(s(461)),jt=!1;function Kt(t,r,a,l){r.child=t===null?xy(r,null,a,l):Ha(r,t.child,a,l)}function zy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Fs(r),l=Ff(t,r,a,E,d,h),w=Gf(),t!==null&&!jt?(Kf(t,r,h),Ji(t,r,h)):(Ke&&w&&Cf(r),r.flags|=1,Kt(t,r,l,h),r.child)}function qy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Hy(t,r,d,l,h)):(t=$u(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!pd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(E,l)&&t.ref===r.ref)return Ji(t,r,h)}return r.flags|=1,t=Ki(d,l),t.ref=r.ref,t.return=r,r.child=t}function Hy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Xo(d,l)&&t.ref===r.ref)if(jt=!1,r.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,Ji(t,r,h)}return ld(t,r,a,l,h)}function Fy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Gy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(r,d!==null?d.cachePool:null),d!==null?Hg(r,d):zf(),Dy(r);else return r.lanes=r.childLanes=536870912,Gy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(r,d.cachePool),Hg(r,d),Nr(),r.memoizedState=null):(t!==null&&Ju(r,null),zf(),Nr());return Kt(t,r,h,a),r.child}function Gy(t,r,a,l){var h=Pf();return h=h===null?null:{parent:kt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ju(r,null),zf(),Dy(r),t!==null&&tl(t,r,l,!0),null}function gc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ld(t,r,a,l,h){return Fs(r),a=Ff(t,r,a,l,void 0,h),l=Gf(),t!==null&&!jt?(Kf(t,r,h),Ji(t,r,h)):(Ke&&l&&Cf(r),r.flags|=1,Kt(t,r,a,h),r.child)}function Ky(t,r,a,l,h,d){return Fs(r),r.updateQueue=null,a=Gg(r,l,a,h),Fg(t),l=Gf(),t!==null&&!jt?(Kf(t,r,d),Ji(t,r,d)):(Ke&&l&&Cf(r),r.flags|=1,Kt(t,r,a,d),r.child)}function Yy(t,r,a,l,h){if(Fs(r),r.stateNode===null){var d=ka,E=a.contextType;typeof E=="object"&&E!==null&&(d=tn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Lf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?tn(E):ka,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(sd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&ad.enqueueReplaceState(d,d.state,null),ll(r,l,d,h),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,I=Ys(a,w);d.props=I;var G=d.context,Z=a.contextType;E=ka,typeof Z=="object"&&Z!==null&&(E=tn(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||G!==E)&&ky(r,d,l,E),Sr=!1;var Y=r.memoizedState;d.state=Y,ll(r,l,d,h),ol(),G=r.memoizedState,w||Y!==G||Sr?(typeof ee=="function"&&(sd(r,a,ee,l),G=r.memoizedState),(I=Sr||Oy(r,a,I,l,Y,G,E))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Uf(t,r),E=r.memoizedProps,Z=Ys(a,E),d.props=Z,ee=r.pendingProps,Y=d.context,G=a.contextType,I=ka,typeof G=="object"&&G!==null&&(I=tn(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||Y!==I)&&ky(r,d,l,I),Sr=!1,Y=r.memoizedState,d.state=Y,ll(r,l,d,h),ol();var $=r.memoizedState;E!==ee||Y!==$||Sr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof w=="function"&&(sd(r,a,w,l),$=r.memoizedState),(Z=Sr||Oy(r,a,Z,l,Y,$,I)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,gc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ha(r,t.child,null,h),r.child=Ha(r,null,a,h)):Kt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Ji(t,r,h),t}function $y(t,r,a,l){return Jo(),r.flags|=256,Kt(t,r,a,l),r.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Pg()}}function hd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=qn),t}function Qy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ke){if(h?Ir(r):Nr(),Ke){var w=gt,I;if(I=w){e:{for(I=w,w=_i;I.nodeType!==8;){if(!w){w=null;break e}if(I=ei(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(r.memoizedState={dehydrated:w,treeContext:js!==null?{id:Yi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},I=wn(18,null,null,0),I.stateNode=w,I.return=r,r.child=I,dn=r,gt=null,I=!0):I=!1}I||qs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return $d(w)?r.lanes=32:r.lanes=536870912,null;Zi(r)}return w=l.children,l=l.fallback,h?(Nr(),h=r.mode,w=yc({mode:"hidden",children:w},h),l=Us(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=cd(a),h.childLanes=hd(t,E,a),r.memoizedState=ud,l):(Ir(r),fd(r,w))}if(I=t.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)r.flags&256?(Ir(r),r.flags&=-257,r=dd(t,r,a)):r.memoizedState!==null?(Nr(),r.child=t.child,r.flags|=128,r=null):(Nr(),h=l.fallback,w=r.mode,l=yc({mode:"visible",children:l.children},w),h=Us(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ha(r,t.child,null,a),l=r.child,l.memoizedState=cd(a),l.childLanes=hd(t,E,a),r.memoizedState=ud,r=h);else if(Ir(r),$d(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(s(419)),l.stack="",l.digest=E,el({value:l,source:null,stack:null}),r=dd(t,r,a)}else if(jt||tl(t,r,a,!1),E=(a&t.childLanes)!==0,jt||E){if(E=ot,E!==null&&(l=a&-a,l=(l&42)!==0?1:gr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Oa(t,l),In(E,t,l),By;w.data==="$?"||Dd(),r=dd(t,r,a)}else w.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,gt=ei(w.nextSibling),dn=r,Ke=!0,zs=null,_i=!1,t!==null&&(jn[Bn++]=Yi,jn[Bn++]=$i,jn[Bn++]=js,Yi=t.id,$i=t.overflow,js=r),r=fd(r,l.children),r.flags|=4096);return r}return h?(Nr(),h=l.fallback,w=r.mode,I=t.child,G=I.sibling,l=Ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,G!==null?h=Ki(G,h):(h=Us(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=t.child.memoizedState,w===null?w=cd(a):(I=w.cachePool,I!==null?(G=kt._currentValue,I=I.parent!==G?{parent:G,pool:G}:I):I=Pg(),w={baseLanes:w.baseLanes|a,cachePool:I}),h.memoizedState=w,h.childLanes=hd(t,E,a),r.memoizedState=ud,l):(Ir(r),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function fd(t,r){return r=yc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function yc(t,r){return t=wn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function dd(t,r,a){return Ha(r,t.child,null,a),t=fd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Xy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Df(t.return,r,a)}function md(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Wy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(t,r,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,a,r);else if(t.tag===19)Xy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(Mt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),md(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(r,!0,a,null,d);break;case"together":md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ji(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Mr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(tl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ki(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function pd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function qw(t,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),wr(r,kt,t.memoizedState.cache),Jo();break;case 27:case 5:si(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:wr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Qy(t,r,a):(Ir(r),t=Ji(t,r,a),t!==null?t.sibling:null);Ir(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(tl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Wy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,Fy(t,r,a);case 24:wr(r,kt,t.memoizedState.cache)}return Ji(t,r,a)}function Zy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)jt=!0;else{if(!pd(t,a)&&(r.flags&128)===0)return jt=!1,qw(t,r,a);jt=(t.flags&131072)!==0}else jt=!1,Ke&&(r.flags&1048576)!==0&&Ig(r,Xu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Sf(l)?(t=Ys(l,t),r.tag=1,r=Yy(null,r,l,t,a)):(r.tag=0,r=ld(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===te){r.tag=11,r=zy(null,r,l,t,a);break e}else if(h===O){r.tag=14,r=qy(null,r,l,t,a);break e}}throw r=at(l)||l,Error(s(306,r,""))}}return r;case 0:return ld(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ys(l,r.pendingProps),Yy(t,r,l,h,a);case 3:e:{if(et(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Uf(t,r),ll(r,l,null,a);var E=r.memoizedState;if(l=E.cache,wr(r,kt,l),l!==d.cache&&Of(r,[kt],a,!0),ol(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=$y(t,r,l,a);break e}else if(l!==h){h=Ln(Error(s(424)),r),el(h),r=$y(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=ei(t.firstChild),dn=r,Ke=!0,zs=null,_i=!0,a=xy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),l===h){r=Ji(t,r,a);break e}Kt(t,r,l,a)}r=r.child}return r;case 26:return gc(t,r),t===null?(a=nv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ke||(a=r.type,t=r.pendingProps,l=Dc(ye.current).createElement(a),l[xt]=r,l[wt]=t,$t(l,a,t),_t(l),r.stateNode=l):r.memoizedState=nv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return si(r),t===null&&Ke&&(l=r.stateNode=J_(r.type,r.pendingProps,ye.current),dn=r,_i=!0,h=gt,Ur(r.type)?(Qd=h,gt=ei(l.firstChild)):gt=h),Kt(t,r,r.pendingProps.children,a),gc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ke&&((h=l=gt)&&(l=gS(l,r.type,r.pendingProps,_i),l!==null?(r.stateNode=l,dn=r,gt=ei(l.firstChild),_i=!1,h=!0):h=!1),h||qs(r)),si(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Gd(h,d)?l=null:E!==null&&Gd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Ff(t,r,Mw,null,null,a),xl._currentValue=h),gc(t,r),Kt(t,r,l,a),r.child;case 6:return t===null&&Ke&&((t=a=gt)&&(a=yS(a,r.pendingProps,_i),a!==null?(r.stateNode=a,dn=r,gt=null,t=!0):t=!1),t||qs(r)),null;case 13:return Qy(t,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ha(r,null,l,a):Kt(t,r,l,a),r.child;case 11:return zy(t,r,r.type,r.pendingProps,a);case 7:return Kt(t,r,r.pendingProps,a),r.child;case 8:return Kt(t,r,r.pendingProps.children,a),r.child;case 12:return Kt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,wr(r,r.type,l.value),Kt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Fs(r),h=tn(h),l=l(h),r.flags|=1,Kt(t,r,l,a),r.child;case 14:return qy(t,r,r.type,r.pendingProps,a);case 15:return Hy(t,r,r.type,r.pendingProps,a);case 19:return Wy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=yc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ki(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Fy(t,r,a);case 24:return Fs(r),l=tn(kt),t===null?(h=Pf(),h===null&&(h=ot,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Lf(r),wr(r,kt,h)):((t.lanes&a)!==0&&(Uf(t,r),ll(r,null,null,a),ol()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),wr(r,kt,l)):(l=d.cache,wr(r,kt,l),l!==h.cache&&Of(r,[kt],a,!0))),Kt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function er(t){t.flags|=4}function Jy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ov(r)){if(r=zn.current,r!==null&&((ze&4194048)===ze?vi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==vi))throw sl=Vf,Vg;t.flags|=8192}}function _c(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Oo():536870912,t.lanes|=r,Ya|=r)}function pl(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Hw(t,r,a){var l=r.pendingProps;switch(If(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(kt),pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zo(r)?er(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dg())),dt(r),null;case 26:return a=r.memoizedState,t===null?(er(r),a!==null?(dt(r),Jy(r,a)):(dt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(er(r),dt(r),Jy(r,a)):(dt(r),r.flags&=-16777217):(t.memoizedProps!==l&&er(r),dt(r),r.flags&=-16777217),null;case 27:$n(r),a=ye.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}t=ae.current,Zo(r)?Ng(r):(t=J_(h,l,a),r.stateNode=t,er(r))}return dt(r),null;case 5:if($n(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}if(t=ae.current,Zo(r))Ng(r);else{switch(h=Dc(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[xt]=r,t[wt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&er(r)}}return dt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=ye.current,Zo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(t.nodeValue,a)),t||qs(r)}else t=Dc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return dt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Zo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=r}else Jo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),h=!1}else h=Dg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Zi(r),r):(Zi(r),null)}if(Zi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),_c(r,r.updateQueue),dt(r),null;case 4:return pn(),t===null&&Bd(r.stateNode.containerInfo),dt(r),null;case 10:return Xi(r.type),dt(r),null;case 19:if(le(Mt),h=r.memoizedState,h===null)return dt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=dc(t),d!==null){for(r.flags|=128,pl(h,!1),t=d.updateQueue,r.updateQueue=t,_c(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Cg(a,t),a=a.sibling;return oe(Mt,Mt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Nt()>Tc&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304)}else{if(!l)if(t=dc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,_c(r,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ke)return dt(r),null}else 2*Nt()-h.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Nt(),r.sibling=null,t=Mt.current,oe(Mt,l?t&1|2:t&1),r):(dt(r),null);case 22:case 23:return Zi(r),qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),a=r.updateQueue,a!==null&&_c(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xi(kt),dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Fw(t,r){switch(If(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Xi(kt),pn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return $n(r),null;case 13:if(Zi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Jo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Mt),null;case 4:return pn(),null;case 10:return Xi(r.type),null;case 22:case 23:return Zi(r),qf(),t!==null&&le(Gs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Xi(kt),null;case 25:return null;default:return null}}function e_(t,r){switch(If(r),r.tag){case 3:Xi(kt),pn();break;case 26:case 27:case 5:$n(r);break;case 4:pn();break;case 13:Zi(r);break;case 19:le(Mt);break;case 10:Xi(r.type);break;case 22:case 23:Zi(r),qf(),t!==null&&le(Gs);break;case 24:Xi(kt)}}function gl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){st(r,r.return,w)}}function xr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=r;var I=a,G=w;try{G()}catch(Z){st(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){st(r,r.return,Z)}}function t_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{qg(r,a)}catch(l){st(t,t.return,l)}}}function n_(t,r,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,r,l)}}function yl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,r,h)}}function Ei(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,r,h)}else a.current=null}function i_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function gd(t,r,a){try{var l=t.stateNode;hS(l,t.type,a,r),l[wt]=r}catch(h){st(t,t.return,h)}}function r_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=xc));else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(_d(t,r,a),t=t.sibling;t!==null;)_d(t,r,a),t=t.sibling}function vc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,r,a),t=t.sibling;t!==null;)vc(t,r,a),t=t.sibling}function s_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);$t(r,l,a),r[xt]=t,r[wt]=a}catch(d){st(t,t.return,d)}}var tr=!1,Et=!1,vd=!1,a_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Gw(t,r){if(t=t.containerInfo,Hd=Lc,t=yg(t),yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,I=-1,G=0,Z=0,ee=t,Y=null;t:for(;;){for(var $;ee!==a||h!==0&&ee.nodeType!==3||(w=E+h),ee!==d||l!==0&&ee.nodeType!==3||(I=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),($=ee.firstChild)!==null;)Y=ee,ee=$;for(;;){if(ee===t)break t;if(Y===a&&++G===h&&(w=E),Y===d&&++Z===l&&(I=E),($=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=$}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},Lc=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Ys(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){st(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function o_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Dr(t,a),l&4&&gl(5,a);break;case 1:if(Dr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){st(a,a.return,E)}else{var h=Ys(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){st(a,a.return,E)}}l&64&&t_(a),l&512&&yl(a,a.return);break;case 3:if(Dr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{qg(t,r)}catch(E){st(a,a.return,E)}}break;case 27:r===null&&l&4&&s_(a);case 26:case 5:Dr(t,a),r===null&&l&4&&i_(a),l&512&&yl(a,a.return);break;case 12:Dr(t,a);break;case 13:Dr(t,a),l&4&&c_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=eS.bind(null,a),_S(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){r=r!==null&&r.memoizedState!==null||Et,h=tr;var d=Et;tr=l,(Et=r)&&!d?Or(t,a,(a.subtreeFlags&8772)!==0):Dr(t,a),tr=h,Et=d}break;case 30:break;default:Dr(t,a)}}function l_(t){var r=t.alternate;r!==null&&(t.alternate=null,l_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&vr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,yn=!1;function nr(t,r,a){for(a=a.child;a!==null;)u_(t,r,a),a=a.sibling}function u_(t,r,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Pe,a)}catch{}switch(a.tag){case 26:Et||Ei(a,r),nr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||Ei(a,r);var l=ct,h=yn;Ur(a.type)&&(ct=a.stateNode,yn=!1),nr(t,r,a),Rl(a.stateNode),ct=l,yn=h;break;case 5:Et||Ei(a,r);case 6:if(l=ct,h=yn,ct=null,nr(t,r,a),ct=l,yn=h,ct!==null)if(yn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){st(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){st(a,r,d)}break;case 18:ct!==null&&(yn?(t=ct,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):W_(ct,a.stateNode));break;case 4:l=ct,h=yn,ct=a.stateNode.containerInfo,yn=!0,nr(t,r,a),ct=l,yn=h;break;case 0:case 11:case 14:case 15:Et||xr(2,a,r),Et||xr(4,a,r),nr(t,r,a);break;case 1:Et||(Ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&n_(a,r,l)),nr(t,r,a);break;case 21:nr(t,r,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,nr(t,r,a),Et=l;break;default:nr(t,r,a)}}function c_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){st(r,r.return,a)}}function Kw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new a_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new a_),r;default:throw Error(s(435,t.tag))}}function Ed(t,r){var a=Kw(t);r.forEach(function(l){var h=tS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Ur(w.type)){ct=w.stateNode,yn=!1;break e}break;case 5:ct=w.stateNode,yn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,yn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));u_(d,E,h),ct=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)h_(r,t),r=r.sibling}var Jn=null;function h_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(r,t),An(t),l&4&&(xr(3,t,t.return),gl(3,t),xr(5,t,t.return));break;case 1:Sn(r,t),An(t),l&512&&(Et||a===null||Ei(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(Sn(r,t),An(t),l&512&&(Et||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[bs]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,l,a),d[xt]=t,_t(d),l=d;break e;case"link":var E=sv("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;case"meta":if(E=sv("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,_t(d),l=d}t.stateNode=l}else av(h,t.type,t.stateNode);else t.stateNode=rv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?av(h,t.type,t.stateNode):rv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(r,t),An(t),l&512&&(Et||a===null||Ei(a,a.return)),a!==null&&l&4&&gd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(r,t),An(t),l&512&&(Et||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch($){st(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(vd=!0);break;case 6:if(Sn(r,t),An(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch($){st(t,t.return,$)}}break;case 3:if(Mc=null,h=Jn,Jn=Oc(r.containerInfo),Sn(r,t),Jn=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch($){st(t,t.return,$)}vd&&(vd=!1,f_(t));break;case 4:l=Jn,Jn=Oc(t.stateNode.containerInfo),Sn(r,t),An(t),Jn=l;break;case 12:Sn(r,t),An(t);break;case 13:Sn(r,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=Nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,G=tr,Z=Et;if(tr=G||h,Et=Z||I,Sn(r,t),Et=Z,tr=G,An(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||tr||Et||$s(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=I.stateNode;var ee=I.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch($){st(I,I.return,$)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch($){st(I,I.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ed(t,a))));break;case 19:Sn(r,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 30:break;case 21:break;default:Sn(r,t),An(t)}}function An(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(r_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=yd(t);vc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(kn(E,""),a.flags&=-33);var w=yd(t);vc(t,w,E);break;case 3:case 4:var I=a.stateNode.containerInfo,G=yd(t);_d(t,G,I);break;default:throw Error(s(161))}}catch(Z){st(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function f_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;f_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Dr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)o_(t,r.alternate,r),r=r.sibling}function $s(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:xr(4,r,r.return),$s(r);break;case 1:Ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&n_(r,r.return,a),$s(r);break;case 27:Rl(r.stateNode);case 26:case 5:Ei(r,r.return),$s(r);break;case 22:r.memoizedState===null&&$s(r);break;case 30:$s(r);break;default:$s(r)}t=t.sibling}}function Or(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),gl(4,d);break;case 1:if(Or(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){st(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zg(I[h],w)}catch(G){st(l,l.return,G)}}a&&E&64&&t_(d),yl(d,d.return);break;case 27:s_(d);case 26:case 5:Or(h,d,a),a&&l===null&&E&4&&i_(d),yl(d,d.return);break;case 12:Or(h,d,a);break;case 13:Or(h,d,a),a&&E&4&&c_(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),yl(d,d.return);break;case 30:break;default:Or(h,d,a)}r=r.sibling}}function Td(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t))}function Ti(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d_(t,r,a,l),r=r.sibling}function d_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(t,r,a,l),h&2048&&gl(9,r);break;case 1:Ti(t,r,a,l);break;case 3:Ti(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Ti(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){st(r,r.return,I)}}else Ti(t,r,a,l);break;case 13:Ti(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Ti(t,r,a,l):_l(t,r):d._visibility&2?Ti(t,r,a,l):(d._visibility|=2,Fa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Td(E,r);break;case 24:Ti(t,r,a,l),h&2048&&bd(r.alternate,r);break;default:Ti(t,r,a,l)}}function Fa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,w=a,I=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:Fa(d,E,w,I,h),gl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Fa(d,E,w,I,h):_l(d,E):(Z._visibility|=2,Fa(d,E,w,I,h)),h&&G&2048&&Td(E.alternate,E);break;case 24:Fa(d,E,w,I,h),h&&G&2048&&bd(E.alternate,E);break;default:Fa(d,E,w,I,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Td(l.alternate,l);break;case 24:_l(a,l),h&2048&&bd(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function Ga(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)m_(t),t=t.sibling}function m_(t){switch(t.tag){case 26:Ga(t),t.flags&vl&&t.memoizedState!==null&&DS(Jn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var r=Jn;Jn=Oc(t.stateNode.containerInfo),Ga(t),Jn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,Ga(t),vl=r):Ga(t));break;default:Ga(t)}}function p_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function El(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,y_(l,t)}p_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g_(t),t=t.sibling}function g_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&xr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ec(t)):El(t);break;default:El(t)}}function Ec(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,y_(l,t)}p_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:xr(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(r));break;default:Ec(r)}t=t.sibling}}function y_(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:xr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(l_(l),l===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var Yw={getCacheForType:function(t){var r=tn(kt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},$w=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,ke=null,ze=0,Je=0,Rn=null,kr=!1,Ka=!1,wd=!1,ir=0,yt=0,Mr=0,Qs=0,Sd=0,qn=0,Ya=0,Tl=null,_n=null,Ad=!1,Rd=0,Tc=1/0,bc=null,Pr=null,Yt=0,Vr=null,$a=null,Qa=0,Cd=0,Id=null,__=null,bl=0,Nd=null;function Cn(){if((Ze&2)!==0&&ze!==0)return ze&-ze;if(F.T!==null){var t=Va;return t!==0?t:Vd()}return yr()}function v_(){qn===0&&(qn=(ze&536870912)===0||Ke?Do():536870912);var t=zn.current;return t!==null&&(t.flags|=32),qn}function In(t,r,a){(t===ot&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Lr(t,ze,qn,!1)),Pi(t,a),((Ze&2)===0||t!==ot)&&(t===ot&&((Ze&2)===0&&(Qs|=a),yt===4&&Lr(t,ze,qn,!1)),bi(t))}function E_(t,r,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Ts(t,r),h=l?Ww(t,r):Od(t,r,!0),d=l;do{if(h===0){Ka&&!l&&Lr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Qw(a)){h=Od(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=t;h=Tl;var I=w.current.memoizedState.isDehydrated;if(I&&(Xa(w,E).flags|=256),E=Od(w,E,!1),E!==2){if(wd&&!I){w.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Xa(t,0),Lr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Lr(l,r,qn,!kr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Rd+300-Nt(),10<h)){if(Lr(l,r,qn,!kr),da(l,0,!0)!==0)break e;l.timeoutHandle=Q_(T_.bind(null,l,a,_n,bc,Ad,r,qn,Qs,Ya,kr,d,2,-0,0),h);break e}T_(l,a,_n,bc,Ad,r,qn,Qs,Ya,kr,d,0,-0,0)}}break}while(!0);bi(t)}function T_(t,r,a,l,h,d,E,w,I,G,Z,ee,Y,$){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:xS},m_(r),ee=OS(),ee!==null)){t.cancelPendingCommit=ee(I_.bind(null,t,r,d,a,l,h,E,w,I,Z,1,Y,$)),Lr(t,d,E,!G);return}I_(t,r,d,a,l,h,E,w,I)}function Qw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(t,r,a,l){r&=~Sd,r&=~Qs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-en(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&oi(t,a,r)}function wc(){return(Ze&6)===0?(wl(0),!1):!0}function xd(){if(ke!==null){if(Je===0)var t=ke.return;else t=ke,Qi=Hs=null,Yf(t),qa=null,dl=0,t=ke;for(;t!==null;)e_(t.alternate,t),t=t.return;ke=null}}function Xa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xd(),ot=t,ke=a=Ki(t.current,null),ze=r,Je=0,Rn=null,kr=!1,Ka=Ts(t,r),wd=!1,Ya=qn=Sd=Qs=Mr=yt=0,_n=Tl=null,Ad=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=t[h],l&=~d}return ir=r,Gu(),a}function b_(t,r){Ne=null,F.H=cc,r===rl||r===ec?(r=jg(),Je=3):r===Vg?(r=jg(),Je=4):Je=r===By?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,ke===null&&(yt=1,pc(t,Ln(r,t.current)))}function w_(){var t=F.H;return F.H=cc,t===null?cc:t}function S_(){var t=F.A;return F.A=Yw,t}function Dd(){yt=4,kr||(ze&4194048)!==ze&&zn.current!==null||(Ka=!0),(Mr&134217727)===0&&(Qs&134217727)===0||ot===null||Lr(ot,ze,qn,!1)}function Od(t,r,a){var l=Ze;Ze|=2;var h=w_(),d=S_();(ot!==t||ze!==r)&&(bc=null,Xa(t,r)),r=!1;var E=yt;e:do try{if(Je!==0&&ke!==null){var w=ke,I=Rn;switch(Je){case 8:xd(),E=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var G=Je;if(Je=0,Rn=null,Wa(t,w,I,G),a&&Ka){E=0;break e}break;default:G=Je,Je=0,Rn=null,Wa(t,w,I,G)}}Xw(),E=yt;break}catch(Z){b_(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Qi=Hs=null,Ze=l,F.H=h,F.A=d,ke===null&&(ot=null,ze=0,Gu()),E}function Xw(){for(;ke!==null;)A_(ke)}function Ww(t,r){var a=Ze;Ze|=2;var l=w_(),h=S_();ot!==t||ze!==r?(bc=null,Tc=Nt()+500,Xa(t,r)):Ka=Ts(t,r);e:do try{if(Je!==0&&ke!==null){r=ke;var d=Rn;t:switch(Je){case 1:Je=0,Rn=null,Wa(t,r,d,1);break;case 2:case 9:if(Lg(d)){Je=0,Rn=null,R_(r);break}r=function(){Je!==2&&Je!==9||ot!==t||(Je=7),bi(t)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Lg(d)?(Je=0,Rn=null,R_(r)):(Je=0,Rn=null,Wa(t,r,d,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var w=ke;if(!E||ov(E)){Je=0,Rn=null;var I=w.sibling;if(I!==null)ke=I;else{var G=w.return;G!==null?(ke=G,Sc(G)):ke=null}break t}}Je=0,Rn=null,Wa(t,r,d,5);break;case 6:Je=0,Rn=null,Wa(t,r,d,6);break;case 8:xd(),yt=6;break e;default:throw Error(s(462))}}Zw();break}catch(Z){b_(t,Z)}while(!0);return Qi=Hs=null,F.H=l,F.A=h,Ze=a,ke!==null?0:(ot=null,ze=0,Gu(),yt)}function Zw(){for(;ke!==null&&!ps();)A_(ke)}function A_(t){var r=Zy(t.alternate,t,ir);t.memoizedProps=t.pendingProps,r===null?Sc(t):ke=r}function R_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Ky(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Ky(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Yf(r);default:e_(a,r),r=ke=Cg(r,ir),r=Zy(a,r,ir)}t.memoizedProps=t.pendingProps,r===null?Sc(t):ke=r}function Wa(t,r,a,l){Qi=Hs=null,Yf(r),qa=null,dl=0;var h=r.return;try{if(zw(t,h,r,a,ze)){yt=1,pc(t,Ln(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;yt=1,pc(t,Ln(a,t.current)),ke=null;return}r.flags&32768?(Ke||l===1?t=!0:Ka||(ze&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(r,t)):Sc(r)}function Sc(t){var r=t;do{if((r.flags&32768)!==0){C_(r,kr);return}t=r.return;var a=Hw(r.alternate,r,ir);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);yt===0&&(yt=5)}function C_(t,r){do{var a=Fw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);yt=6,ke=null}function I_(t,r,a,l,h,d,E,w,I){t.cancelPendingCommit=null;do Ac();while(Yt!==0);if((Ze&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=bf,ko(t,a,d,E,w,I),t===ot&&(ke=ot=null,ze=0),$a=r,Vr=t,Qa=a,Cd=d,Id=h,__=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nS(We,function(){return k_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=he.p,he.p=2,E=Ze,Ze|=4;try{Gw(t,r,a)}finally{Ze=E,he.p=h,F.T=l}}Yt=1,N_(),x_(),D_()}}function N_(){if(Yt===1){Yt=0;var t=Vr,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{h_(r,t);var d=Fd,E=yg(t.containerInfo),w=d.focusedElem,I=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&gg(w.ownerDocument.documentElement,w)){if(I!==null&&yf(w)){var G=I.start,Z=I.end;if(Z===void 0&&(Z=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(Z,w.value.length);else{var ee=w.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),Ae=w.textContent.length,Te=Math.min(I.start,Ae),rt=I.end===void 0?Te:Math.min(I.end,Ae);!$.extend&&Te>rt&&(E=rt,rt=Te,Te=E);var j=pg(w,Te),P=pg(w,rt);if(j&&P&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),$.removeAllRanges(),Te>rt?($.addRange(H),$.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),$.addRange(H))}}}}for(ee=[],$=w;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var J=ee[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Lc=!!Hd,Fd=Hd=null}finally{Ze=h,he.p=l,F.T=a}}t.current=r,Yt=2}}function x_(){if(Yt===2){Yt=0;var t=Vr,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{o_(t,r.alternate,r)}finally{Ze=h,he.p=l,F.T=a}}Yt=3}}function D_(){if(Yt===4||Yt===3){Yt=0,gs();var t=Vr,r=$a,a=Qa,l=__;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Yt=5:(Yt=0,$a=Vr=null,O_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pr=null),ma(a),r=r.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Pe,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,h=he.p,he.p=2,F.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];d(w.value,{componentStack:w.stack})}}finally{F.T=r,he.p=h}}(Qa&3)!==0&&Ac(),bi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Nd?bl++:(bl=0,Nd=t):bl=0,wl(0)}}function O_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,nl(r)))}function Ac(t){return N_(),x_(),D_(),k_()}function k_(){if(Yt!==5)return!1;var t=Vr,r=Cd;Cd=0;var a=ma(Qa),l=F.T,h=he.p;try{he.p=32>a?32:a,F.T=null,a=Id,Id=null;var d=Vr,E=Qa;if(Yt=0,$a=Vr=null,Qa=0,(Ze&6)!==0)throw Error(s(331));var w=Ze;if(Ze|=4,g_(d.current),d_(d,d.current,E,a),Ze=w,wl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Pe,d)}catch{}return!0}finally{he.p=h,F.T=l,O_(t,r)}}function M_(t,r,a){r=Ln(a,r),r=od(t.stateNode,r,2),t=Rr(t,r,2),t!==null&&(Pi(t,2),bi(t))}function st(t,r,a){if(t.tag===3)M_(t,t,a);else for(;r!==null;){if(r.tag===3){M_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=Ln(a,t),a=Uy(2),l=Rr(r,a,2),l!==null&&(jy(a,l,r,t),Pi(l,2),bi(l));break}}r=r.return}}function kd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $w;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(wd=!0,h.add(a),t=Jw.bind(null,t,r,a),r.then(t,t))}function Jw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Nt()-Rd?(Ze&2)===0&&Xa(t,0):Sd|=a,Ya===ze&&(Ya=0)),bi(t)}function P_(t,r){r===0&&(r=Oo()),t=Oa(t,r),t!==null&&(Pi(t,r),bi(t))}function eS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),P_(t,a)}function tS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),P_(t,a)}function nS(t,r){return ai(t,r)}var Rc=null,Za=null,Md=!1,Cc=!1,Pd=!1,Xs=0;function bi(t){t!==Za&&t.next===null&&(Za===null?Rc=Za=t:Za=Za.next=t),Cc=!0,Md||(Md=!0,rS())}function wl(t,r){if(!Pd&&Cc){Pd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,j_(l,d))}else d=ze,d=da(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ts(l,d)||(a=!0,j_(l,d));l=l.next}while(a);Pd=!1}}function iS(){V_()}function V_(){Cc=Md=!1;var t=0;Xs!==0&&(fS()&&(t=Xs),Xs=0);for(var r=Nt(),a=null,l=Rc;l!==null;){var h=l.next,d=L_(l,r);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=h}wl(t)}function L_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-en(d),w=1<<E,I=h[E];I===-1?((w&a)===0||(w&l)!==0)&&(h[E]=xo(w,r)):I<=r&&(t.expiredLanes|=w),d&=~w}if(r=ot,a=ze,a=da(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ts(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ki(l),ma(a)){case 2:case 8:a=ue;break;case 32:a=We;break;case 268435456:a=Ye;break;default:a=We}return l=U_.bind(null,t),a=ai(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ki(l),t.callbackPriority=2,t.callbackNode=null,2}function U_(t,r){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=ze;return l=da(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(E_(t,l,r),L_(t,Nt()),t.callbackNode!=null&&t.callbackNode===a?U_.bind(null,t):null)}function j_(t,r){if(Ac())return null;E_(t,r,!0)}function rS(){mS(function(){(Ze&6)!==0?ai(ys,iS):V_()})}function Vd(){return Xs===0&&(Xs=Do()),Xs}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function z_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function sS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=B_((h[wt]||null).action),E=l.submitter;E&&(r=(r=E[wt]||null)?B_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var w=new Ta("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var I=E?z_(h,E):new FormData(h);nd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?z_(h,E):new FormData(h),nd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ld=0;Ld<Tf.length;Ld++){var Ud=Tf[Ld],aS=Ud.toLowerCase(),oS=Ud[0].toUpperCase()+Ud.slice(1);Zn(aS,"on"+oS)}Zn(Eg,"onAnimationEnd"),Zn(Tg,"onAnimationIteration"),Zn(bg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Sw,"onTransitionRun"),Zn(Aw,"onTransitionStart"),Zn(Rw,"onTransitionCancel"),Zn(wg,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function q_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,G=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=G;try{d(h)}catch(Z){mc(Z)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,G=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=G;try{d(h)}catch(Z){mc(Z)}h.currentTarget=null,d=I}}}}function Me(t,r){var a=r[Po];a===void 0&&(a=r[Po]=new Set);var l=t+"__bubble";a.has(l)||(H_(r,t,2,!1),a.add(l))}function jd(t,r,a){var l=0;r&&(l|=4),H_(a,t,l,r)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Ic]){t[Ic]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(lS.has(a)||jd(a,!1,t),jd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ic]||(r[Ic]=!0,jd("selectionchange",!1,r))}}function H_(t,r,a,l){switch(dv(r)){case 2:var h=PS;break;case 8:h=VS;break;default:h=em}a=h.bind(null,r,a,t),h=void 0,!Pn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function zd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=Vi(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}w=w.parentNode}}l=l.return}xu(function(){var G=d,Z=Mn(a),ee=[];e:{var Y=Sg.get(t);if(Y!==void 0){var $=Ta,Ae=t;switch(t){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":$=Ca;break;case"focusin":Ae="focus",$=Sa;break;case"focusout":Ae="blur",$=Sa;break;case"beforeblur":case"afterblur":$=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Uu;break;case Eg:case Tg:case bg:$=Aa;break;case wg:$=Bu;break;case"scroll":case"scrollend":$=Du;break;case"wheel":$=Ia;break;case"copy":case"cut":case"paste":$=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=$o;break;case"toggle":case"beforetoggle":$=qu}var Te=(r&4)!==0,rt=!Te&&(t==="scroll"||t==="scrollend"),j=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var P=G,H;P!==null;){var J=P;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=Ns(P,j),J!=null&&Te.push(Al(P,J,H))),rt)break;P=P.return}0<Te.length&&(Y=new $(Y,Ae,null,a,Z),ee.push({event:Y,listeners:Te}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Y&&a!==Bi&&(Ae=a.relatedTarget||a.fromElement)&&(Vi(Ae)||Ae[On]))break e;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(Ae=a.relatedTarget||a.toElement,$=G,Ae=Ae?Vi(Ae):null,Ae!==null&&(rt=u(Ae),Te=Ae.tag,Ae!==rt||Te!==5&&Te!==27&&Te!==6)&&(Ae=null)):($=null,Ae=G),$!==Ae)){if(Te=Vn,J="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Te=$o,J="onPointerLeave",j="onPointerEnter",P="pointer"),rt=$==null?Y:ui($),H=Ae==null?Y:ui(Ae),Y=new Te(J,P+"leave",$,a,Z),Y.target=rt,Y.relatedTarget=H,J=null,Vi(Z)===G&&(Te=new Te(j,P+"enter",Ae,a,Z),Te.target=H,Te.relatedTarget=rt,J=Te),rt=J,$&&Ae)t:{for(Te=$,j=Ae,P=0,H=Te;H;H=Ja(H))P++;for(H=0,J=j;J;J=Ja(J))H++;for(;0<P-H;)Te=Ja(Te),P--;for(;0<H-P;)j=Ja(j),H--;for(;P--;){if(Te===j||j!==null&&Te===j.alternate)break t;Te=Ja(Te),j=Ja(j)}Te=null}else Te=null;$!==null&&F_(ee,Y,$,Te,!1),Ae!==null&&rt!==null&&F_(ee,rt,Ae,Te,!0)}}e:{if(Y=G?ui(G):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var pe=ug;else if(Ot(Y))if(cg)pe=Tw;else{pe=vw;var Oe=_w}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&zo(G.elementType)&&(pe=ug):pe=Ew;if(pe&&(pe=pe(t,G))){Gi(ee,pe,a,Z);break e}Oe&&Oe(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Tr(Y,"number",Y.value)}switch(Oe=G?ui(G):window,t){case"focusin":(Ot(Oe)||Oe.contentEditable==="true")&&(Na=Oe,_f=G,Wo=null);break;case"focusout":Wo=_f=Na=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,_g(ee,a,Z);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":_g(ee,a,Z)}var ve;if(gi)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else je?X(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(je||be!=="onCompositionStart"?be==="onCompositionEnd"&&je&&(ve=Ho()):(fi=Z,br="value"in fi?fi.value:fi.textContent,je=!0)),Oe=Nc(G,be),0<Oe.length&&(be=new Ko(be,t,null,a,Z),ee.push({event:be,listeners:Oe}),ve?be.data=ve:(ve=ce(a),ve!==null&&(be.data=ve)))),(ve=y?Dt(t,a):Be(t,a))&&(be=Nc(G,"onBeforeInput"),0<be.length&&(Oe=new Ko("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Oe,listeners:be}),Oe.data=ve)),sS(ee,t,G,a,Z)}q_(ee,r)})}function Al(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Nc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ns(t,a),h!=null&&l.unshift(Al(t,h,d)),h=Ns(t,r),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function F_(t,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var w=a,I=w.alternate,G=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||G===null||(I=G,h?(G=Ns(a,d),G!=null&&E.unshift(Al(a,G,I))):h||(G=Ns(a,d),G!=null&&E.push(Al(a,G,I)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function G_(t){return(typeof t=="string"?t:""+t).replace(uS,`
`).replace(cS,"")}function K_(t,r){return r=G_(r),G_(t)===r}function xc(){}function it(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&kn(t,""+l);break;case"className":ci(t,"class",l);break;case"tabIndex":ci(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(r!=="object"){ci(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&it(t,r,"name",h.name,h,null),it(t,r,"formEncType",h.formEncType,h,null),it(t,r,"formMethod",h.formMethod,h,null),it(t,r,"formTarget",h.formTarget,h,null)):(it(t,r,"encType",h.encType,h,null),it(t,r,"method",h.method,h,null),it(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Er(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hf.get(a)||a,Er(t,a,l))}}function qd(t,r,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Er(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,d,E,a,null)}}h&&it(t,r,"srcSet",a.srcSet,a,null),l&&it(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var w=d=E=h=null,I=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":E=Z;break;case"checked":I=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:it(t,r,l,Z,a,null)}}Rs(t,d,w,I,G,E,h,!1),va(t);return;case"select":Me("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:it(t,r,h,w,a,null)}r=d,a=E,t.multiple=!!l,r!=null?ji(t,!!l,r,!1):a!=null&&ji(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:it(t,r,E,w,a,null)}Cs(t,l,h,d),va(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,r,I,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Me(Sl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,G,l,a,null)}return;default:if(zo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&qd(t,r,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&it(t,r,w,l,a,null))}function hS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,I=null,G=null,Z=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty($)||it(t,r,$,null,l,ee)}}for(var Y in l){var $=l[Y];if(ee=a[Y],l.hasOwnProperty(Y)&&($!=null||ee!=null))switch(Y){case"type":d=$;break;case"name":h=$;break;case"checked":G=$;break;case"defaultChecked":Z=$;break;case"value":E=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ee&&it(t,r,Y,$,l,ee)}}Tn(t,E,w,I,G,Z,d,h);return;case"select":$=E=w=Y=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||it(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":Y=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&it(t,r,h,d,l,I)}r=w,a=E,l=$,Y!=null?ji(t,!!a,Y,!1):!!l!=!!a&&(r!=null?ji(t,!!a,r,!0):ji(t,!!a,a?[]:"",!1));return;case"textarea":$=Y=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(t,r,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Y=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&it(t,r,E,h,l,d)}tt(t,Y,$);return;case"option":for(var Ae in a)if(Y=a[Ae],a.hasOwnProperty(Ae)&&Y!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:it(t,r,Ae,null,l,Y)}for(I in l)if(Y=l[I],$=a[I],l.hasOwnProperty(I)&&Y!==$&&(Y!=null||$!=null))switch(I){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(t,r,I,Y,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)Y=a[Te],a.hasOwnProperty(Te)&&Y!=null&&!l.hasOwnProperty(Te)&&it(t,r,Te,null,l,Y);for(G in l)if(Y=l[G],$=a[G],l.hasOwnProperty(G)&&Y!==$&&(Y!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:it(t,r,G,Y,l,$)}return;default:if(zo(r)){for(var rt in a)Y=a[rt],a.hasOwnProperty(rt)&&Y!==void 0&&!l.hasOwnProperty(rt)&&qd(t,r,rt,void 0,l,Y);for(Z in l)Y=l[Z],$=a[Z],!l.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||qd(t,r,Z,Y,l,$);return}}for(var j in a)Y=a[j],a.hasOwnProperty(j)&&Y!=null&&!l.hasOwnProperty(j)&&it(t,r,j,null,l,Y);for(ee in l)Y=l[ee],$=a[ee],!l.hasOwnProperty(ee)||Y===$||Y==null&&$==null||it(t,r,ee,Y,l,$)}var Hd=null,Fd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Gd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kd=null;function fS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(pS)}:Q_;function pS(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function W_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Rl(E.documentElement),a&2&&Rl(E.body),a&4)for(a=E.head,Rl(a),E=a.firstChild;E;){var w=E.nextSibling,I=E.nodeName;E[bs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(h===0){t.removeChild(d),Ml(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(r)}function Yd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),vr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function gS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function yS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _S(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Qd=null;function Z_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function J_(t,r,a){switch(r=Dc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);vr(t)}var Hn=new Map,ev=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=he.d;he.d={f:vS,r:ES,D:TS,C:bS,L:wS,m:SS,X:RS,S:AS,M:CS};function vS(){var t=rr.f(),r=wc();return t||r}function ES(t){var r=li(t);r!==null&&r.tag===5&&r.type==="form"?Ey(r):rr.r(t)}var eo=typeof document>"u"?null:document;function tv(t,r,a){var l=eo;if(l&&typeof r=="string"&&r){var h=St(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ev.has(h)||(ev.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),$t(r,"link",t),_t(r),l.head.appendChild(r)))}}function TS(t){rr.D(t),tv("dns-prefetch",t,null)}function bS(t,r){rr.C(t,r),tv("preconnect",t,r)}function wS(t,r,a){rr.L(t,r,a);var l=eo;if(l&&t&&r){var h='link[rel="preload"][as="'+St(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(t)+'"]';var d=h;switch(r){case"style":d=to(t);break;case"script":d=no(t)}Hn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Hn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),$t(r,"link",t),_t(r),l.head.appendChild(r)))}}function SS(t,r){rr.m(t,r);var a=eo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!Hn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Hn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),$t(l,"link",t),_t(l),a.head.appendChild(l)}}}function AS(t,r,a){rr.S(t,r,a);var l=eo;if(l&&t){var h=cn(l).hoistableStyles,d=to(t);r=r||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Cl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Hn.get(d))&&Xd(t,a);var I=E=l.createElement("link");_t(I),$t(I,"link",t),I._p=new Promise(function(G,Z){I.onload=G,I.onerror=Z}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,kc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function RS(t,r){rr.X(t,r);var a=eo;if(a&&t){var l=cn(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0},r),(r=Hn.get(h))&&Wd(t,r),d=a.createElement("script"),_t(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function CS(t,r){rr.M(t,r);var a=eo;if(a&&t){var l=cn(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Hn.get(h))&&Wd(t,r),d=a.createElement("script"),_t(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nv(t,r,a,l){var h=(h=ye.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=to(a.href),a=cn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=cn(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Cl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||IS(h,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=no(a),a=cn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function to(t){return'href="'+St(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function iv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function IS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),_t(r),t.head.appendChild(r))}function no(t){return'[src="'+St(t)+'"]'}function Il(t){return"script[async]"+t}function rv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),$t(l,"style",h),kc(l,a.precedence,t),r.instance=l;case"stylesheet":h=to(a.href);var d=t.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,_t(d),d;l=iv(a),(h=Hn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),_t(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),$t(d,"link",l),r.state.loading|=4,kc(d,a.precedence,t),r.instance=d;case"script":return d=no(a.src),(h=t.querySelector(Il(d)))?(r.instance=h,_t(h),h):(l=a,(h=Hn.get(d))&&(l=T({},a),Wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_t(h),$t(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,t));return r.instance}function kc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Xd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Wd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Mc=null;function sv(t,r,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[bs]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function av(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function NS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function xS(){}function DS(t,r,a){if(Nl===null)throw Error(s(475));var l=Nl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=to(a.href),d=t.querySelector(Cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,_t(d);return}d=t.ownerDocument||t,a=iv(a),(h=Hn.get(h))&&Xd(a,h),d=d.createElement("link"),_t(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),$t(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function OS(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&Zd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Zd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,r.forEach(kS,t),Vc=null,Pc.call(t))}function kS(t,r){if(!(r.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var xl={$$typeof:W,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function MS(t,r,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function lv(t,r,a,l,h,d,E,w,I,G,Z,ee){return t=new MS(t,r,a,E,w,I,G,ee),r=1,d===!0&&(r|=24),d=wn(3,null,null,r),t.current=d,d.stateNode=t,r=kf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Lf(d),t}function uv(t){return t?(t=ka,t):ka}function cv(t,r,a,l,h,d){h=uv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ar(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(t,l,r),a!==null&&(In(a,t,r),al(a,t,r))}function hv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Jd(t,r){hv(t,r),(t=t.alternate)&&hv(t,r)}function fv(t){if(t.tag===13){var r=Oa(t,67108864);r!==null&&In(r,t,67108864),Jd(t,67108864)}}var Lc=!0;function PS(t,r,a,l){var h=F.T;F.T=null;var d=he.p;try{he.p=2,em(t,r,a,l)}finally{he.p=d,F.T=h}}function VS(t,r,a,l){var h=F.T;F.T=null;var d=he.p;try{he.p=8,em(t,r,a,l)}finally{he.p=d,F.T=h}}function em(t,r,a,l){if(Lc){var h=tm(l);if(h===null)zd(t,r,l,Uc,a),mv(t,l);else if(US(h,t,r,a,l))l.stopPropagation();else if(mv(t,l),r&4&&-1<LS.indexOf(t)){for(;h!==null;){var d=li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Qn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-en(E);w.entanglements[1]|=I,E&=~I}bi(d),(Ze&6)===0&&(Tc=Nt()+500,wl(0))}}break;case 13:w=Oa(d,2),w!==null&&In(w,d,2),wc(),Jd(d,2)}if(d=tm(l),d===null&&zd(t,r,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,r,l,null,a)}}function tm(t){return t=Mn(t),nm(t)}var Uc=null;function nm(t){if(Uc=null,t=Vi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Uc=t,null}function dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(No()){case ys:return 2;case ue:return 8;case We:case pt:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var im=!1,jr=null,Br=null,zr=null,Dl=new Map,Ol=new Map,qr=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,r){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function kl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=li(r),r!==null&&fv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function US(t,r,a,l,h){switch(r){case"focusin":return jr=kl(jr,t,r,a,l,h),!0;case"dragenter":return Br=kl(Br,t,r,a,l,h),!0;case"mouseover":return zr=kl(zr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,kl(Dl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,kl(Ol.get(d)||null,t,r,a,l,h)),!0}return!1}function pv(t){var r=Vi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,wu(t.priority,function(){if(a.tag===13){var l=Cn();l=gr(l);var h=Oa(a,l);h!==null&&In(h,a,l),Jd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Bi=l,a.target.dispatchEvent(l),Bi=null}else return r=li(a),r!==null&&fv(r),t.blockedOn=a,!1;r.shift()}return!0}function gv(t,r,a){jc(t)&&a.delete(r)}function jS(){im=!1,jr!==null&&jc(jr)&&(jr=null),Br!==null&&jc(Br)&&(Br=null),zr!==null&&jc(zr)&&(zr=null),Dl.forEach(gv),Ol.forEach(gv)}function Bc(t,r){t.blockedOn===r&&(t.blockedOn=null,im||(im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jS)))}var zc=null;function yv(t){zc!==t&&(zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=li(a);d!==null&&(t.splice(r,3),r-=3,nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(t){function r(I){return Bc(I,t)}jr!==null&&Bc(jr,t),Br!==null&&Bc(Br,t),zr!==null&&Bc(zr,t),Dl.forEach(r),Ol.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[wt]||null;if(typeof d=="function")E||yv(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[wt]||null)w=E.formAction;else if(nm(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),yv(a)}}}function rm(t){this._internalRoot=t}qc.prototype.render=rm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Cn();cv(a,l,t,r,null,null)},qc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;cv(t.current,2,null,t,null,null),wc(),r[On]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=yr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,t),a===0&&pv(t)}};var _v=e.version;if(_v!=="19.1.0")throw Error(s(527,_v,"19.1.0"));he.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var BS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Pe=Hc.inject(BS),Ue=Hc}catch{}}return Vl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=My,d=Py,E=Vy,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=lv(t,1,!1,null,null,a,l,h,d,E,w,null),t[On]=r.current,Bd(t),new rm(r)},Vl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=My,E=Py,w=Vy,I=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=lv(t,1,!0,r,a??null,l,h,d,E,w,I,G),r.context=uv(null),a=r.current,l=Cn(),l=gr(l),h=Ar(l),h.callback=null,Rr(a,h,l),a=l,r.current.lanes=a,Pi(r,a),bi(r),t[On]=r.current,Bd(t),new qc(r)},Vl.version="19.1.0",Vl}var Iv;function WS(){if(Iv)return om.exports;Iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=XS(),om.exports}var ZS=WS();const JS=_0(ZS);var Ll={},Nv;function eA(){if(Nv)return Ll;Nv=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=f,Ll.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,D){const x=new u,z=b.length;if(z<2)return x;const U=(D==null?void 0:D.decode)||T;let K=0;do{const Q=b.indexOf("=",K);if(Q===-1)break;const W=b.indexOf(";",K),te=W===-1?z:W;if(Q>te){K=b.lastIndexOf(";",Q-1)+1;continue}const re=m(b,K,Q),fe=p(b,Q,re),O=b.slice(re,fe);if(x[O]===void 0){let R=m(b,Q+1,te),C=p(b,te,R);const M=U(b.slice(R,C));x[O]=M}K=te+1}while(K<z);return x}function m(b,D,x){do{const z=b.charCodeAt(D);if(z!==32&&z!==9)return D}while(++D<x);return x}function p(b,D,x){for(;D>x;){const z=b.charCodeAt(--D);if(z!==32&&z!==9)return D+1}return x}function g(b,D,x){const z=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const U=z(D);if(!e.test(U))throw new TypeError(`argument val is invalid: ${D}`);let K=b+"="+U;if(!x)return K;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);K+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);K+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);K+="; Path="+x.path}if(x.expires){if(!S(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);K+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(K+="; HttpOnly"),x.secure&&(K+="; Secure"),x.partitioned&&(K+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return K}function T(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Ll}eA();var xv="popstate";function tA(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=la(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Rm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Zl(u))}function s(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return iA(e,n,s,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nA(){return Math.random().toString(36).substring(2,10)}function Dv(i,e){return{usr:i.state,key:i.key,idx:e}}function Rm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||s||nA()}}function Zl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function la(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function iA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function S(){m="POP";let U=T(),K=U==null?null:U-g;g=U,p&&p({action:m,location:z.location,delta:K})}function b(U,K){m="PUSH";let Q=Rm(z.location,U,K);n&&n(Q,U),g=T()+1;let W=Dv(Q,g),te=z.createHref(Q);try{f.pushState(W,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(te)}u&&p&&p({action:m,location:z.location,delta:1})}function D(U,K){m="REPLACE";let Q=Rm(z.location,U,K);n&&n(Q,U),g=T();let W=Dv(Q,g),te=z.createHref(Q);f.replaceState(W,"",te),u&&p&&p({action:m,location:z.location,delta:0})}function x(U){return rA(U)}let z={get action(){return m},get location(){return i(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,S),p=U,()=>{o.removeEventListener(xv,S),p=null}},createHref(U){return e(o,U)},createURL:x,encodeLocation(U){let K=x(U);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:D,go(U){return f.go(U)}};return z}function rA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Zl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function v0(i,e,n="/"){return sA(i,e,n,!1)}function sA(i,e,n,s){let o=typeof e=="string"?la(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let f=E0(i);aA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=yA(u);m=pA(f[p],g,s)}return m}function E0(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=or([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),E0(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:dA(g,u.index),routesMeta:T})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of T0(u.path))o(u,f,p)}),e}function T0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=T0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function aA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:mA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var oA=/^:[\w-]+$/,lA=3,uA=2,cA=1,hA=10,fA=-2,Ov=i=>i==="*";function dA(i,e){let n=i.split("/"),s=n.length;return n.some(Ov)&&(s+=fA),e&&(s+=uA),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(oA.test(u)?lA:u===""?cA:hA),s)}function mA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function pA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),b=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:or([u,S.pathname]),pathnameBase:TA(or([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=or([u,S.pathnameBase]))}return f}function ch(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=gA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:S},b)=>{if(T==="*"){let x=m[b]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const D=m[b];return S&&!D?g[T]=void 0:g[T]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function gA(i,e=!1,n=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function yA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ur(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function _A(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?la(i):i;return{pathname:n?n.startsWith("/")?n:vA(n,e):e,search:bA(s),hash:wA(o)}}function vA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ap(i){let e=EA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function op(i,e,n,s=!1){let o;typeof i=="string"?o=la(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=_A(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var or=i=>i.join("/").replace(/\/\/+/g,"/"),TA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,wA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function SA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var b0=["POST","PUT","PATCH","DELETE"];new Set(b0);var AA=["GET",...b0];new Set(AA);var To=B.createContext(null);To.displayName="DataRouter";var kh=B.createContext(null);kh.displayName="DataRouterState";var w0=B.createContext({isTransitioning:!1});w0.displayName="ViewTransition";var RA=B.createContext(new Map);RA.displayName="Fetchers";var CA=B.createContext(null);CA.displayName="Await";var ri=B.createContext(null);ri.displayName="Navigation";var lu=B.createContext(null);lu.displayName="Location";var xi=B.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var lp=B.createContext(null);lp.displayName="RouteError";function IA(i,{relative:e}={}){ht(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(ri),{hash:o,pathname:u,search:f}=uu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function bo(){return B.useContext(lu)!=null}function hs(){return ht(bo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(lu).location}var S0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A0(i){B.useContext(ri).static||B.useLayoutEffect(i)}function mr(){let{isDataRoute:i}=B.useContext(xi);return i?zA():NA()}function NA(){ht(bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(To),{basename:e,navigator:n}=B.useContext(ri),{matches:s}=B.useContext(xi),{pathname:o}=hs(),u=JSON.stringify(ap(s)),f=B.useRef(!1);return A0(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(Yn(f.current,S0),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=op(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:or([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}B.createContext(null);function uu(i,{relative:e}={}){let{matches:n}=B.useContext(xi),{pathname:s}=hs(),o=JSON.stringify(ap(n));return B.useMemo(()=>op(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function xA(i,e){return R0(i,e)}function R0(i,e,n,s){var K;ht(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(ri),{matches:u}=B.useContext(xi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",T=f&&f.route;{let Q=T&&T.path||"";C0(p,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=hs(),b;if(e){let Q=typeof e=="string"?la(e):e;ht(g==="/"||((K=Q.pathname)==null?void 0:K.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),b=Q}else b=S;let D=b.pathname||"/",x=D;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");x="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let z=v0(i,{pathname:x});Yn(T||z!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=PA(z&&z.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:or([g,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:or([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,n,s);return e&&U?B.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},U):U}function DA(){let i=BA(),e=SA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var OA=B.createElement(DA,null),kA=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(xi.Provider,{value:this.props.routeContext},B.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MA({routeContext:i,match:e,children:n}){let s=B.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(xi.Provider,{value:i},n)}function PA(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:S}=n,b=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let S,b=!1,D=null,x=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||OA,f&&(m<0&&T===0?(C0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):m===T&&(b=!0,x=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,T+1)),U=()=>{let K;return S?K=D:b?K=x:g.route.Component?K=B.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,B.createElement(MA,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?B.createElement(kA,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):U()},null)}function up(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VA(i){let e=B.useContext(To);return ht(e,up(i)),e}function LA(i){let e=B.useContext(kh);return ht(e,up(i)),e}function UA(i){let e=B.useContext(xi);return ht(e,up(i)),e}function cp(i){let e=UA(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function jA(){return cp("useRouteId")}function BA(){var s;let i=B.useContext(lp),e=LA("useRouteError"),n=cp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function zA(){let{router:i}=VA("useNavigate"),e=cp("useNavigate"),n=B.useRef(!1);return A0(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Yn(n.current,S0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var kv={};function C0(i,e,n){!e&&!kv[i]&&(kv[i]=!0,Yn(!1,n))}B.memo(qA);function qA({routes:i,future:e,state:n}){return R0(i,void 0,n,e)}function HA({to:i,replace:e,state:n,relative:s}){ht(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ri);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(xi),{pathname:f}=hs(),m=mr(),p=op(i,ap(u),f,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Gr(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=la(n));let{pathname:p="/",search:g="",hash:T="",state:S=null,key:b="default"}=n,D=B.useMemo(()=>{let x=ur(p,f);return x==null?null:{location:{pathname:x,search:g,hash:T,state:S,key:b},navigationType:s}},[f,p,g,T,S,b,s]);return Yn(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:B.createElement(ri.Provider,{value:m},B.createElement(lu.Provider,{children:e,value:D}))}function GA({children:i,location:e}){return xA(Cm(i),e)}function Cm(i,e=[]){let n=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Cm(s.props.children,u));return}ht(s.type===Gr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var Zc="get",Jc="application/x-www-form-urlencoded";function Mh(i){return i!=null&&typeof i.tagName=="string"}function KA(i){return Mh(i)&&i.tagName.toLowerCase()==="button"}function YA(i){return Mh(i)&&i.tagName.toLowerCase()==="form"}function $A(i){return Mh(i)&&i.tagName.toLowerCase()==="input"}function QA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function XA(i,e){return i.button===0&&(!e||e==="_self")&&!QA(i)}var Fc=null;function WA(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var ZA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(i){return i!=null&&!ZA.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):i}function JA(i,e){let n,s,o,u,f;if(YA(i)){let m=i.getAttribute("action");s=m?ur(m,e):null,n=i.getAttribute("method")||Zc,o=fm(i.getAttribute("enctype"))||Jc,u=new FormData(i)}else if(KA(i)||$A(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ur(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=fm(i.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||Jc,u=new FormData(m,i),!WA()){let{name:g,type:T,value:S}=i;if(T==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,S)}}else{if(Mh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Jc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function hp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function e1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function n1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await e1(u,n);return f.links?f.links():[]}return[]}));return a1(s.flat(1).filter(t1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function i1(i,e,{includeHydrateFallback:n}={}){return r1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function r1(i){return[...new Set(i)]}function s1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function a1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(s1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var o1=new Set([100,101,204,205]);function l1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ur(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function I0(){let i=B.useContext(To);return hp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function u1(){let i=B.useContext(kh);return hp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var fp=B.createContext(void 0);fp.displayName="FrameworkContext";function N0(){let i=B.useContext(fp);return hp(i,"You must render this element inside a <HydratedRouter> element"),i}function c1(i,e){let n=B.useContext(fp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:S}=e,b=B.useRef(null);B.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let z=K=>{K.forEach(Q=>{f(Q.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return b.current&&U.observe(b.current),()=>{U.disconnect()}}},[i]),B.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let D=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Ul(m,D),onBlur:Ul(p,x),onMouseEnter:Ul(g,D),onMouseLeave:Ul(T,x),onTouchStart:Ul(S,D)}]:[!1,b,{}]}function Ul(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function h1({page:i,...e}){let{router:n}=I0(),s=B.useMemo(()=>v0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(d1,{page:i,matches:s,...e}):null}function f1(i){let{manifest:e,routeModules:n}=N0(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return n1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function d1({page:i,matches:e,...n}){let s=hs(),{manifest:o,routeModules:u}=N0(),{basename:f}=I0(),{loaderData:m,matches:p}=u1(),g=B.useMemo(()=>Mv(i,e,p,o,s,"data"),[i,e,p,o,s]),T=B.useMemo(()=>Mv(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,z=!1;if(e.forEach(K=>{var W;let Q=o.routes[K.route.id];!Q||!Q.hasLoader||(!g.some(te=>te.route.id===K.route.id)&&K.route.id in m&&((W=u[K.route.id])!=null&&W.shouldRevalidate)||Q.hasClientLoader?z=!0:x.add(K.route.id))}),x.size===0)return[];let U=l1(i,f);return z&&x.size>0&&U.searchParams.set("_routes",e.filter(K=>x.has(K.route.id)).map(K=>K.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,e,i,u]),b=B.useMemo(()=>i1(T,o),[T,o]),D=f1(T);return B.createElement(B.Fragment,null,S.map(x=>B.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),b.map(x=>B.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),D.map(({key:x,link:z})=>B.createElement("link",{key:x,...z})))}function m1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x0&&(window.__reactRouterVersion="7.6.2")}catch{}function p1({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=tA({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(FA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O0=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:S,...b},D){let{basename:x}=B.useContext(ri),z=typeof g=="string"&&D0.test(g),U,K=!1;if(typeof g=="string"&&z&&(U=g,x0))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=ur(M.pathname,x);M.origin===C.origin&&V!=null?g=V+M.search+M.hash:K=!0}catch{Yn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=IA(g,{relative:o}),[W,te,re]=c1(s,b),fe=v1(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:S});function O(C){e&&e(C),C.defaultPrevented||fe(C)}let R=B.createElement("a",{...b,...re,href:U||Q,onClick:K||u?e:O,ref:m1(D,te),target:p,"data-discover":!z&&n==="render"?"true":void 0});return W&&!z?B.createElement(B.Fragment,null,R,B.createElement(h1,{page:Q})):R});O0.displayName="Link";var g1=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let S=uu(f,{relative:g.relative}),b=hs(),D=B.useContext(kh),{navigator:x,basename:z}=B.useContext(ri),U=D!=null&&S1(S)&&m===!0,K=x.encodeLocation?x.encodeLocation(S).pathname:S.pathname,Q=b.pathname,W=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),W=W?W.toLowerCase():null,K=K.toLowerCase()),W&&z&&(W=ur(W,z)||W);const te=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let re=Q===K||!o&&Q.startsWith(K)&&Q.charAt(te)==="/",fe=W!=null&&(W===K||!o&&W.startsWith(K)&&W.charAt(K.length)==="/"),O={isActive:re,isPending:fe,isTransitioning:U},R=re?e:void 0,C;typeof s=="function"?C=s(O):C=[s,re?"active":null,fe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(O):u;return B.createElement(O0,{...g,"aria-current":R,className:C,ref:T,style:M,to:f,viewTransition:m},typeof p=="function"?p(O):p)});g1.displayName="NavLink";var y1=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:S,...b},D)=>{let x=b1(),z=w1(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&D0.test(m),Q=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let te=W.nativeEvent.submitter,re=(te==null?void 0:te.getAttribute("formmethod"))||f;x(te||W.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:S})};return B.createElement("form",{ref:D,method:U,action:z,onSubmit:s?p:Q,...b,"data-discover":!K&&i==="render"?"true":void 0})});y1.displayName="Form";function _1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k0(i){let e=B.useContext(To);return ht(e,_1(i)),e}function v1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=mr(),p=hs(),g=uu(i,{relative:u});return B.useCallback(T=>{if(XA(T,e)){T.preventDefault();let S=n!==void 0?n:Zl(p)===Zl(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var E1=0,T1=()=>`__${String(++E1)}__`;function b1(){let{router:i}=k0("useSubmit"),{basename:e}=B.useContext(ri),n=jA();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=JA(s,e);if(o.navigate===!1){let T=o.fetcherKey||T1();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function w1(i,{relative:e}={}){let{basename:n}=B.useContext(ri),s=B.useContext(xi);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(i||".",{relative:e})},f=hs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),Zl(u)}function S1(i,e={}){let n=B.useContext(w0);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=k0("useViewTransitionState"),o=uu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}[...o1];const A1=()=>{};var Pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},R1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(b=64)),s.push(n[T],n[S],n[b],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(M0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):R1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new C1;const b=u<<2|m>>4;if(s.push(b),g!==64){const D=m<<4&240|g>>2;if(s.push(D),S!==64){const x=g<<6&192|S;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class C1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I1=function(i){const e=M0(i);return P0.encodeByteArray(e,!0)},hh=function(i){return I1(i).replace(/\./g,"")},V0=function(i){try{return P0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=()=>N1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof Pv>"u")return;const i=Pv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},O1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&V0(i[1]);return e&&JSON.parse(e)},Ph=()=>{try{return A1()||x1()||D1()||O1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},L0=i=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},U0=i=>{const e=L0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},j0=()=>{var i;return(i=Ph())===null||i===void 0?void 0:i.config},B0=i=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i){return i.endsWith(".cloudworkstations.dev")}async function dp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const Kl={};function M1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?i.emulator.push(e):i.prod.push(e);return i}function P1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Vv=!1;function mp(i,e){if(typeof window>"u"||typeof document>"u"||!fs(window.location.host)||Kl[i]===e||Kl[i]||Vv)return;Kl[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=M1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Vv=!0,f()},b}function T(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=P1(s),D=n("text"),x=document.getElementById(D)||document.createElement("span"),z=n("learnmore"),U=document.getElementById(z)||document.createElement("a"),K=n("preprendIcon"),Q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;m(W),T(U,z);const te=g();p(Q,K),W.append(Q,x,U,te),document.body.appendChild(W)}u?(x.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function L1(){var i;const e=(i=Ph())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function B1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z1(){const i=ln();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function q1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H1(){try{return typeof indexedDB=="object"}catch{return!1}}function F1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="FirebaseError";class Di extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=G1,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?K1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Di(o,m,s)}}function K1(i,e){return i.replace(Y1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Y1=/\{\$([^}]+)}/g;function $1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ta(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Lv(u)&&Lv(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Lv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Q1(i,e){const n=new X1(i,e);return n.subscribe.bind(n)}class X1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");W1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(i){return i&&i._delegate?i._delegate:i}class is{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new k1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:J1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J1(i){return i===Ws?void 0:i}function eR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const nR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},iR=Ve.INFO,rR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},sR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=rR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=iR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const aR=(i,e)=>e.some(n=>i instanceof n);let Uv,jv;function oR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,Im=new WeakMap,H0=new WeakMap,mm=new WeakMap,gp=new WeakMap;function uR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Zr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&q0.set(n,i)}).catch(()=>{}),gp.set(e,i),e}function cR(i){if(Im.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Im.set(i,e)}let Nm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Im.get(i);if(e==="objectStoreNames")return i.objectStoreNames||H0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function hR(i){Nm=i(Nm)}function fR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(pm(this),e,...n);return H0.set(s,e.sort?e.sort():[e]),Zr(s)}:lR().includes(i)?function(...e){return i.apply(pm(this),e),Zr(q0.get(this))}:function(...e){return Zr(i.apply(pm(this),e))}}function dR(i){return typeof i=="function"?fR(i):(i instanceof IDBTransaction&&cR(i),aR(i,oR())?new Proxy(i,Nm):i)}function Zr(i){if(i instanceof IDBRequest)return uR(i);if(mm.has(i))return mm.get(i);const e=dR(i);return e!==i&&(mm.set(i,e),gp.set(e,i)),e}const pm=i=>gp.get(i);function mR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Zr(f.result),p.oldVersion,p.newVersion,Zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const pR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],gm=new Map;function Bv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=gR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return gm.set(e,u),u}hR(i=>({...i,get:(e,n,s)=>Bv(e,n)||i.get(e,n,s),has:(e,n)=>!!Bv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_R(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _R(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",zv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new pp("@firebase/app"),vR="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",bR="@firebase/app-check-compat",wR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",RR="@firebase/database",CR="@firebase/data-connect",IR="@firebase/database-compat",NR="@firebase/functions",xR="@firebase/functions-compat",DR="@firebase/installations",OR="@firebase/installations-compat",kR="@firebase/messaging",MR="@firebase/messaging-compat",PR="@firebase/performance",VR="@firebase/performance-compat",LR="@firebase/remote-config",UR="@firebase/remote-config-compat",jR="@firebase/storage",BR="@firebase/storage-compat",zR="@firebase/firestore",qR="@firebase/ai",HR="@firebase/firestore-compat",FR="firebase",GR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",KR={[xm]:"fire-core",[vR]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[wR]:"fire-app-check",[bR]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[RR]:"fire-rtdb",[CR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[NR]:"fire-fn",[xR]:"fire-fn-compat",[DR]:"fire-iid",[OR]:"fire-iid-compat",[kR]:"fire-fcm",[MR]:"fire-fcm-compat",[PR]:"fire-perf",[VR]:"fire-perf-compat",[LR]:"fire-rc",[UR]:"fire-rc-compat",[jR]:"fire-gcs",[BR]:"fire-gcs-compat",[zR]:"fire-fst",[HR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[FR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,YR=new Map,Om=new Map;function qv(i,e){try{i.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function na(i){const e=i.name;if(Om.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,i);for(const n of fh.values())qv(n,i);for(const n of YR.values())qv(n,i);return!0}function Vh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Nn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new cu("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=GR;function F0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Dm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=j0()),!n)throw Jr.create("no-options");const u=fh.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const f=new tR(o);for(const p of Om.values())f.addComponent(p);const m=new QR(n,s,f);return fh.set(o,m),m}function yp(i=Dm){const e=fh.get(i);if(!e&&i===Dm&&j0())return F0();if(!e)throw Jr.create("no-app",{appName:i});return e}function Si(i,e,n){var s;let o=(s=KR[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(m.join(" "));return}na(new is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebase-heartbeat-database",WR=1,Jl="firebase-heartbeat-store";let ym=null;function G0(){return ym||(ym=mR(XR,WR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Jr.create("idb-open",{originalErrorMessage:i.message})})),ym}async function ZR(i){try{const n=(await G0()).transaction(Jl),s=await n.objectStore(Jl).get(K0(i));return await n.done,s}catch(e){if(e instanceof Di)cr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function Hv(i,e){try{const s=(await G0()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,K0(i)),await s.done}catch(n){if(n instanceof Di)cr.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function K0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1024,eC=30;class tC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>eC){const f=rC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fv(),{heartbeatsToSend:s,unsentEntries:o}=nC(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return cr.warn(n),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function nC(i,e=JR){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H1()?F1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gv(i){return hh(JSON.stringify({version:2,heartbeats:i})).length}function rC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(i){na(new is("platform-logger",e=>new yR(e),"PRIVATE")),na(new is("heartbeat",e=>new tC(e),"PRIVATE")),Si(xm,zv,i),Si(xm,zv,"esm2017"),Si("fire-js","")}sC("");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,Y0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(M,V,L){for(var N=Array(arguments.length-2),at=2;at<arguments.length;at++)N[at-2]=arguments[at];return R.prototype[V].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;16>V;++V)M[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],V=O.g[2];var L=O.g[3],N=R+(L^C&(V^L))+M[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=L+(V^R&(C^V))+M[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(C^L&(R^C))+M[2]+606105819&4294967295,V=L+(N<<17&4294967295|N>>>15),N=C+(R^V&(L^R))+M[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(L^C&(V^L))+M[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(V^R&(C^V))+M[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(C^L&(R^C))+M[6]+2821735955&4294967295,V=L+(N<<17&4294967295|N>>>15),N=C+(R^V&(L^R))+M[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(L^C&(V^L))+M[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(V^R&(C^V))+M[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(C^L&(R^C))+M[10]+4294925233&4294967295,V=L+(N<<17&4294967295|N>>>15),N=C+(R^V&(L^R))+M[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(L^C&(V^L))+M[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(V^R&(C^V))+M[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(C^L&(R^C))+M[14]+2792965006&4294967295,V=L+(N<<17&4294967295|N>>>15),N=C+(R^V&(L^R))+M[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(V^L&(C^V))+M[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^V&(R^C))+M[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(L^R))+M[11]+643717713&4294967295,V=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(V^L))+M[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^L&(C^V))+M[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^V&(R^C))+M[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(L^R))+M[15]+3634488961&4294967295,V=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(V^L))+M[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^L&(C^V))+M[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^V&(R^C))+M[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(L^R))+M[3]+4107603335&4294967295,V=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(V^L))+M[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^L&(C^V))+M[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^V&(R^C))+M[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(L^R))+M[7]+1735328473&4294967295,V=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(V^L))+M[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(C^V^L)+M[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^V)+M[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^C)+M[11]+1839030562&4294967295,V=L+(N<<16&4294967295|N>>>16),N=C+(V^L^R)+M[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^L)+M[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^V)+M[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^C)+M[7]+4139469664&4294967295,V=L+(N<<16&4294967295|N>>>16),N=C+(V^L^R)+M[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^L)+M[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^V)+M[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^C)+M[3]+3572445317&4294967295,V=L+(N<<16&4294967295|N>>>16),N=C+(V^L^R)+M[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^L)+M[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^V)+M[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^C)+M[15]+530742520&4294967295,V=L+(N<<16&4294967295|N>>>16),N=C+(V^L^R)+M[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(V^(C|~L))+M[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~V))+M[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~C))+M[14]+2878612391&4294967295,V=L+(N<<15&4294967295|N>>>17),N=C+(L^(V|~R))+M[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~L))+M[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~V))+M[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~C))+M[10]+4293915773&4294967295,V=L+(N<<15&4294967295|N>>>17),N=C+(L^(V|~R))+M[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~L))+M[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~V))+M[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~C))+M[6]+2734768916&4294967295,V=L+(N<<15&4294967295|N>>>17),N=C+(L^(V|~R))+M[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~L))+M[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~V))+M[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~C))+M[2]+718787259&4294967295,V=L+(N<<15&4294967295|N>>>17),N=C+(L^(V|~R))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,M=this.B,V=this.h,L=0;L<R;){if(V==0)for(;L<=C;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(M[V++]=O.charCodeAt(L++),V==this.blockSize){o(this,M),V=0;break}}else for(;L<R;)if(M[V++]=O[L++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)O[C++]=this.g[R]>>>M&255;return O};function u(O,R){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function f(O,R){this.h=R;for(var C=[],M=!0,V=O.length-1;0<=V;V--){var L=O[V]|0;M&&L==R||(C[V]=L,M=!1)}this.g=C}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return U(g(-O));for(var R=[],C=1,M=0;O>=C;M++)R[M]=O/C|0,C*=4294967296;return new f(R,0)}function T(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return U(T(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),M=S,V=0;V<O.length;V+=8){var L=Math.min(8,O.length-V),N=parseInt(O.substring(V,V+L),R);8>L?(L=g(Math.pow(R,L)),M=M.j(L).add(g(N))):(M=M.j(C),M=M.add(g(N)))}return M}var S=p(0),b=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(z(this))return-U(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);O+=(0<=M?M:4294967296+M)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(z(this))return"-"+U(this).toString(O);for(var R=g(Math.pow(O,6)),C=this,M="";;){var V=te(C,R).g;C=K(C,V.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=V,x(C))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}i.l=function(O){return O=K(this,O),z(O)?-1:x(O)?0:1};function U(O){for(var R=O.g.length,C=[],M=0;M<R;M++)C[M]=~O.g[M];return new f(C,~O.h).add(b)}i.abs=function(){return z(this)?U(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0,V=0;V<=R;V++){var L=M+(this.i(V)&65535)+(O.i(V)&65535),N=(L>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);M=N>>>16,L&=65535,N&=65535,C[V]=N<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function K(O,R){return O.add(U(R))}i.j=function(O){if(x(this)||x(O))return S;if(z(this))return z(O)?U(this).j(U(O)):U(U(this).j(O));if(z(O))return U(this.j(U(O)));if(0>this.l(D)&&0>O.l(D))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<O.g.length;V++){var L=this.i(M)>>>16,N=this.i(M)&65535,at=O.i(V)>>>16,Ge=O.i(V)&65535;C[2*M+2*V]+=N*Ge,Q(C,2*M+2*V),C[2*M+2*V+1]+=L*Ge,Q(C,2*M+2*V+1),C[2*M+2*V+1]+=N*at,Q(C,2*M+2*V+1),C[2*M+2*V+2]+=L*at,Q(C,2*M+2*V+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new f(C,0)};function Q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function W(O,R){this.g=O,this.h=R}function te(O,R){if(x(R))throw Error("division by zero");if(x(O))return new W(S,S);if(z(O))return R=te(U(O),R),new W(U(R.g),U(R.h));if(z(R))return R=te(O,U(R)),new W(U(R.g),R.h);if(30<O.g.length){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,M=R;0>=M.l(O);)C=re(C),M=re(M);var V=fe(C,1),L=fe(M,1);for(M=fe(M,2),C=fe(C,2);!x(M);){var N=L.add(M);0>=N.l(O)&&(V=V.add(C),L=N),M=fe(M,1),C=fe(C,1)}return R=K(O,V.j(R)),new W(V,R)}for(V=S;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=g(C),N=L.j(R);z(N)||0<N.l(O);)C-=M,L=g(C),N=L.j(R);x(L)&&(L=b),V=V.add(L),O=K(O,N)}return new W(V,O)}i.A=function(O){return te(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&O.i(M);return new f(C,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|O.i(M);return new f(C,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^O.i(M);return new f(C,this.h^O.h)};function re(O){for(var R=O.g.length+1,C=[],M=0;M<R;M++)C[M]=O.i(M)<<1|O.i(M-1)>>>31;return new f(C,O.h)}function fe(O,R){var C=R>>5;R%=32;for(var M=O.g.length-C,V=[],L=0;L<M;L++)V[L]=0<R?O.i(L+C)>>>R|O.i(L+C+1)<<32-R:O.i(L+C);return new f(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Y0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,es=f}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,ql,Q0,eh,km,X0,W0,Z0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in v))break e;v=v[q]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,q={next:function(){if(!A&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,b.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,q,X){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return y.prototype[q].apply(A,ce)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const q=c.length||0,X=A.length||0;c.length=q+X;for(let ce=0;ce<X;ce++)c[q+ce]=A[ce]}else c.push(A)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var re=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function fe(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)c[v]=A[v];for(let X=0;X<C.length;X++)v=C[X],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function N(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class at{constructor(){this.h=this.g=null}add(y,v){const A=Ge.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ge=new K(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ge=!1,De=new at,k=()=>{const c=m.Promise.resolve(void 0);he=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){L(v)}var y=Ge;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function _e(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{te(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}x(_e,oe);var ye={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),et=0;function pn(c,y,v,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=q,this.key=++et,this.da=this.fa=!1}function si(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $n(c){this.src=c,this.g={},this.h=0}$n.prototype.add=function(c,y,v,A,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ce=ai(c,y,A,q);return-1<ce?(y=c[ce],v||(y.fa=!1)):(y=new pn(y,this.src,X,!!A,q),y.fa=v,c.push(y)),y};function Dn(c,y){var v=y.type;if(v in c.g){var A=c.g[v],q=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&(si(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ai(c,y,v,A){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==A)return q}return-1}var ki="closure_lm_"+(1e6*Math.random()|0),ps={};function gs(c,y,v,A,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)gs(c,y[X],v,A,q);return null}return v=$e(v),c&&c[bt]?c.K(y,v,g(A)?!!A.capture:!1,q):Nt(c,y,v,!1,A,q)}function Nt(c,y,v,A,q,X){if(!y)throw Error("Invalid event type");var ce=g(q)?!!q.capture:!!q,je=Ye(c);if(je||(c[ki]=je=new $n(c)),v=je.add(y,v,A,ce,X),v.proxy)return v;if(A=No(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ae||(q=ce),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(We(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function No(){function c(v){return y.call(c.src,c.listener,v)}const y=pt;return c}function ys(c,y,v,A,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)ys(c,y[X],v,A,q);else A=g(A)?!!A.capture:!!A,v=$e(v),c&&c[bt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=ai(X,v,A,q),-1<v&&(si(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ye(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ai(y,v,A,q)),(v=-1<c?y[c]:null)&&ue(v))}function ue(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[bt])Dn(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(We(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Ye(y))?(Dn(v,c),v.h==0&&(v.src=null,y[ki]=null)):si(c)}}}function We(c){return c in ps?ps[c]:ps[c]="on"+c}function pt(c,y){if(c.da)c=!0;else{y=new _e(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&ue(c),c=v.call(A,y)}return c}function Ye(c){return c=c[ki],c instanceof $n?c:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(c){return typeof c=="function"?c:(c[He]||(c[He]=function(y){return c.handleEvent(y)}),c[He])}function Pe(){le.call(this),this.i=new $n(this),this.M=this,this.F=null}x(Pe,le),Pe.prototype[bt]=!0,Pe.prototype.removeEventListener=function(c,y,v,A){ys(this,c,y,v,A)};function Ue(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var q=y;y=new oe(A,c),M(y,q)}if(q=!0,v)for(var X=v.length-1;0<=X;X--){var ce=y.g=v[X];q=un(ce,A,!0,y)&&q}if(ce=y.g=c,q=un(ce,A,!0,y)&&q,q=un(ce,A,!1,y)&&q,v)for(X=0;X<v.length;X++)ce=y.g=v[X],q=un(ce,A,!1,y)&&q}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)si(v[A]);delete c.g[y],c.h--}}this.F=null},Pe.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Pe.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function un(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var ce=y[X];if(ce&&!ce.da&&ce.capture==v){var je=ce.listener,Dt=ce.ha||ce.src;ce.fa&&Dn(c.i,ce),q=je.call(Dt,A)!==!1&&q}}return q&&!A.defaultPrevented}function en(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function bu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class of extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){le.call(this),this.h=c,this.g={}}x(_s,le);var vs=[];function Es(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ue(y)},c),c.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Es(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=m.JSON.stringify,da=m.JSON.parse,Ts=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function Oo(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){oe.call(this,"d")}x(Pi,oe);function ko(){oe.call(this,"c")}x(ko,oe);var oi={},Mo=null;function gr(){return Mo=Mo||new Pe}oi.La="serverreachability";function ma(c){oe.call(this,oi.La,c)}x(ma,oe);function yr(c){const y=gr();Ue(y,new ma(y))}oi.STAT_EVENT="statevent";function wu(c,y){oe.call(this,oi.STAT_EVENT,c),this.stat=y}x(wu,oe);function ut(c){const y=gr();Ue(y,new wu(y,c))}oi.Ma="timingevent";function xt(c,y){oe.call(this,oi.Ma,c),this.size=y}x(xt,oe);function wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function Po(c,y,v,A,q,X){c.info(function(){if(c.g)if(X)for(var ce="",je=X.split("&"),Dt=0;Dt<je.length;Dt++){var Be=je[Dt].split("=");if(1<Be.length){var Ut=Be[0];Be=Be[1];var Ot=Ut.split("_");ce=2<=Ot.length&&Ot[1]=="type"?ce+(Ut+"="+Be+"&"):ce+(Ut+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+v+`
`+ce})}function lf(c,y,v,A,q,X,ce){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+v+`
`+X+" "+ce})}function _r(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bs(c,v)+(A?" "+A:"")})}function Su(c,y){c.info(function(){return"TIMEOUT: "+y})}On.prototype.info=function(){};function bs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return Qn(v)}catch{return y}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}x(ui,xo),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function cn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Vo={},pa={};function Xn(c,y,v){c.L=1,c.v=Cs(Tn(y)),c.m=v,c.P=!0,Li(c,null)}function Li(c,y){c.F=Date.now(),ws(c),c.A=Tn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),qo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new _t,c.g=Bu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new of(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(vs[0]=q.toString()),q=vs);for(var X=0;X<q.length;X++){var ce=gs(v,q[X],A||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),yr(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Vn(c)==3?y.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Vn(this.g);var y=this.g.Ba();const Gi=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=Gi?yr(3):yr(2)),Er(this);var v=this.g.Z();this.X=v;t:if(Au(this)){var A=Ou(this.g);c="";var q=A.length,X=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),ci(this);var ce="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(X&&y==q-1)});A.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,lf(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Dt=this.g;if((je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(je)){var Be=je;break t}}Be=null}if(v=Be)_r(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,v);else{this.o=!1,this.s=3,ut(12),Ft(this),ci(this);break e}}if(this.P){v=!0;let Gt;for(;!this.J&&this.C<ce.length;)if(Gt=Ru(this,ce),Gt==pa){Ot==4&&(this.s=4,ut(14),v=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Vo){this.s=4,ut(15),_r(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else _r(this.i,this.l,Gt,null),Ss(this,Gt);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ce.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)_r(this.i,this.l,ce,"[Invalid Chunked Response]"),Ft(this),ci(this);else if(0<ce.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ps(Ut),Ut.M=!0,ut(11))}}else _r(this.i,this.l,ce,null),Ss(this,ce);Ot==4&&Ft(this),this.o&&!this.J&&(Ot==4?Lu(this.j,this):(this.o=!1,ws(this)))}else df(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Ft(this),ci(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ru(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?pa:(v=Number(y.substring(v,A)),isNaN(v)?Vo:(A+=1,A+v>y.length?pa:(y=y.slice(A,A+v),c.C=A+v,y)))}cn.prototype.cancel=function(){this.J=!0,Ft(this)};function ws(c){c.S=Date.now()+c.I,Cu(c,c.I)}function Cu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(b(c.ba,c),y)}function Er(c){c.B&&(m.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(yr(),ut(17)),Ft(this),this.s=2,ci(this)):Cu(this,this.S-c)};function ci(c){c.j.G==0||c.J||Lu(c.j,c)}function Ft(c){Er(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ss(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Lo(v.h,c))){if(!c.K&&Lo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ca(v),Aa(v);else break e;Yo(v),ut(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=wt(b(v.Za,v),6e3));if(1>=ya(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fi(v,11)}else if((c.K||v.g==c)&&Ca(v),!Q(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let Be=q[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Ut=Be[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const Ot=Be[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const Gi=Be[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(A=1.5*Gi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Gt=c.g;if(Gt){const yi=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var X=A.h;X.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_a(X,X.h),X.h=null))}if(A.D){const Qo=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(A.ya=Qo,tt(A.I,A.D,Qo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ce=c;if(A.qa=ju(A,A.J?A.ia:null,A.W),ce.K){hn(A.h,ce);var je=ce,Dt=A.L;Dt&&(je.I=Dt),je.B&&(Er(je),ws(je)),A.g=ce}else Pu(A);0<v.i.length&&Ra(v)}else Be[0]!="stop"&&Be[0]!="close"||Fi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Fi(v,7):Go(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}yr(4)}catch{}}var Iu=class{constructor(c,y){this.g=c,this.map=y}};function Ui(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ya(c){return c.h?1:c.g?c.g.size:0}function Lo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function _a(c,y){c.g?c.g.add(y):c.h=y}function hn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ui.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function uf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function va(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=va(c),A=uf(c),q=A.length,X=0;X<q;X++)y.call(void 0,A[X],v&&v[X],c)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),q=null;if(0<=A){var X=c[v].substring(0,A);q=c[v].substring(A+1)}else X=c[v];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.s),this.l=c.l;var y=c.i,v=new Bi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ji(this,v),this.m=c.m}else c&&(y=String(c).match(As))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=kn(y[2]||""),this.g=kn(y[3]||"",!0),Tr(this,y[4]),this.l=kn(y[5]||"",!0),ji(this,y[6]||"",!0),this.m=kn(y[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Is(y,Bo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,Bo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?hf:zo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Ea)),c.join("")};function Tn(c){return new St(c)}function Rs(c,y,v){c.j=v?kn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ji(c,y,v){y instanceof Bi?(c.i=y,xu(c.i,c.h)):(v||(y=Is(y,ff)),c.i=new Bi(y,c.h))}function tt(c,y,v){c.i.set(y,v)}function Cs(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Nu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,zo=/[#\?:]/g,hf=/[#\?]/g,ff=/[#\?@]/g,Ea=/#/g;function Bi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&cf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Bi.prototype,i.add=function(c,y){Mn(this),this.i=null,c=hi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function zi(c,y){Mn(c),y=hi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qi(c,y){return Mn(c),y=hi(c,y),c.g.has(y)}i.forEach=function(c,y){Mn(this),this.g.forEach(function(v,A){v.forEach(function(q){c.call(y,q,A,this)},this)},this)},i.na=function(){Mn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const q=c[A];for(let X=0;X<q.length;X++)v.push(y[A])}return v},i.V=function(c){Mn(this);let y=[];if(typeof c=="string")qi(this,c)&&(y=y.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Mn(this),this.i=null,c=hi(this,c),qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,v){zi(c,y),0<v.length&&(c.i=null,c.g.set(hi(c,y),z(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const X=encodeURIComponent(String(A)),ce=this.V(A);for(A=0;A<ce.length;A++){var q=X;ce[A]!==""&&(q+="="+encodeURIComponent(String(ce[A]))),c.push(q)}}return this.i=c.join("&")};function hi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function xu(c,y){y&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(v,A){var q=A.toLowerCase();A!=q&&(zi(this,A),qo(this,q,v))},c)),c.j=y}function Ns(c,y){const v=new On;if(m.Image){const A=new Image;A.onload=D(Pn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(Pn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(Pn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(Pn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Wn(c,y){const v=new On,A=new AbortController,q=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?Pn(v,"TestPingServer: ok",!0,y):Pn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Pn(v,"TestPingServer: error",!1,y)})}function Pn(c,y,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function xs(){this.g=new Ts}function fi(c,y,v){const A=v||"";try{jo(c,function(q,X){let ce=q;g(q)&&(ce=Qn(q)),y.push(A+X+"="+encodeURIComponent(ce))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}x(br,xo),br.prototype.g=function(){return new Hi(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function Hi(c,y){Pe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Hi,Pe),i=Hi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?di(this):mi(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return fe(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Fo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):tt(c,y,v))}function Qe(c){Pe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Qe,Pe);var Ta=/^https?$/i,Ds=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?Do(this.o):Do(li),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Du(this,X);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())v.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ds,y,void 0))||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of v)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Du(this,X)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),pi(c)}function ba(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ue(this,"complete"),Ue(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)en(c.Ea,0,c);else if(Ue(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ce===0){var q=String(c.D).match(As)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),A=!Ta.test(q?q.toLowerCase():"")}v=A}if(v)Ue(c,"complete"),Ue(c,"success");else{c.m=6;try{var X=2<Vn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ba(c)}}finally{pi(c)}}}}function pi(c,y){if(c.g){Os(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ue(c,"ready");try{v.onreadystatechange=A}catch{}}}function Os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),da(y)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function df(c){const y={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var v=V(c[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[q]||[];y[q]=X,X.push(v)}O(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Sa(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,c),this.cb=ks("retryDelaySeedMs",1e4,c),this.Wa=ks("forwardChannelMaxRetries",2,c),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Sa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){ut(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=ju(this,null,this.W),Ra(this)};function Go(c){if(ku(c),c.G==3){var y=c.U++,v=Tn(c.I);if(tt(v,"SID",c.K),tt(v,"RID",y),tt(v,"TYPE","terminate"),Ms(c,v),y=new cn(c,c.j,y),y.L=2,y.v=Cs(Tn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ws(y)}Uu(c)}function Aa(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function ku(c){Aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ra(c){if(!ga(c.h)&&!c.s){c.s=!0;var y=c.Ga;he||k(),ge||(he(),ge=!0),De.add(y,c),c.B=0}}function mf(c,y){return ya(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(b(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new cn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Mu(this,q,y),v=Tn(this.I),tt(v,"RID",c),tt(v,"CVER",22),this.D&&tt(v,"X-HTTP-Session-Id",this.D),Ms(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(Fo(X)))+"&"+y:this.m&&Lt(v,this.m,X)),_a(this.h,q),this.Ua&&tt(v,"TYPE","init"),this.P?(tt(v,"$req",y),tt(v,"SID","null"),q.T=!0,Xn(q,v,null)):Xn(q,v,y),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||ga(this.h)||Ko(this))};function Ko(c,y){var v;y?v=y.l:v=c.U++;const A=Tn(c.I);tt(A,"SID",c.K),tt(A,"RID",v),tt(A,"AID",c.T),Ms(c,A),c.m&&c.o&&Lt(A,c.m,c.o),v=new cn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Mu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_a(c.h,v),Xn(v,A,y)}function Ms(c,y){c.H&&fe(c.H,function(v,A){tt(y,A,v)}),c.l&&jo({},function(v,A){tt(y,A,v)})}function Mu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const ce=["count="+v];X==-1?0<v?(X=q[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let je=!0;for(let Dt=0;Dt<v;Dt++){let Be=q[Dt].g;const Ut=q[Dt].map;if(Be-=X,0>Be)X=Math.max(0,q[Dt].g-100),je=!1;else try{fi(Ut,ce,"req"+Be+"_")}catch{A&&A(Ut)}}if(je){A=ce.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Pu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;he||k(),ge||(he(),ge=!0),De.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(b(c.Fa,c),$o(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Aa(this),Vu(this))};function Ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Ms(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Cs(Tn(y)),v.m=null,v.P=!0,Li(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Aa(this),Yo(this),ut(19))};function Ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var v=null;if(c.g==y){Ca(c),Ps(c),c.g=null;var A=2}else if(Lo(c.h,y))v=y.D,hn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;A=gr(),Ue(A,new xt(A,v)),Ra(c)}else Pu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&mf(c,y)||A==2&&Yo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function $o(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Fi(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),A=c.Xa;const q=!A;A=new St(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rs(A,"https"),Cs(A),q?Ns(A.toString(),v):Wn(A.toString(),v)}else ut(2);c.G=0,c.l&&c.l.sa(y),Uu(c),ku(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function ju(c,y,v){var A=v instanceof St?Tn(v):new St(v);if(A.g!="")y&&(A.g=y+"."+A.g),Tr(A,A.s);else{var q=m.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new St(null);A&&Rs(X,A),y&&(X.g=y),q&&Tr(X,q),v&&(X.l=v),A=X}return v=c.D,y=c.ya,v&&y&&tt(A,v,y),tt(A,"VER",c.la),Ms(c,A),A}function Bu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new br({eb:v})):new Qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}i=zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ia(){}Ia.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){Pe.call(this),this.g=new Sa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gi(this)}x(fn,Pe),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Go(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Qn(c),c=v);y.i.push(new Iu(y.Ya++,c)),y.G==3&&Ra(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,fn.aa.N.call(this)};function qu(c){Pi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(qu,Pi);function Hu(){ko.call(this),this.status=1}x(Hu,ko);function gi(c){this.g=c}x(gi,zu),gi.prototype.ua=function(){Ue(this.g,"a")},gi.prototype.ta=function(c){Ue(this.g,new qu(c))},gi.prototype.sa=function(c){Ue(this.g,new Hu)},gi.prototype.ra=function(){Ue(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Z0=function(){return new Ia},W0=function(){return gr()},X0=oi,km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,eh=vr,Vi.COMPLETE="complete",Q0=Vi,Oo.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,ql=Oo,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,$0=Qe}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",$v="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new pp("@firebase/firestore");function io(){return ia.logLevel}function de(i,...e){if(ia.logLevel<=Ve.DEBUG){const n=e.map(_p);ia.debug(`Firestore (${wo}): ${i}`,...n)}}function hr(i,...e){if(ia.logLevel<=Ve.ERROR){const n=e.map(_p);ia.error(`Firestore (${wo}): ${i}`,...n)}}function fo(i,...e){if(ia.logLevel<=Ve.WARN){const n=e.map(_p);ia.warn(`Firestore (${wo}): ${i}`,...n)}}function _p(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,J0(i,s,n)}function J0(i,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Xe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||J0(e,o,s)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class oC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lC{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new eT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class uC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new uC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=fC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function Mm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=tT(),f=dC(u.encode(Xv(i,n)),u.encode(Xv(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(i.length,e.length)}function Xv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function dC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return xe(i[n],e[n]);return xe(i.length,e.length)}function mo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-62135596800,Zv=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Zv);return new Pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Wv)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Wv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Pt(0,0))}static max(){return new Re(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=wi.isNumericId(e),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class lt extends wi{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const mC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends wi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return mC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new Xt([Jv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function pC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Pt(n+1,0):new Pt(n,s));return new rs(o,Ee.empty(),e)}function gC(i){return new rs(i.readTime,i.key,eu)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Re.min(),Ee.empty(),eu)}static max(){return new rs(Re.max(),Ee.empty(),eu)}}function yC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==_C)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function EC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-1;function Uh(i){return i==null}function dh(i){return i===0&&1/i==-1/0}function TC(i){return typeof i=="number"&&Number.isInteger(i)&&!dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="";function bC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=eE(e)),e=wC(i.get(n),e);return eE(e)}function wC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case iT:n+="";break;default:n+=u}}return n}function eE(i){return i+iT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ds(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function rT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(e){return new nE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class nE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Vt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sT("Invalid base64 string: "+u):u}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const SC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=SC.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function as(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="server_timestamp",oT="__type__",lT="__previous_value__",uT="__local_write_time__";function Ep(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[oT])===null||n===void 0?void 0:n.stringValue)===aT}function jh(i){const e=i.mapValue.fields[lT];return Ep(e)?jh(e):e}function tu(i){const e=ss(i.mapValue.fields[uT].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,s,o,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const mh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="__type__",RC="__max__",Yc={mapValue:{}},hT="__vector__",ph="value";function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ep(i)?4:IC(i)?9007199254740991:CC(i)?10:11:Se(28295,{value:i})}function Ni(i,e){if(i===e)return!0;const n=os(i);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return tu(i).isEqual(tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),m=Tt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return mo(i.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tE(f)!==tE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ni(f[p],m[p])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function iu(i,e){return(i.values||[]).find(n=>Ni(n,e))!==void 0}function po(i,e){if(i===e)return 0;const n=os(i),s=os(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return iE(i.timestampValue,e.timestampValue);case 4:return iE(tu(i),tu(e));case 5:return Mm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=as(u),p=as(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=xe(m[g],p[g]);if(T!==0)return T}return xe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=xe(Tt(u.latitude),Tt(f.latitude));return m!==0?m:xe(Tt(u.longitude),Tt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return rE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const S=u.fields||{},b=f.fields||{},D=(m=S[ph])===null||m===void 0?void 0:m.arrayValue,x=(p=b[ph])===null||p===void 0?void 0:p.arrayValue,z=xe(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((T=x==null?void 0:x.values)===null||T===void 0?void 0:T.length)||0);return z!==0?z:rE(D,x)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const b=Mm(p[S],T[S]);if(b!==0)return b;const D=po(m[p[S]],g[T[S]]);if(D!==0)return D}return xe(p.length,T.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function iE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=ss(i),s=ss(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function rE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function go(i){return Pm(i)}function Pm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return as(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ee.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Pm(n.fields[f])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function th(i){switch(os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(i);return e?16+th(e):16;case 5:return 2*i.stringValue.length;case 6:return as(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+th(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ds(s.fields,(u,f)=>{o+=u.length+th(f)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function sE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Vm(i){return!!i&&"integerValue"in i}function Tp(i){return!!i&&"arrayValue"in i}function aE(i){return!!i&&"nullValue"in i}function oE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nh(i){return!!i&&"mapValue"in i}function CC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[cT])===null||n===void 0?void 0:n.stringValue)===hT}function Yl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ds(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function IC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===RC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ds(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new En(Yl(this.value))}}function fT(i){const e=[];return ds(i.fields,(n,s)=>{const o=new Xt([n]);if(nh(s)){const u=fT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Re.min(),Re.min(),Re.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Re.min(),Re.min(),En.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Re.min(),Re.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function lE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ni(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function NC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{}class It extends dT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new DC(e,n,s):n==="array-contains"?new MC(e,s):n==="in"?new PC(e,s):n==="not-in"?new VC(e,s):n==="array-contains-any"?new LC(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new OC(e,s):new kC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends dT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ni(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mT(i){return i.op==="and"}function pT(i){return xC(i)&&mT(i)}function xC(i){for(const e of i.filters)if(e instanceof ni)return!1;return!0}function Lm(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+go(i.value);if(pT(i))return i.filters.map(e=>Lm(e)).join(",");{const e=i.filters.map(n=>Lm(n)).join(",");return`${i.op}(${e})`}}function gT(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)}(i,e):i instanceof ni?function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&gT(f,o.filters[m]),!0):!1}(i,e):void Se(19439)}function yT(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(i):i instanceof ni?function(n){return n.op.toString()+" {"+n.getFilters().map(yT).join(" ,")+"}"}(i):"Filter"}class DC extends It{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class OC extends It{constructor(e,n){super(e,"in",n),this.keys=_T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kC extends It{constructor(e,n){super(e,"not-in",n),this.keys=_T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _T(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class MC extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&iu(n.arrayValue,this.value)}}class PC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class VC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class LC extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>iu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function cE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new UC(i,e,n,s,o,u,f)}function bp(i){const e=Ce(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Lm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>go(s)).join(",")),e.Ie=n}return e.Ie}function wp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!NC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!gT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!uE(i.startAt,e.startAt)&&uE(i.endAt,e.endAt)}function Um(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jC(i,e,n,s,o,u,f,m){return new fu(i,e,n,s,o,u,f,m)}function Bh(i){return new fu(i)}function hE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vT(i){return i.collectionGroup!==null}function $l(i){const e=Ce(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Xt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new yh(u,s))}),n.has(Xt.keyField().canonicalString())||e.Ee.push(new yh(Xt.keyField(),s))}return e.Ee}function Ai(i){const e=Ce(i);return e.de||(e.de=BC(e,$l(i))),e.de}function BC(i,e){if(i.limitType==="F")return cE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)});const n=i.endAt?new gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gh(i.startAt.position,i.startAt.inclusive):null;return cE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function jm(i,e){const n=i.filters.concat([e]);return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Bm(i,e,n){return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function zh(i,e){return wp(Ai(i),Ai(e))&&i.limitType===e.limitType}function ET(i){return`${bp(Ai(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>yT(o)).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(Ai(i))}; limitType=${i.limitType})`}function qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=lE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,$l(s),o)||s.endAt&&!function(f,m,p){const g=lE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,$l(s),o))}(i,e)}function zC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function TT(i){return(e,n)=>{let s=!1;for(const o of $l(i)){const u=qC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qC(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):Se(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new mt(Ee.comparator);function fr(){return HC}const bT=new mt(Ee.comparator);function Hl(...i){let e=bT;for(const n of i)e=e.insert(n.key,n);return e}function wT(i){let e=bT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return Ql()}function ST(){return Ql()}function Ql(){return new ca(i=>i.toString(),(i,e)=>i.isEqual(e))}const FC=new mt(Ee.comparator),GC=new Vt(Ee.comparator);function Le(...i){let e=GC;for(const n of i)e=e.add(n);return e}const KC=new Vt(xe);function YC(){return KC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function AT(i){return{integerValue:""+i}}function $C(i,e){return TC(e)?AT(e):Sp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function QC(i,e,n){return i instanceof _h?function(o,u){const f={fields:{[oT]:{stringValue:aT},[uT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ep(u)&&(u=jh(u)),u&&(f.fields[lT]=u),{mapValue:f}}(n,e):i instanceof ru?CT(i,e):i instanceof su?IT(i,e):function(o,u){const f=RT(o,u),m=fE(f)+fE(o.Re);return Vm(f)&&Vm(o.Re)?AT(m):Sp(o.serializer,m)}(i,e)}function XC(i,e,n){return i instanceof ru?CT(i,e):i instanceof su?IT(i,e):n}function RT(i,e){return i instanceof vh?function(s){return Vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _h extends Hh{}class ru extends Hh{constructor(e){super(),this.elements=e}}function CT(i,e){const n=NT(e);for(const s of i.elements)n.some(o=>Ni(o,s))||n.push(s);return{arrayValue:{values:n}}}class su extends Hh{constructor(e){super(),this.elements=e}}function IT(i,e){let n=NT(e);for(const s of i.elements)n=n.filter(o=>!Ni(o,s));return{arrayValue:{values:n}}}class vh extends Hh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function fE(i){return Tt(i.integerValue||i.doubleValue)}function NT(i){return Tp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function WC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?mo(s.elements,o.elements,Ni):s instanceof vh&&o instanceof vh?Ni(s.Re,o.Re):s instanceof _h&&o instanceof _h}(i.transform,e.transform)}class ZC{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Fh{}function xT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ap(i.key,Gn.none()):new du(i.key,i.data,Gn.none());{const n=i.data,s=En.empty();let o=new Vt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ms(i.key,s,new xn(o.toArray()),Gn.none())}}function JC(i,e,n){i instanceof du?function(o,u,f){const m=o.value.clone(),p=mE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ms?function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=mE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(DT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xl(i,e,n,s){return i instanceof du?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=u.value.clone(),T=pE(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ms?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=pE(u.fieldTransforms,p,f),T=f.data;return T.setAll(DT(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function eI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=RT(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function dE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,f)=>WC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class du extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function mE(i,e,n){const s=new Map;Xe(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,XC(f,m,n[o]))}return s}function pE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,QC(u,f,e))}return s}class Ap extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tI extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ST();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=xT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,s)=>dE(n,s))&&mo(this.baseMutations,e.baseMutations,(n,s)=>dE(n,s))}}class Rp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return FC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Rp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function sI(i){switch(i){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function OT(i){if(i===void 0)return hr("GRPC error has no .code"),se.UNKNOWN;switch(i){case Ct.OK:return se.OK;case Ct.CANCELLED:return se.CANCELLED;case Ct.UNKNOWN:return se.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return se.INTERNAL;case Ct.UNAVAILABLE:return se.UNAVAILABLE;case Ct.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ct.NOT_FOUND:return se.NOT_FOUND;case Ct.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ct.ABORTED:return se.ABORTED;case Ct.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ct.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:i})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new es([4294967295,4294967295],0);function gE(i){const e=tT().encode(i),n=new Y0;return n.update(e),new Uint8Array(n.digest())}function yE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class Cp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=es.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(aI)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Cp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(Re.min(),o,new mt(xe),fr(),Le())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class kT{constructor(e,n){this.targetId=e,this.Ce=n}}class MT{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _E{constructor(){this.Fe=0,this.Me=vE(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),n=Le(),s=Le();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}}),new mu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=vE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class oI{constructor(e){this.ze=e,this.je=new Map,this.He=fr(),this.Je=$c(),this.Ye=$c(),this.Ze=new mt(xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new Ee(u.path);this.tt(n,f,an.newNoDocument(f,Re.min()))}else Xe(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof sT)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Cp(f,o,u)}catch(p){return fo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Um(m.target)){const p=new Ee(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,an.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Le();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Gh(e,n,this.Ze,this.He,s);return this.He=fr(),this.Je=$c(),this.Ye=$c(),this.Ze=new mt(xe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new _E,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Vt(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Vt(xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new _E),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $c(){return new mt(Ee.comparator)}function vE(){return new mt(Ee.comparator)}const lI={asc:"ASCENDING",desc:"DESCENDING"},uI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cI={and:"AND",or:"OR"};class hI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(i,e){return i.useProto3Json||Uh(e)?e:{value:e}}function Eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function fI(i,e){return Eh(i,e.toTimestamp())}function Ri(i){return Xe(!!i,49232),Re.fromTimestamp(function(n){const s=ss(n);return new Pt(s.seconds,s.nanos)}(i))}function Ip(i,e){return qm(i,e).canonicalString()}function qm(i,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function VT(i){const e=lt.fromString(i);return Xe(zT(e),10190,{key:e.toString()}),e}function Hm(i,e){return Ip(i.databaseId,e.path)}function _m(i,e){const n=VT(e);if(n.get(1)!==i.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(UT(n))}function LT(i,e){return Ip(i.databaseId,e)}function dI(i){const e=VT(i);return e.length===4?lt.emptyPath():UT(e)}function Fm(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function UT(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function EE(i,e,n){return{name:Hm(i,e),fields:n.value.mapValue.fields}}function mI(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Xe(T===void 0||typeof T=="string",58123),Wt.fromBase64String(T||"")):(Xe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Wt.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?se.UNKNOWN:OT(g.code);return new me(T,g.message||"")}(f);n=new MT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(i,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):Re.min(),m=new En({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new rh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(i,s.document),u=s.readTime?Ri(s.readTime):Re.min(),f=an.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(i,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new rI(o,u),m=s.targetId;n=new kT(m,f)}}return n}function pI(i,e){let n;if(e instanceof du)n={update:EE(i,e.key,e.value)};else if(e instanceof Ap)n={delete:Hm(i,e.key)};else if(e instanceof ms)n={update:EE(i,e.key,e.data),updateMask:SI(e.fieldMask)};else{if(!(e instanceof tI))return Se(16599,{ft:e.type});n={verify:Hm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Se(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:fI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(i,e.precondition)),n}function gI(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(Re.min())&&(f=Ri(u)),new ZC(f,o.transformResults||[])}(n,e))):[]}function yI(i,e){return{documents:[LT(i,e.path)]}}function _I(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=LT(i,o);const u=function(g){if(g.length!==0)return BT(ni.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(b){return{field:so(b.field),direction:TI(b.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function vI(i){let e=dI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(S){const b=jT(S);return b instanceof ni&&pT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(b=>function(x){return new yh(ao(x.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,Uh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(S){const b=!!S.before,D=S.values||[];return new gh(D,b)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const b=!S.before,D=S.values||[];return new gh(D,b)}(n.endAt)),jC(e,o,f,u,m,"F",p,g)}function EI(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(n){return It.create(ao(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ni.create(n.compositeFilter.filters.map(s=>jT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(i):Se(30097,{filter:i})}function TI(i){return lI[i]}function bI(i){return uI[i]}function wI(i){return cI[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return Xt.fromServerFormat(i.fieldPath)}function BT(i){return i instanceof It?function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(aE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(aE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:bI(n.op),value:n.value}}}(i):i instanceof ni?function(n){const s=n.getFilters().map(o=>BT(o));return s.length===1?s[0]:{compositeFilter:{op:wI(n.op),filters:s}}}(i):Se(54877,{filter:i})}function SI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.wt=e}}function RI(i){const e=vI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.Cn=new II}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(rs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class II{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(qT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new yo(0)}static lr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LruGarbageCollector",NI=1048576;function wE([i,e],[n,s]){const o=xe(i,n);return o===0?xe(e,s):o}class xI{constructor(e){this.Er=e,this.buffer=new Vt(wE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(bE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?de(bE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.mr(3e5)})}}class OI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Lh.le);const s=new xI(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(TE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),io()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function kI(i,e){return new OI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Xl(s.mutation,o,xn.empty(),Pt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Hl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=fr();const f=Ql(),m=function(){return Ql()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ms)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Xl(T.mutation,g,T.mutation.getFieldMask(),Pt.now())):f.set(g.key,xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var S;return m.set(g,new PI(T,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new mt((f,m)=>f-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||xn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const S=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,S=ST();T.forEach(b=>{if(!u.has(b)){const D=xT(n.get(b),s.get(b));D!==null&&S.set(b,D),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ie.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Zs());let m=eu,p=u;return f.next(g=>ie.forEach(g,(T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next(b=>{p=p.insert(T,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(T=>({batchId:m,changes:wT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(S,b){return new fu(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,an.newInvalidDocument(T)))});let m=Hl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&Xl(T.mutation,g,xn.empty(),Pt.now()),qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:RI(o.bundledQuery),readTime:Ri(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.overlays=new mt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=Zs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iI(n,s));let u=this.Qr.get(n);u===void 0&&(u=Le(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this.$r=new Vt(qt.Ur),this.Kr=new Vt(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new qt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new qt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ee(new lt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new lt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Le();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new qt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||xe(e.Zr,n.Zr)}static Wr(e,n){return xe(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Vt(qt.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new nI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?vp:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(xe);return n.forEach(o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),ie.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new qt(new Ee(u),0);let m=new Vt(xe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ie.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Xe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ie.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Xr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.ii=e,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||yC(gC(T),s)<=0||(o.has(T.key)||qh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}si(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new qI(this)}getSize(e){return ie.resolve(this.size)}}class qI extends MI{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.persistence=e,this.oi=new ca(n=>bp(n),wp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new Np,this.targetCount=0,this.ui=yo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new yo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.ci={},this.overlays={},this.li=new Lh(0),this.hi=!1,this.hi=!0,this.Pi=new jI,this.referenceDelegate=e(this),this.Ti=new HI(this),this.indexManager=new CI,this.remoteDocumentCache=function(o){return new zI(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new AI(n),this.Ei=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new BI(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new FI(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ie.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class FI extends vC{constructor(e){super(),this.currentSequenceNumber=e}}class xp{constructor(e){this.persistence=e,this.Vi=new Np,this.mi=null}static fi(e){return new xp(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,s=>{const o=Ee.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.yi=new ca(s=>bC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=kI(this,n)}static fi(e,n){return new Th(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}Dr(e,n,s){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return q1()?8:EC(ln())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new GI;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(io()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(io()<=Ve.DEBUG&&de("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(io()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):ie.resolve())}ws(e,n){if(hE(n))return ie.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Bm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return hE(n)||o.isEqual(Re.min())?ie.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(io()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.Fs(e,f,n,pC(o,eu)).next(m=>m))})}vs(e,n){let s=new Vt(TT(e));return n.forEach((o,u)=>{qh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ys.getDocumentsMatchingQuery(e,n,rs.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",YI=3e8;class $I{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new mt(xe),this.Os=new ca(u=>bp(u),wp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function QI(i,e,n,s){return new $I(i,e,n,s)}async function FT(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function XI(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const S=g.batch,b=S.keys();let D=ie.resolve();return b.forEach(x=>{D=D.next(()=>T.getEntry(p,x)).next(z=>{const U=g.docVersions.get(x);Xe(U!==null,48541),z.version.compareTo(U)<0&&(S.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),T.addEntry(z)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function GT(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function WI(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((T,S)=>{const b=o.get(S);if(!b)return;m.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,S)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(Wt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(S,D),function(z,U,K){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=YI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,D,T)&&m.push(n.Ti.updateTargetData(u,D))});let p=fr(),g=Le();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(ZI(u,f,e.documentUpdates).next(T=>{p=T.qs,g=T.Qs})),!s.isEqual(Re.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return ie.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function ZI(i,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=fr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(Op,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function JI(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function eN(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Gm(i,e,n){const s=Ce(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ao(f))throw f;de(Op,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function SE(i,e,n){const s=Ce(i);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const S=Ce(p),b=S.Os.get(T);return b!==void 0?ie.resolve(S.xs.get(b)):S.Ti.getTargetData(g,T)}(s,f,Ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Le())).next(m=>(tN(s,zC(e),m),{documents:m,$s:u})))}function tN(i,e,n){let s=i.Ns.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class AE{constructor(){this.activeTargetIds=YC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nN{constructor(){this.xo=new AE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new AE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="ConnectivityMonitor";class CE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(RE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(RE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Km(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",rN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Km(),m=this.jo(e,n.toUriEncodedString());de(vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),T=fs(g);return this.Jo(e,m,p,s,T).then(S=>(de(vm,`Received RPC '${e}' ${f}: `,S),S),S=>{throw fo(vm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=rN[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class oN extends sN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Km();return new Promise((m,p)=>{const g=new $0;g.setWithCredentials(!0),g.listenOnce(Q0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const S=g.getResponseJson();de(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case eh.TIMEOUT:de(rn,`RPC '${e}' ${f} timed out`),p(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const b=g.getStatus();if(de(rn,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const x=D==null?void 0:D.error;if(x&&x.status&&x.message){const z=function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Q)>=0?Q:se.UNKNOWN}(x.status);p(new me(z,x.message))}else p(new me(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{de(rn,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);de(rn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)})}I_(e,n,s){const o=Km(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Z0(),m=W0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");de(rn,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=f.createWebChannel(T,p);this.E_(S);let b=!1,D=!1;const x=new aN({Zo:U=>{D?de(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(b||(de(rn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),de(rn,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},Xo:()=>S.close()}),z=(U,K,Q)=>{U.listen(K,W=>{try{Q(W)}catch(te){setTimeout(()=>{throw te},0)}})};return z(S,ql.EventType.OPEN,()=>{D||(de(rn,`RPC '${e}' stream ${o} transport opened.`),x.__())}),z(S,ql.EventType.CLOSE,()=>{D||(D=!0,de(rn,`RPC '${e}' stream ${o} transport closed`),x.u_(),this.d_(S))}),z(S,ql.EventType.ERROR,U=>{D||(D=!0,fo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),x.u_(new me(se.UNAVAILABLE,"The operation could not be completed")))}),z(S,ql.EventType.MESSAGE,U=>{var K;if(!D){const Q=U.data[0];Xe(!!Q,16349);const W=Q,te=(W==null?void 0:W.error)||((K=W[0])===null||K===void 0?void 0:K.error);if(te){de(rn,`RPC '${e}' stream ${o} received error:`,te);const re=te.status;let fe=function(C){const M=Ct[C];if(M!==void 0)return OT(M)}(re),O=te.message;fe===void 0&&(fe=se.INTERNAL,O="Unknown error status: "+re+" with message "+te.message),D=!0,x.u_(new me(fe,O)),S.close()}else de(rn,`RPC '${e}' stream ${o} received:`,Q),x.c_(Q)}}),z(m,X0.STAT_EVENT,U=>{U.stat===km.PROXY?de(rn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===km.NOPROXY&&de(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i){return new hI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class YT{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new KT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new me(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(de(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lN extends YT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=mI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Ri(f.readTime):Re.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Um(p)?{documents:yI(u,p)}:{query:_I(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=PT(u,f.resumeToken);const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=EI(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.Q_(n)}}class uN extends YT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=gI(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Fm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>pI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{}class hN extends cN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,qm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(se.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,qm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(se.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class fN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(hr(n),this.ua=!1):de("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class dN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{ha(this)&&(de(ra,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.da.add(4),await pu(g),g.Va.set("Unknown"),g.da.delete(4),await Yh(g)}(this))})}),this.Va=new fN(s,o)}}async function Yh(i){if(ha(i))for(const e of i.Aa)await e(!0)}async function pu(i){for(const e of i.Aa)await e(!1)}function $T(i,e){const n=Ce(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Vp(n)?Pp(n):Ro(n).N_()&&Mp(n,e))}function kp(i,e){const n=Ce(i),s=Ro(n);n.Ea.delete(e),s.N_()&&QT(n,e),n.Ea.size===0&&(s.N_()?s.k_():ha(n)&&n.Va.set("Unknown"))}function Mp(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(i).Z_(e)}function QT(i,e){i.ma.Ke(e),Ro(i).X_(e)}function Pp(i){i.ma=new oI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Va.ca()}function Vp(i){return ha(i)&&!Ro(i).O_()&&i.Ea.size>0}function ha(i){return Ce(i).da.size===0}function XT(i){i.ma=void 0}async function mN(i){i.Va.set("Online")}async function pN(i){i.Ea.forEach((e,n)=>{Mp(i,e)})}async function gN(i,e){XT(i),Vp(i)?(i.Va.Pa(e),Pp(i)):i.Va.set("Unknown")}async function yN(i,e,n){if(i.Va.set("Online"),e instanceof MT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(s){de(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(i,s)}else if(e instanceof rh?i.ma.Xe(e):e instanceof kT?i.ma.ot(e):i.ma.nt(e),!n.isEqual(Re.min()))try{const s=await GT(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ea.get(g);T&&u.Ea.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.Ea.get(p);if(!T)return;u.Ea.set(p,T.withResumeToken(Wt.EMPTY_BYTE_STRING,T.snapshotVersion)),QT(u,p);const S=new Xr(T.target,p,g,T.sequenceNumber);Mp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){de(ra,"Failed to raise snapshot:",s),await bh(i,s)}}async function bh(i,e,n){if(!Ao(e))throw e;i.da.add(1),await pu(i),i.Va.set("Offline"),n||(n=()=>GT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(ra,"Retrying IndexedDB access"),await n(),i.da.delete(1),await Yh(i)})}function WT(i,e){return e().catch(n=>bh(i,n,e))}async function $h(i){const e=Ce(i),n=ls(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:vp;for(;_N(e);)try{const o=await JI(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,vN(e,o)}catch(o){await bh(e,o)}ZT(e)&&JT(e)}function _N(i){return ha(i)&&i.Ia.length<10}function vN(i,e){i.Ia.push(e);const n=ls(i);n.N_()&&n.ea&&n.ta(e.mutations)}function ZT(i){return ha(i)&&!ls(i).O_()&&i.Ia.length>0}function JT(i){ls(i).start()}async function EN(i){ls(i).ia()}async function TN(i){const e=ls(i);for(const n of i.Ia)e.ta(n.mutations)}async function bN(i,e,n){const s=i.Ia.shift(),o=Rp.from(s,e,n);await WT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await $h(i)}async function wN(i,e){e&&ls(i).ea&&await async function(s,o){if(function(f){return sI(f)&&f!==se.ABORTED}(o.code)){const u=s.Ia.shift();ls(s).L_(),await WT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $h(s)}}(i,e),ZT(i)&&JT(i)}async function NE(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),de(ra,"RemoteStore received new credentials");const s=ha(n);n.da.add(3),await pu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Yh(n)}async function SN(i,e){const n=Ce(i);e?(n.da.delete(2),await Yh(n)):e||(n.da.add(2),await pu(n),n.Va.set("Unknown"))}function Ro(i){return i.fa||(i.fa=function(n,s,o){const u=Ce(n);return u.oa(),new lN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:mN.bind(null,i),n_:pN.bind(null,i),i_:gN.bind(null,i),Y_:yN.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),Vp(i)?Pp(i):i.Va.set("Unknown")):(await i.fa.stop(),XT(i))})),i.fa}function ls(i){return i.ga||(i.ga=function(n,s,o){const u=Ce(n);return u.oa(),new uN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:EN.bind(null,i),i_:wN.bind(null,i),na:TN.bind(null,i),ra:bN.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await $h(i)):(await i.ga.stop(),i.Ia.length>0&&(de(ra,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Lp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(i,e){if(hr("AsyncQueue",`${e}: ${i}`),Ao(i))return new me(se.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.pa=new mt(Ee.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new _o(e,n,lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class RN{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=DE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new me(se.ABORTED,"Firestore shutting down"))}}function DE(){return new ca(i=>ET(i),zh)}async function eb(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new AN,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Up(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&jp(n)}async function tb(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CN(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&jp(n)}function IN(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function jp(i){i.Ca.forEach(e=>{e.next()})}var Ym,OE;(OE=Ym||(Ym={})).xa="default",OE.Cache="cache";class nb{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.key=e}}class rb{constructor(e){this.key=e}}class NN{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.Za=TT(e),this.Xa=new lo(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new xE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,S)=>{const b=o.get(T),D=qh(this.query,S)?S:null,x=!!b&&this.mutatedKeys.has(b.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;b&&D?b.data.isEqual(D.data)?x!==z&&(s.track({type:3,doc:D}),U=!0):this.ru(b,D)||(s.track({type:2,doc:D}),U=!0,(p&&this.Za(D,p)>0||g&&this.Za(D,g)<0)&&(m=!0)):!b&&D?(s.track({type:0,doc:D}),U=!0):b&&!D&&(s.track({type:1,doc:b}),U=!0,(p||g)&&(m=!0)),U&&(D?(f=f.add(D),u=z?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((T,S)=>function(D,x){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:U})}};return z(D)-z(x)}(T.type,S.type)||this.Za(T.doc,S.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new _o(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new rb(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new ib(s))}),n}au(e){this.Ha=e.$s,this.Ya=Le();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return _o.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Bp="SyncEngine";class xN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class DN{constructor(e){this.key=e,this.cu=!1}}class ON{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new ca(m=>ET(m),zh),this.Pu=new Map,this.Tu=new Set,this.Iu=new mt(Ee.comparator),this.Eu=new Map,this.du=new Np,this.Au={},this.Ru=new Map,this.Vu=yo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function kN(i,e,n=!0){const s=cb(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await sb(s,e,n,!0),o}async function MN(i,e){const n=cb(i);await sb(n,e,!0,!1)}async function sb(i,e,n,s){const o=await eN(i.localStore,Ai(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await PN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&$T(i.remoteStore,o),m}async function PN(i,e,n,s,o){i.fu=(S,b,D)=>async function(z,U,K,Q){let W=U.view.tu(K);W.Cs&&(W=await SE(z.localStore,U.query,!1).then(({documents:O})=>U.view.tu(O,W)));const te=Q&&Q.targetChanges.get(U.targetId),re=Q&&Q.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(W,z.isPrimaryClient,te,re);return ME(z,U.targetId,fe.ou),fe.snapshot}(i,S,b,D);const u=await SE(i.localStore,e,!0),f=new NN(e,u.$s),m=f.tu(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);ME(i,n,g.ou);const T=new xN(e,n,f);return i.hu.set(e,T),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),g.snapshot}async function VN(i,e,n){const s=Ce(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!zh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&kp(s.remoteStore,o.targetId),$m(s,o.targetId)}).catch(So)):($m(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function LN(i,e){const n=Ce(i),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kp(n.remoteStore,s.targetId))}async function UN(i,e,n){const s=GN(i);try{const o=await function(f,m){const p=Ce(f),g=Pt.now(),T=m.reduce((D,x)=>D.add(x.key),Le());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=fr(),z=Le();return p.Bs.getEntries(D,T).next(U=>{x=U,x.forEach((K,Q)=>{Q.isValidDocument()||(z=z.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,x)).next(U=>{S=U;const K=[];for(const Q of m){const W=eI(Q,S.get(Q.key).overlayedDocument);W!=null&&K.push(new ms(Q.key,W,fT(W.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,m)}).next(U=>{b=U;const K=U.applyToLocalDocumentSet(S,z);return p.documentOverlayCache.saveOverlays(D,U.batchId,K)})}).then(()=>({batchId:b.batchId,changes:wT(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new mt(xe)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await gu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");n.reject(u)}}async function ab(i,e){const n=Ce(i);try{const s=await WI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Xe(f.cu,14607):o.removedDocuments.size>0&&(Xe(f.cu,42227),f.cu=!1))}),await gu(n,s,e)}catch(s){await So(s)}}function kE(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((T,S)=>{for(const b of S.Sa)b.Fa(m)&&(g=!0)}),g&&jp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jN(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new mt(Ee.comparator);f=f.insert(u,an.newNoDocument(u,Re.min()));const m=Le().add(u),p=new Gh(Re.min(),new Map,new mt(xe),f,m);await ab(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),zp(s)}else await Gm(s.localStore,e,!1).then(()=>$m(s,e,n)).catch(So)}async function BN(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await XI(n.localStore,e);lb(n,s,null),ob(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await So(o)}}async function zN(i,e,n){const s=Ce(i);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Xe(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);lb(s,e,n),ob(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gu(s,o)}catch(o){await So(o)}}function ob(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function lb(i,e,n){const s=Ce(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function $m(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||ub(i,s)})}function ub(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(kp(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),zp(i))}function ME(i,e,n){for(const s of n)s instanceof ib?(i.du.addReference(s.key,e),qN(i,s)):s instanceof rb?(de(Bp,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||ub(i,s.key)):Se(19791,{pu:s})}function qN(i,e){const n=e.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(de(Bp,"New document in limbo: "+n),i.Tu.add(s),zp(i))}function zp(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new Ee(lt.fromString(e)),s=i.Vu.next();i.Eu.set(s,new DN(n)),i.Iu=i.Iu.insert(n,s),$T(i.remoteStore,new Xr(Ai(Bh(n.path)),s,"TargetPurposeLimboResolution",Lh.le))}}async function gu(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Dp.Rs(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const T=Ce(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ie.forEach(g,b=>ie.forEach(b.ds,D=>T.persistence.referenceDelegate.addReference(S,b.targetId,D)).next(()=>ie.forEach(b.As,D=>T.persistence.referenceDelegate.removeReference(S,b.targetId,D)))))}catch(S){if(!Ao(S))throw S;de(Op,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const D=T.xs.get(b),x=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(x);T.xs=T.xs.insert(b,z)}}}(s.localStore,u))}async function HN(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){de(Bp,"User change. New user:",e.toKey());const s=await FT(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new me(se.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(n,s.ks)}}function FN(i,e){const n=Ce(i),s=n.Eu.get(e);if(s&&s.cu)return Le().add(s.key);{let o=Le();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function cb(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jN.bind(null,e),e.lu.Y_=CN.bind(null,e.eventManager),e.lu.gu=IN.bind(null,e.eventManager),e}function GN(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return QI(this.persistence,new KI,e.initialUser,this.serializer)}Su(e){return new HT(xp.fi,this.serializer)}bu(e){return new nN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class KN extends wh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Xe(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DI(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new HT(s=>Th.fi(s,n),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>kE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await SN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RN}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=function(u){return new oN(u)}(e.databaseInfo);return function(u,f,m,p){return new hN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new dN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>kE(this.syncEngine,n,0),function(){return CE.C()?new CE:new iN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const S=new ON(o,u,f,m,p,g);return T&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);de(ra,"RemoteStore shutting down."),u.da.add(5),await pu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class YN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=nT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{de(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(de(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Up(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Tm(i,e){i.asyncQueue.verifyOperationInProgress(),de(us,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await FT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function PE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await $N(i);de(us,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>NE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>NE(e.remoteStore,o)),i._onlineComponents=e}async function $N(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(us,"Using user provided OfflineComponentProvider");try{await Tm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(i,new wh)}}else de(us,"Using default OfflineComponentProvider"),await Tm(i,new KN(void 0));return i._offlineComponents}async function fb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(us,"Using user provided OnlineComponentProvider"),await PE(i,i._uninitializedComponentsProvider._online)):(de(us,"Using default OnlineComponentProvider"),await PE(i,new Qm))),i._onlineComponents}function QN(i){return fb(i).then(e=>e.syncEngine)}async function Xm(i){const e=await fb(i),n=e.eventManager;return n.onListen=kN.bind(null,e.syncEngine),n.onUnlisten=VN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LN.bind(null,e.syncEngine),n}function XN(i,e,n={}){const s=new ts;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new hb({next:b=>{T.xu(),f.enqueueAndForget(()=>tb(u,S));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new nb(Bh(m.path),T,{includeMetadataChanges:!0,Qa:!0});return eb(u,S)}(await Xm(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(i,e,n){if(!n)throw new me(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function WN(i,e,n,s){if(e===!0&&s===!0)throw new me(se.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function LE(i){if(!Ee.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function UE(i){if(Ee.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(i);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firestore.googleapis.com",jE=!0;class BE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pb,this.ssl=jE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NI)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=db((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new aC;switch(s.type){case"firstParty":return new cC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=VE.get(n);s&&(de("ComponentProvider","Removing Datastore"),VE.delete(n),s.terminate())}(this),Promise.resolve()}}function ZN(i,e,n,s={}){var o;i=Kn(i,Xh);const u=fs(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(dp(`https://${p}`),mp("Firestore",!0)),f.host!==pb&&f.host!==p&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!ta(g,m)&&(i._setSettings(g),s.mockUserToken)){let T,S;if(typeof s.mockUserToken=="string")T=s.mockUserToken,S=sn.MOCK_USER;else{T=z0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new sn(b)}i._authCredentials=new oC(new eT(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class on{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class ns extends Co{constructor(e,n,s){super(e,n,Bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Ee(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Sh(i,e,...n){if(i=ft(i),mb("collection","path",e),i instanceof Xh){const s=lt.fromString(e,...n);return UE(s),new ns(i,null,s)}{if(!(i instanceof on||i instanceof ns))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return UE(s),new ns(i.firestore,null,s)}}function mn(i,e,...n){if(i=ft(i),arguments.length===1&&(e=nT.newId()),mb("doc","path",e),i instanceof Xh){const s=lt.fromString(e,...n);return LE(s),new on(i,null,new Ee(s))}{if(!(i instanceof on||i instanceof ns))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return LE(s),new on(i.firestore,i instanceof ns?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class qE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new KT(this,"async_queue_retry"),this.rc=()=>{const s=Em();s&&de(zE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ts;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ao(e))throw e;de(zE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,hr("INTERNAL UNHANDLED ERROR: ",HE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Lp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Se(47125,{cc:HE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function HE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class cs extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new qE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function JN(i,e){const n=typeof i=="object"?i:yp(),s=typeof i=="string"?i:mh,o=Vh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=U0("firestore");u&&ZN(o,...u)}return o}function qp(i){if(i._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ex(i),i._firestoreClient}function ex(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,T){return new AC(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,db(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new YN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(Wt.fromBase64String(e))}catch(n){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=/^__.*__$/;class nx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class gb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ic:i})}}class Kp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ah(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(yb(this.Ic)&&tx.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class ix{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}bc(e,n,s,o=!1){return new Kp({Ic:e,methodName:n,wc:s,path:Xt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(i){const e=i._freezeSettings(),n=Kh(i._databaseId);return new ix(i._databaseId,!!e.ignoreUndefinedProperties,n)}function _b(i,e,n,s,o,u={}){const f=i.bc(u.merge||u.mergeFields?2:0,e,n,o);Yp("Data must be an object, but it was:",f,s);const m=vb(s,f);let p,g;if(u.merge)p=new xn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const b=Wm(e,S,n);if(!f.contains(b))throw new me(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Tb(T,b)||T.push(b)}p=new xn(T),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new nx(new En(m),p,g)}class Jh extends Hp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function rx(i,e,n,s){const o=i.bc(1,e,n);Yp("Data must be an object, but it was:",o,s);const u=[],f=En.empty();ds(s,(p,g)=>{const T=$p(e,p,n);g=ft(g);const S=o.mc(T);if(g instanceof Jh)u.push(T);else{const b=yu(g,S);b!=null&&(u.push(T),f.set(T,b))}});const m=new xn(u);return new gb(f,m,o.fieldTransforms)}function sx(i,e,n,s,o,u){const f=i.bc(1,e,n),m=[Wm(e,s,n)],p=[o];if(u.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Wm(e,u[b])),p.push(u[b+1]);const g=[],T=En.empty();for(let b=m.length-1;b>=0;--b)if(!Tb(g,m[b])){const D=m[b];let x=p[b];x=ft(x);const z=f.mc(D);if(x instanceof Jh)g.push(D);else{const U=yu(x,z);U!=null&&(g.push(D),T.set(D,U))}}const S=new xn(g);return new gb(T,S,f.fieldTransforms)}function ax(i,e,n,s=!1){return yu(n,i.bc(s?4:3,e))}function yu(i,e){if(Eb(i=ft(i)))return Yp("Unsupported field value:",e,i),vb(i,e);if(i instanceof Hp)return function(s,o){if(!yb(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=yu(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $C(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Pt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Pt){const u=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Fp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vo)return{bytesValue:PT(o.serializer,s._byteString)};if(s instanceof on){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ip(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gp)return function(f,m){return{mapValue:{fields:{[cT]:{stringValue:hT},[ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Sp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Qh(s)}`)}(i,e)}function vb(i,e){const n={};return rT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(i,(s,o)=>{const u=yu(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Eb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Pt||i instanceof Fp||i instanceof vo||i instanceof on||i instanceof Hp||i instanceof Gp)}function Yp(i,e,n){if(!Eb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Qh(n);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function Wm(i,e,n){if((e=ft(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return $p(i,e);throw Ah("Field path arguments must be of type string or ",i,!1,void 0,n)}const ox=new RegExp("[~\\*/\\[\\]]");function $p(i,e,n){if(e.search(ox)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ah(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(se.INVALID_ARGUMENT,m+i+p)}function Tb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lx extends bb{data(){return super.data()}}function Qp(i,e){return typeof e=="string"?$p(i,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class cx extends Xp{}function hx(i,e,...n){let s=[];e instanceof Xp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Wp).length,m=u.filter(p=>p instanceof ef).length;if(f>1||f>0&&m>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class ef extends cx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ef(e,n,s)}_apply(e){const n=this._parse(e);return wb(e._query,n),new Co(e.firestore,e.converter,jm(e._query,n))}_parse(e){const n=Zh(e.firestore);return function(u,f,m,p,g,T,S){let b;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){KE(S,T);const x=[];for(const z of S)x.push(GE(p,u,z));b={arrayValue:{values:x}}}else b=GE(p,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||KE(S,T),b=ax(m,f,S,T==="in"||T==="not-in");return It.create(g,T,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fx(i,e,n){const s=e,o=Qp("where",i);return ef._create(o,s,n)}class Wp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)wb(f,p),f=jm(f,p)}(e._query,n),new Co(e.firestore,e.converter,jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function GE(i,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vT(e)&&n.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!Ee.isDocumentKey(s))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sE(i,new Ee(s))}if(n instanceof on)return sE(i,n._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function KE(i,e){if(!Array.isArray(i)||i.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dx{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ds(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Tt(f.doubleValue));return new Gp(u)}convertGeoPoint(e){return new Fp(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Xe(zT(s),9688,{name:e});const o=new nu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ab extends bb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Qp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class sh extends Ab{data(e={}){return super.data(e)}}class mx{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:px(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function px(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){i=Kn(i,on);const e=Kn(i.firestore,cs);return XN(qp(e),i._key).then(n=>Cb(e,i,n))}class Rb extends dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function Zm(i,e,n){i=Kn(i,on);const s=Kn(i.firestore,cs),o=Sb(i.converter,e);return tf(s,[_b(Zh(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Gn.none())])}function Wr(i,e,n,...s){i=Kn(i,on);const o=Kn(i.firestore,cs),u=Zh(o);let f;return f=typeof(e=ft(e))=="string"||e instanceof Wh?sx(u,"updateDoc",i._key,e,n,s):rx(u,"updateDoc",i._key,e),tf(o,[f.toMutation(i._key,Gn.exists(!0))])}function gx(i){return tf(Kn(i.firestore,cs),[new Ap(i._key,Gn.none())])}function yx(i,e){const n=Kn(i.firestore,cs),s=mn(i),o=Sb(i.converter,e);return tf(n,[_b(Zh(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Jm(i,...e){var n,s,o;i=ft(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||FE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(FE(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,g,T;if(i instanceof on)g=Kn(i.firestore,cs),T=Bh(i._key.path),p={next:S=>{e[f]&&e[f](Cb(g,i,S))},error:e[f+1],complete:e[f+2]};else{const S=Kn(i,Co);g=Kn(S.firestore,cs),T=S._query;const b=new Rb(g);p={next:D=>{e[f]&&e[f](new mx(g,b,S,D))},error:e[f+1],complete:e[f+2]},ux(i._query)}return function(b,D,x,z){const U=new hb(z),K=new nb(D,U,x);return b.asyncQueue.enqueueAndForget(async()=>eb(await Xm(b),K)),()=>{U.xu(),b.asyncQueue.enqueueAndForget(async()=>tb(await Xm(b),K))}}(qp(g),T,m,p)}function tf(i,e){return function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>UN(await QN(s),o,u)),u.promise}(qp(i),e)}function Cb(i,e,n){const s=n.docs.get(e._key),o=new Rb(i);return new Ab(i,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){wo=o})(ua),na(new is("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new cs(new lC(s.getProvider("auth-internal")),new hC(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Si(Yv,$v,e),Si(Yv,$v,"esm2017")})();var _x="firebase",vx="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(_x,vx,"app");function Zp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function Ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ex=Ib,Nb=new cu("auth","Firebase",Ib());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new pp("@firebase/auth");function Tx(i,...e){Rh.logLevel<=Ve.WARN&&Rh.warn(`Auth (${ua}): ${i}`,...e)}function ah(i,...e){Rh.logLevel<=Ve.ERROR&&Rh.error(`Auth (${ua}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i,...e){throw Jp(i,...e)}function Ci(i,...e){return Jp(i,...e)}function xb(i,e,n){const s=Object.assign(Object.assign({},Ex()),{[e]:n});return new cu("auth","Firebase",s).create(e,{appName:i.name})}function lr(i){return xb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Nb.create(i,...e)}function we(i,e,...n){if(!i)throw Jp(e,...n)}function sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function dr(i,e){i||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function bx(){return YE()==="http:"||YE()==="https:"}function YE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bx()||j1()||"connection"in navigator)?navigator.onLine:!0}function Sx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=V1()||B1()}get(){return wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i,e){dr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cx=new _u(3e4,6e4);function pr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Oi(i,e,n,s,o={}){return Ob(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return U1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&fs(i.emulatorConfig.host)&&(g.credentials="include"),Db.fetch()(await kb(i,i.config.apiHost,n,m),g)})}async function Ob(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Ax),e);try{const o=new Nx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw xb(i,T,g);ii(i,T)}}catch(o){if(o instanceof Di)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function vu(i,e,n,s,o={}){const u=await Oi(i,e,n,s,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function kb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?eg(i.config,o):`${i.config.apiScheme}://${o}`;return Rx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Ix(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),Cx.get())})}}function Xc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(i,e,s);return o.customData._tokenResponse=n,o}function $E(i){return i!==void 0&&i.enterprise!==void 0}class xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ix(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dx(i,e){return Oi(i,"GET","/v2/recaptchaConfig",pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(i,e){return Oi(i,"POST","/v1/accounts:delete",e)}async function Ch(i,e){return Oi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kx(i,e=!1){const n=ft(i),s=await n.getIdToken(e),o=tg(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(bm(o.auth_time)),issuedAtTime:Wl(bm(o.iat)),expirationTime:Wl(bm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function bm(i){return Number(i)*1e3}function tg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=V0(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function QE(i){const e=tg(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Di&&Mx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Mx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Eo(i,Ch(n,{idToken:s}));we(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Mb(u.providerUserInfo):[],m=Lx(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new tp(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,S)}async function Vx(i){const e=ft(i);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Mb(i){return i.map(e=>{var{providerId:n}=e,s=Zp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(i,e){const n=await Ob(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await kb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&fs(i.emulatorConfig.host)&&(p.credentials="include"),Db.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jx(i,e){return Oi(i,"POST","/v2/accounts:revokeToken",pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=QE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Ux(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kx(this,e)}reload(){return Vx(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await Eo(this,Ox(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=n.photoURL)!==null&&f!==void 0?f:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:W,emailVerified:te,isAnonymous:re,providerData:fe,stsTokenManager:O}=n;we(W&&O,e,"internal-error");const R=uo.fromJSON(this.name,O);we(typeof W=="string",e,"internal-error"),Fr(S,e.name),Fr(b,e.name),we(typeof te=="boolean",e,"internal-error"),we(typeof re=="boolean",e,"internal-error"),Fr(D,e.name),Fr(x,e.name),Fr(z,e.name),Fr(U,e.name),Fr(K,e.name),Fr(Q,e.name);const C=new ti({uid:W,auth:e,email:b,emailVerified:te,displayName:S,isAnonymous:re,photoURL:x,phoneNumber:D,tenantId:z,stsTokenManager:R,createdAt:K,lastLoginAt:Q});return fe&&Array.isArray(fe)&&(C.providerData=fe.map(M=>Object.assign({},M))),U&&(C._redirectEventId=U),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Mb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function ar(i){dr(i instanceof Function,"Expected a class definition");let e=XE.get(i);return e?(dr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,XE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Pb.type="NONE";const WE=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,e,n){return`firebase:${i}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(ar(WE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ar(WE);const f=oh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let S;if(typeof T=="string"){const b=await Ch(e,{idToken:T}).catch(()=>{});if(!b)break;S=await ti._fromGetAccountInfoResponse(e,b,T)}else S=ti._fromJSON(e,T);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(qb(e))return"Webos";if(Lb(e))return"Safari";if((e.includes("chrome/")||Ub(e))&&!e.includes("edge/"))return"Chrome";if(Bb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Vb(i=ln()){return/firefox\//i.test(i)}function Lb(i=ln()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ub(i=ln()){return/crios\//i.test(i)}function jb(i=ln()){return/iemobile/i.test(i)}function Bb(i=ln()){return/android/i.test(i)}function zb(i=ln()){return/blackberry/i.test(i)}function qb(i=ln()){return/webos/i.test(i)}function ng(i=ln()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Bx(i=ln()){var e;return ng(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zx(){return z1()&&document.documentMode===10}function Hb(i=ln()){return ng(i)||Bb(i)||qb(i)||zb(i)||/windows phone/i.test(i)||jb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(i,e=[]){let n;switch(i){case"Browser":n=ZE(ln());break;case"Worker":n=`${ZE(ln())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(i,e={}){return Oi(i,"GET","/v2/passwordPolicy",pr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=6;class Gx{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Fx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new qx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(lr(this));const n=e?ft(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hx(this),n=new Gx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Tx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fa(i){return ft(i)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q1(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yx(i){nf=i}function Gb(i){return nf.loadJS(i)}function $x(){return nf.recaptchaEnterpriseScript}function Qx(){return nf.gapiScript}function Xx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Wx{constructor(){this.enterprise=new Zx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Zx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Jx="recaptcha-enterprise",Kb="NO_RECAPTCHA";class e2{constructor(e){this.type=Jx,this.auth=fa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Dx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;$E(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Kb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&$E(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$x();p.length!==0&&(p+=m),Gb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function e0(i,e,n,s=!1,o=!1){const u=new e2(i);let f;if(o)f=Kb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function np(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await e0(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await e0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(i,e){const n=Vh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function n2(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function i2(i,e,n){const s=fa(i);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Yb(e),{host:f,port:m}=r2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(ta(g,s.config.emulator)&&ta(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,fs(f)?(dp(`${u}//${f}${p}`),mp("Auth",!0)):s2()}function Yb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function r2(i){const e=Yb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:t0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:t0(f)}}}function t0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function s2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function a2(i,e){return Oi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(i,e){return vu(i,"POST","/v1/accounts:signInWithPassword",pr(i,e))}async function l2(i,e){return Oi(i,"POST","/v1/accounts:sendOobCode",pr(i,e))}async function u2(i,e){return l2(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",pr(i,e))}async function h2(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends ig{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,n,"signInWithPassword",o2);case"emailLink":return c2(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,s,"signUpPassword",a2);case"emailLink":return h2(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i,e){return vu(i,"POST","/v1/accounts:signInWithIdp",pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="http://localhost";class sa extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Zp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:f2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m2(i){const e=Bl(zl(i)).link,n=e?Bl(zl(e)).deep_link_id:null,s=Bl(zl(i)).deep_link_id;return(s?Bl(zl(s)).link:null)||s||n||e||i}class rg{constructor(e){var n,s,o,u,f,m;const p=Bl(zl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,S=d2((o=p.mode)!==null&&o!==void 0?o:null);we(g&&T&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=m2(e);try{return new rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return we(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends $b{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Eu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Eu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Eu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(i,e){return vu(i,"POST","/v1/accounts:signUp",pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=n0(s);return new aa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=n0(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function n0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Di{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function Qb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(i,u,e,s):u})}async function g2(i,e,n=!1){const s=await Eo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return aa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(i,e,n=!1){const{auth:s}=i;if(Nn(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await Eo(i,Qb(s,o,e,i),n);we(u.idToken,s,"internal-error");const f=tg(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(i.uid===m,s,"user-mismatch"),aa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(i,e,n=!1){if(Nn(i.app))return Promise.reject(lr(i));const s="signIn",o=await Qb(i,s,e),u=await aa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function _2(i,e){return Xb(fa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(i){const e=fa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v2(i,e,n){if(Nn(i.app))return Promise.reject(lr(i));const s=fa(i),f=await np(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Wb(i),p}),m=await aa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function i0(i,e,n){return Nn(i.app)?Promise.reject(lr(i)):_2(ft(i),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Wb(i),s})}async function Zb(i,e){const n=ft(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await u2(n.auth,o);u!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(i,e){return Oi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ft(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Eo(s,E2(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function b2(i,e,n,s){return ft(i).onIdTokenChanged(e,n,s)}function w2(i,e,n){return ft(i).beforeAuthStateChanged(e,n)}function Jb(i,e,n,s){return ft(i).onAuthStateChanged(e,n,s)}function xh(i){return ft(i).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1e3,A2=10;class tw extends ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tw.type="LOCAL";const R2=tw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nw.type="SESSION";const iw=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await C2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=sg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function N2(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function x2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function O2(){return rw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebaseLocalStorageDb",k2=1,Oh="firebaseLocalStorage",aw="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(i,e){return i.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function M2(){const i=indexedDB.deleteDatabase(sw);return new Tu(i).toPromise()}function ip(){const i=indexedDB.open(sw,k2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oh,{keyPath:aw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await M2(),e(await ip()))})})}async function r0(i,e,n){const s=sf(i,!0).put({[aw]:e,value:n});return new Tu(s).toPromise()}async function P2(i,e){const n=sf(i,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function s0(i,e){const n=sf(i,!0).delete(e);return new Tu(n).toPromise()}const V2=800,L2=3;class ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>L2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new I2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await r0(e,Dh,"1"),await s0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>P2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ow.type="LOCAL";const U2=ow;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(i,e){return e?ar(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B2(i){return Xb(i.auth,new ag(i),i.bypassAuthState)}function z2(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),y2(n,new ag(i),i.bypassAuthState)}async function q2(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),g2(n,new ag(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:ii(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new _u(2e3,1e4);class oo extends lw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H2.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="pendingRedirect",lh=new Map;class G2 extends lw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await K2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K2(i,e){const n=Q2(e),s=$2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Y2(i,e){lh.set(i._key(),e)}function $2(i){return ar(i._redirectPersistence)}function Q2(i){return oh(F2,i.config.apiKey,i.name)}async function X2(i,e,n=!1){if(Nn(i.app))return Promise.reject(lr(i));const s=fa(i),o=j2(s,e),f=await new G2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=10*60*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!uw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function uw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(i,e={}){return Oi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function iD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eD(i);for(const n of e)try{if(rD(n))return}catch{}ii(i,"unauthorized-domain")}function rD(i){const e=ep(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!nD.test(n))return!1;if(tD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new _u(3e4,6e4);function o0(){const i=Ii().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function aD(i){return new Promise((e,n)=>{var s,o,u;function f(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),n(Ci(i,"network-request-failed"))},timeout:sD.get()})}if(!((o=(s=Ii().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)f();else{const m=Xx("iframefcb");return Ii()[m]=()=>{gapi.load?f():n(Ci(i,"network-request-failed"))},Gb(`${Qx()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw uh=null,e})}let uh=null;function oD(i){return uh=uh||aD(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new _u(5e3,15e3),uD="__/auth/iframe",cD="emulator/auth/iframe",hD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dD(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?eg(e,cD):`https://${i.config.authDomain}/${uD}`,s={apiKey:e.apiKey,appName:i.name,v:ua},o=fD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function mD(i){const e=await oD(i),n=Ii().gapi;return we(n,i,"internal-error"),e.open({where:document.body,url:dD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(i,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},lD.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gD=500,yD=600,_D="_blank",vD="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ED(i,e,n,s=gD,o=yD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},pD),{width:s.toString(),height:o.toString(),top:u,left:f}),g=ln().toLowerCase();n&&(m=Ub(g)?_D:n),Vb(g)&&(e=e||vD,p.scrollbars="yes");const T=Object.entries(p).reduce((b,[D,x])=>`${b}${D}=${x},`,"");if(Bx(g)&&m!=="_self")return TD(e||"",m),new l0(null);const S=window.open(e||"",m,T);we(S,i,"popup-blocked");try{S.focus()}catch{}return new l0(S)}function TD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="__/auth/handler",wD="emulator/auth/handler",SD=encodeURIComponent("fac");async function u0(i,e,n,s,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ua,eventId:o};if(e instanceof $b){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",$1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof Eu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${SD}=${encodeURIComponent(p)}`:"";return`${AD(i)}?${hu(m).slice(1)}${g}`}function AD({config:i}){return i.emulator?eg(i,wD):`https://${i.authDomain}/${bD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class RD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iw,this._completeRedirectFn=X2,this._overrideRedirectResult=Y2}async _openPopup(e,n,s,o){var u;dr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await u0(e,n,s,ep(),o);return ED(e,f,sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await u0(e,n,s,ep(),o);return N2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mD(e),s=new Z2(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[wm];f!==void 0&&n(!!f),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hb()||Lb()||ng()}}const CD=RD;var c0="@firebase/auth",h0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xD(i){na(new is("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(i)},g=new Kx(s,o,u,p);return n2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),na(new is("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(s=>new ID(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(c0,h0,ND(i)),Si(c0,h0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=5*60,OD=B0("authIdTokenMaxAge")||DD;let f0=null;const kD=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OD)return;const o=n==null?void 0:n.token;f0!==o&&(f0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cw(i=yp()){const e=Vh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=t2(i,{popupRedirectResolver:CD,persistence:[U2,R2,iw]}),s=B0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=kD(u.toString());w2(n,f,()=>f(n.currentUser)),b2(n,m=>f(m))}}const o=L0("auth");return o&&i2(n,`http://${o}`),n}function MD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Yx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",MD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebasestorage.googleapis.com",fw="storageBucket",PD=2*60*1e3,VD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Di{constructor(e,n,s=0){super(Sm(e),`Firebase Storage: ${n} (${Sm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function Sm(i){return"storage/"+i}function LD(){const i="An unknown error occurred, please check the error payload for server response.";return new Jt(Zt.UNKNOWN,i)}function UD(i){return new Jt(Zt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function jD(i){return new Jt(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Jt(Zt.UNAUTHENTICATED,i)}function zD(){return new Jt(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qD(i){return new Jt(Zt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function HD(){return new Jt(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FD(){return new Jt(Zt.CANCELED,"User canceled the upload/download.")}function GD(i){return new Jt(Zt.INVALID_URL,"Invalid URL '"+i+"'.")}function KD(i){return new Jt(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function YD(){return new Jt(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fw+"' property when initializing the app?")}function rp(i){return new Jt(Zt.INVALID_ARGUMENT,i)}function dw(){return new Jt(Zt.APP_DELETED,"The Firebase app was deleted.")}function $D(i){return new Jt(Zt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jl(i){throw new Jt(Zt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(s.path==="")return s;throw KD(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(te){te.path_=decodeURIComponent(te.path)}const T="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",D=new RegExp(`^https?://${S}/${T}/b/${o}/o${b}`,"i"),x={bucket:1,path:3},z=n===hw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",K=new RegExp(`^https?://${z}/${o}/${U}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:D,indices:x,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let te=0;te<W.length;te++){const re=W[te],fe=re.regex.exec(e);if(fe){const O=fe[re.indices.bucket];let R=fe[re.indices.path];R||(R=""),s=new Fn(O,R),re.postModify(s);break}}if(s==null)throw GD(e);return s}}class QD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function T(...U){g||(g=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,i(D,p())},U)}function b(){u&&clearTimeout(u)}function D(U,...K){if(g){b();return}if(U){b(),T.call(null,U,...K);return}if(p()||f){b(),T.call(null,U,...K);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,S(W)}let x=!1;function z(U){x||(x=!0,b(),!g&&(o!==null?(U||(m=2),clearTimeout(o),S(0)):U||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,z(!0)},n),z}function WD(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i){return i!==void 0}function d0(i,e,n,s){if(s<e)throw rp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw rp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function eO(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ea;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ea||(ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,s,o,u,f,m,p,g,T,S,b=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=S,this.retry=b,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,z)=>{this.resolve_=x,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Wc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ea.NO_ERROR,p=u.getStatus();if(!m||tO(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===ea.ABORT;s(!1,new Wc(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Wc(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());ZD(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=LD();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?dw():FD();f(p)}else{const p=HD();f(p)}};this.canceled_?n(!1,new Wc(!1,null,!0)):this.backoffId_=XD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function iO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function rO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function aO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function oO(i,e,n,s,o,u,f=!0,m=!1){const p=eO(i.urlParams),g=i.url+p,T=Object.assign({},i.headers);return sO(T,e),iO(T,n),rO(T,u),aO(T,s),new nO(g,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function uO(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function cO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class hO{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fO(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=zD():o=BD():n.getStatus()===402?o=jD(i.bucket):n.getStatus()===403?o=qD(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function dO(i){const e=fO(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=UD(i.path)),u.serverResponse=o.serverResponse,u}return n}function mO(i,e){const n=e.fullServerUrl(),s=JD(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function f(p,g){}const m=new hO(s,o,f,u);return m.successCodes=[200,204],m.errorHandler=dO(e),m}class pO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw jl("cannot .send() more than once");if(fs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gO extends pO{initXhr(){this.xhr_.responseType="text"}}function yO(){return new gO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oa(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cO(this._location.path)}get storage(){return this._service}get parent(){const e=lO(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $D(e)}}function _O(i){i._throwIfRoot("deleteObject");const e=mO(i.storage,i._location);return i.storage.makeRequestWithTokens(e,yO)}function vO(i,e){const n=uO(i._location.path,e),s=new Fn(i._location.bucket,n);return new oa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(i){return/^[A-Za-z]+:\/\//.test(i)}function TO(i,e){return new oa(i,e)}function mw(i,e){if(i instanceof og){const n=i;if(n._bucket==null)throw YD();const s=new oa(n,n._bucket);return e!=null?mw(s,e):s}else return e!==void 0?vO(i,e):i}function bO(i,e){if(e&&EO(e)){if(i instanceof og)return TO(i,e);throw rp("To use ref(service, url), the first argument must be a Storage instance.")}else return mw(i,e)}function m0(i,e){const n=e==null?void 0:e[fw];return n==null?null:Fn.makeFromBucketSpec(n,i)}function wO(i,e,n,s={}){i.host=`${e}:${n}`;const o=fs(e);o&&(dp(`https://${i.host}/b`),mp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:z0(u,i.app.options.projectId))}class og{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=hw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PD,this._maxUploadRetryTime=VD,this._requests=new Set,o!=null?this._bucket=Fn.makeFromBucketSpec(o,this._host):this._bucket=m0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=m0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new QD(dw());{const f=oO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const p0="@firebase/storage",g0="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="storage";function SO(i){return i=ft(i),_O(i)}function AO(i,e){return i=ft(i),bO(i,e)}function RO(i=yp(),e){i=ft(i);const s=Vh(i,pw).getImmediate({identifier:e}),o=U0("storage");return o&&CO(s,...o),s}function CO(i,e,n,s={}){wO(i,e,n,s)}function IO(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new og(n,s,o,e,ua)}function NO(){na(new is(pw,IO,"PUBLIC").setMultipleInstances(!0)),Si(p0,g0,""),Si(p0,g0,"esm2017")}NO();const xO={apiKey:"AIzaSyDM7ok2P_WnrqMcH69gVC4cR9EP4J9fD_8",authDomain:"goodneighbor-b1fb3.firebaseapp.com",projectId:"goodneighbor-b1fb3",storageBucket:"goodneighbor-b1fb3.appspot.com",messagingSenderId:"437041543135",appId:"1:437041543135:web:c20ac170d742746f49366a",measurementId:"G-CCYJ56JPMB"},lg=F0(xO),Js=cw(lg),Ht=JN(lg),DO=RO(lg),OO=mn(Ht,"meta","stats");async function gw(){const i=await au(OO);return i.exists()?i.data():{accounts:0,listings:0}}const yw=B.createContext(),af=()=>{const i=B.useContext(yw);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},kO=({children:i})=>{const[e,n]=B.useState(null),[s,o]=B.useState(null),[u,f]=B.useState(!0),m=cw(),p=async D=>{var U;if(!D)return;const x=mn(Ht,"users",D.uid),z=await au(x);if(z.exists()){const K=z.data();await Wr(x,{email:D.email,lastLogin:new Date}),o(K)}else{const K={uid:D.uid,email:D.email,fullName:D.displayName||((U=D.email)==null?void 0:U.split("@")[0])||"User",phone:D.phoneNumber||"",createdAt:new Date,lastLogin:new Date};await Zm(x,K),o(K)}},g=async D=>{try{const x=mn(Ht,"users",D),z=await au(x);return z.exists()?z.data():null}catch(x){return console.error("Error getting user profile:",x),null}},T=async D=>{if(e)try{const x=mn(Ht,"users",e.uid);return await Wr(x,D),o(z=>({...z,...D})),!0}catch(x){return console.error("Error updating user profile:",x),!1}},S=async()=>{try{await xh(m),n(null),o(null)}catch(D){console.error("Error signing out:",D)}};B.useEffect(()=>Jb(m,async x=>{n(x),x?await p(x):o(null),f(!1)}),[m]);const b={currentUser:e,userProfile:s,loading:u,getUserProfile:g,updateUserProfile:T,logout:S};return _.jsx(yw.Provider,{value:b,children:i})};function MO(){const i=mr(),{currentUser:e}=af();return _.jsx("div",{className:"start-container",children:_.jsxs("div",{className:"start-card",children:[_.jsxs("div",{className:"start-header",children:[_.jsx("h1",{className:"start-title",children:"Welcome to GoodNeighbor"}),_.jsx("p",{className:"start-subtitle",children:"Your community marketplace"})]}),_.jsxs("div",{className:"start-content",children:[_.jsx("p",{className:"start-description",children:"Connect with your neighbors, discover local services, and build a stronger community together."}),_.jsxs("div",{className:"start-buttons",children:[_.jsx("button",{className:"start-button primary",onClick:()=>i("/signin"),children:"Sign In"}),_.jsx("button",{className:"start-button secondary",onClick:()=>i("/listingspage"),children:"Browse Listings"}),_.jsx("button",{className:"start-button secondary",onClick:()=>i("/createlistings"),children:"Create Listing"}),e&&_.jsx("button",{className:"start-button secondary",onClick:()=>i("/account"),children:"Account"}),_.jsx("button",{className:"start-button secondary",onClick:()=>i("/about"),children:"About"})]}),_.jsx("div",{className:"start-footer",children:_.jsxs("p",{className:"signup-prompt",children:["New to GoodNeighbor?"," ",_.jsx("button",{className:"signup-link",onClick:()=>i("/signup"),children:"Create an account"})]})})]})]})})}function PO(){const i=mr(),[e,n]=B.useState({email:"",password:""}),[s,o]=B.useState(""),[u,f]=B.useState(!1),[m,p]=B.useState(!1),[g,T]=B.useState(""),S=z=>{n({...e,[z.target.name]:z.target.value}),s&&o(""),m&&p(!1),g&&T("")},b=async z=>{z.preventDefault(),o(""),f(!0),p(!1),T("");try{if(!(await i0(Js,e.email,e.password)).user.emailVerified){o("Please verify your email before signing in."),p(!0),await xh(Js),f(!1);return}i("/listingspage")}catch(U){o(U.message)}finally{f(!1)}},D=async()=>{T(""),f(!0);try{const U=(await i0(Js,e.email,e.password)).user;await Zb(U),T("Verification email sent! Please check your inbox."),await xh(Js)}catch{T("Failed to send verification email. Please check your credentials and try again.")}finally{f(!1)}},x=()=>{i("/")};return _.jsxs("div",{className:"signin-container",children:[_.jsx("div",{className:"back-button-container",children:_.jsxs("button",{onClick:x,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]})}),_.jsxs("div",{className:"signin-card",children:[_.jsxs("div",{className:"signin-header",children:[_.jsx("h1",{className:"signin-title",children:"Welcome Back"}),_.jsx("p",{className:"signin-subtitle",children:"Sign in to your account"})]}),_.jsxs("form",{onSubmit:b,className:"signin-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),_.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:S,required:!0,className:"signin-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),_.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:e.password,onChange:S,required:!0,className:"signin-input"})]}),s&&_.jsxs("div",{className:"error-message",children:[_.jsx("span",{className:"error-icon",children:""}),s]}),m&&_.jsxs("div",{className:"resend-verification-container",children:[_.jsx("button",{type:"button",className:"resend-button",onClick:D,disabled:u,children:u?"Sending...":"Resend Verification Email"}),g&&_.jsx("div",{className:`resend-message ${g.includes("Failed")?"error":""}`,children:g})]}),_.jsx("button",{type:"submit",className:"signin-button",disabled:u,children:u?"Signing In...":"Sign In"})]}),_.jsxs("div",{className:"signin-footer",children:[_.jsxs("p",{className:"signup-prompt",children:["Don't have an account?"," ",_.jsx("button",{className:"signup-link",onClick:()=>i("/signup"),children:"Sign up"})]}),_.jsxs("p",{className:"verification-prompt",children:["Need to verify your email?"," ",_.jsx("button",{className:"verification-link",onClick:()=>p(!0),children:"Resend verification email"})]})]})]})]})}function VO(){const i=mr(),[e,n]=B.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),[s,o]=B.useState(""),[u,f]=B.useState(!1),m=S=>{n({...e,[S.target.name]:S.target.value}),s&&o("")},p=async S=>{try{const b=mn(Ht,"usernames",S.toLowerCase());return!(await au(b)).exists()}catch(b){return console.error("Error checking username uniqueness:",b),!1}},g=async S=>{if(S.preventDefault(),o(""),f(!0),!e.username.trim()){o("Username is required"),f(!1);return}if(!e.fullName.trim()){o("Full name is required"),f(!1);return}if(!e.email.trim()){o("Email is required"),f(!1);return}if(e.password.length<6){o("Password must be at least 6 characters long"),f(!1);return}if(e.password!==e.confirmPassword){o("Passwords do not match"),f(!1);return}const b=e.username.trim().toLowerCase();if(b.length<3){o("Username must be at least 3 characters long"),f(!1);return}if(!/^[a-zA-Z0-9_]+$/.test(b)){o("Username can only contain letters, numbers, and underscores"),f(!1);return}try{if(!await p(b)){o("Username is already taken. Please choose another."),f(!1);return}const z=(await v2(Js,e.email,e.password)).user;await T2(z,{displayName:e.fullName}),await Zb(z),await Zm(mn(Ht,"users",z.uid),{username:b,fullName:e.fullName,email:e.email,createdAt:new Date}),await Zm(mn(Ht,"usernames",b),{userId:z.uid,createdAt:new Date}),f(!1),alert("Account created successfully! Please check your email and verify your account before signing in."),i("/account")}catch(D){console.error("Signup error:",D);let x="An error occurred during signup. Please try again.";D.code==="auth/email-already-in-use"?x="An account with this email already exists. Please sign in instead.":D.code==="auth/invalid-email"?x="Please enter a valid email address.":D.code==="auth/weak-password"?x="Password is too weak. Please choose a stronger password.":D.code==="auth/network-request-failed"&&(x="Network error. Please check your internet connection and try again."),o(x),f(!1)}},T=()=>{i("/")};return _.jsxs("div",{className:"signup-container",children:[_.jsx("div",{className:"back-button-container",children:_.jsxs("button",{onClick:T,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]})}),_.jsxs("div",{className:"signup-card",children:[_.jsxs("div",{className:"signup-header",children:[_.jsx("h1",{className:"signup-title",children:"Create Account"}),_.jsx("p",{className:"signup-subtitle",children:"Join our community today"})]}),_.jsxs("form",{onSubmit:g,className:"signup-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"username",className:"input-label",children:"Username"}),_.jsx("input",{id:"username",name:"username",type:"text",placeholder:"Choose a unique username",value:e.username,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"fullName",className:"input-label",children:"Full Name"}),_.jsx("input",{id:"fullName",name:"fullName",type:"text",placeholder:"Enter your full name",value:e.fullName,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),_.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),_.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Create a password",value:e.password,onChange:m,required:!0,className:"signup-input"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"confirmPassword",className:"input-label",children:"Confirm Password"}),_.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:e.confirmPassword,onChange:m,required:!0,className:"signup-input"})]}),s&&_.jsxs("div",{className:"error-message",children:[_.jsx("span",{className:"error-icon",children:""}),s]}),_.jsx("button",{type:"submit",className:"signup-button",disabled:u,children:u?"Creating Account...":"Create Account"})]}),_.jsx("div",{className:"signup-footer",children:_.jsxs("p",{className:"signin-prompt",children:["Already have an account?"," ",_.jsx("button",{className:"signin-link",onClick:()=>i("/signin"),children:"Sign in"})]})})]})]})}function LO({listing:i,onContact:e,onFavorite:n,onShare:s,onMatch:o,onClaim:u,showActions:f=!0,isFavorited:m=!1,currentUserId:p=null,viewMode:g="grid"}){const[T,S]=B.useState(!1),[b,D]=B.useState(!1),[x,z]=B.useState(!1),[U,K]=B.useState(null),Q=F=>{const he=new Date(F),De=Math.abs(new Date-he),k=Math.floor(De/(1e3*60*60*24)),ne=Math.floor(De/(1e3*60*60)),le=Math.floor(De/(1e3*60));return le<60?`${le}m ago`:ne<24?`${ne}h ago`:k<7?`${k}d ago`:he.toLocaleDateString()},W=F=>{switch(F==null?void 0:F.toLowerCase()){case"like new":return"condition-like-new";case"good":return"condition-good";case"fair":return"condition-fair";case"poor":return"condition-poor";default:return"condition-good"}},te=F=>{switch(F==null?void 0:F.toLowerCase()){case"available":return"status-available";case"matched":return"status-matched";case"claimed":return"status-claimed";default:return"status-available"}},re=F=>{switch(F==null?void 0:F.toLowerCase()){case"service":return"type-flair-service";case"item":return"type-flair-item";default:return"type-flair-item"}},fe=F=>{switch(F==null?void 0:F.toLowerCase()){case"service":return{icon:"",text:"Service"};case"item":return{icon:"",text:"Item"};default:return{icon:"",text:"Item"}}},O=()=>{D(!0)},R=()=>{S(!0)},C=F=>{F.stopPropagation(),e&&e(i)},M=F=>{F.stopPropagation(),n&&n(i.id)},V=F=>{F.stopPropagation(),s&&s(i)},L=()=>{z(!1),K(null)},N=p&&i.userId===p,at=(i.requestors||[]).some(F=>F.userId===p),Ge=(i.requestors||[]).length;if(g==="list"){const F=fe(i.type);return _.jsxs("div",{className:"listing-row",children:[_.jsxs("div",{className:"listing-row-main",children:[_.jsx("div",{className:"listing-row-title",children:i.title}),_.jsxs("div",{className:"listing-row-meta",children:[_.jsxs("span",{className:`type-flair ${re(i.type)}`,children:[F.icon," ",F.text]}),_.jsx("span",{className:"listing-row-sep",children:""}),_.jsx("span",{className:"listing-row-category",children:i.category||i.serviceType}),_.jsx("span",{className:"listing-row-sep",children:""}),_.jsx("span",{className:"listing-row-location",children:i.location}),_.jsx("span",{className:"listing-row-sep",children:""}),(i.status==="available"||i.status==="claimed")&&_.jsx("span",{className:`status-badge ${te(i.status)}`,children:i.status}),i.status==="matched"&&_.jsx("span",{className:"matched-badge",children:" Matched"}),_.jsx("span",{className:"listing-row-sep",children:""}),_.jsx("span",{className:"listing-row-date",children:Q(i.datePosted)})]})]}),f&&_.jsx("div",{className:"listing-row-actions"})]})}return _.jsxs("div",{className:"listing-card",children:[_.jsxs("div",{className:"listing-image-container",children:[!b&&i.image?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:i.image,alt:i.title,className:`listing-image ${T?"loaded":""}`,onLoad:R,onError:O}),!T&&_.jsx("div",{className:"image-placeholder",children:_.jsx("div",{className:"loading-spinner"})})]}):_.jsxs("div",{className:"image-placeholder no-image",children:[_.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),_.jsx("polyline",{points:"21,15 16,10 5,21"})]}),_.jsx("span",{children:"No Image"})]}),(i.status==="available"||i.status==="claimed")&&_.jsx("div",{className:`status-badge ${te(i.status)}`,children:i.status||"Available"}),(()=>{const F=fe(i.type);return _.jsxs("div",{className:`type-flair-badge ${re(i.type)}`,children:[F.icon," ",F.text]})})(),N&&Ge>0&&_.jsxs("div",{className:"request-count-badge",children:[Ge," request",Ge!==1?"s":""]}),f&&!N&&_.jsx("button",{className:`favorite-btn ${m?"favorited":""}`,onClick:M,"aria-label":m?"Remove from favorites":"Add to favorites",children:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:m?"currentColor":"none",stroke:"currentColor",children:_.jsx("path",{d:"20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),_.jsxs("div",{className:"listing-content",children:[_.jsx("h3",{className:"listing-title",children:i.title}),_.jsxs("div",{className:"listing-meta",children:[_.jsx("span",{className:"listing-category",children:i.category}),i.condition&&_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"meta-separator",children:""}),_.jsx("span",{className:`condition-badge ${W(i.condition)}`,children:i.condition})]})]}),i.description&&_.jsx("p",{className:"listing-description",children:i.description.length>100?`${i.description.substring(0,100)}...`:i.description}),_.jsx("div",{className:"listing-footer",children:_.jsxs("div",{className:"location-date",children:[_.jsxs("span",{className:"listing-location",children:[_.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),_.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),i.location]}),_.jsx("span",{className:"listing-date",children:Q(i.datePosted)})]})}),f&&_.jsxs("div",{className:"listing-actions",children:[!N&&i.status==="available"&&!at&&_.jsxs("button",{className:"contact-btn primary",onClick:C,children:[_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),_.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact"]}),!N&&at&&_.jsx("span",{className:"requested-indicator",children:"Requested"}),_.jsxs("button",{className:"share-btn secondary",onClick:V,children:[_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("circle",{cx:"18",cy:"5",r:"3"}),_.jsx("circle",{cx:"6",cy:"12",r:"3"}),_.jsx("circle",{cx:"18",cy:"19",r:"3"}),_.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),_.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),"Share"]}),N&&_.jsx("span",{className:"own-listing-indicator",children:"Your listing"})]})]}),x&&U&&_.jsx("div",{className:"contact-popup-overlay",onClick:L,children:_.jsxs("div",{className:"contact-popup",onClick:F=>F.stopPropagation(),children:[_.jsx("h4",{children:"Contact Information"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Name:"})," ",U.userFullName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",U.userEmail]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Requested:"})," ",Q(U.requestDate)]}),_.jsx("button",{className:"close-popup-btn",onClick:L,children:"Close"})]})})]})}const UO=["All","Books & Media","Electronics","Toys & Games","Sports & Outdoors","Home & Garden","Office & School Supplies","Vehicles & Parts","Baby & Kids"],jO=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"title",label:"Title A-Z"},{value:"category",label:"Category"}];function BO({listings:i=[],onContact:e,onFavorite:n,onShare:s,onMatch:o,onClaim:u,favorites:f=[],currentUserId:m,loading:p=!1}){const[g,T]=B.useState("All"),[S,b]=B.useState(""),[D,x]=B.useState("newest"),[z,U]=B.useState("grid"),[K,Q]=B.useState(!1),[W,te]=B.useState(1),re=18,fe=B.useMemo(()=>{let ae=i;if(g!=="All"&&(ae=ae.filter(_e=>_e.category===g)),S){const _e=S.toLowerCase();ae=ae.filter(ye=>ye.title.toLowerCase().includes(_e)||ye.description.toLowerCase().includes(_e)||ye.location.toLowerCase().includes(_e)||ye.category.toLowerCase().includes(_e))}return ae.sort((_e,ye)=>{switch(D){case"newest":return new Date(ye.createdAt||ye.datePosted)-new Date(_e.createdAt||_e.datePosted);case"oldest":return new Date(_e.createdAt||_e.datePosted)-new Date(ye.createdAt||ye.datePosted);case"title":return _e.title.localeCompare(ye.title);case"category":return _e.category.localeCompare(ye.category);default:return 0}}),ae},[i,g,S,D]),O=Math.ceil(fe.length/re),R=(W-1)*re,C=R+re,M=fe.slice(R,C);B.useEffect(()=>{te(1)},[g,S,D]);const V=ae=>{te(ae),window.scrollTo({top:0,behavior:"smooth"})},L=ae=>{T(ae)},N=ae=>{b(ae.target.value)},at=ae=>{x(ae.target.value)},Ge=ae=>{U(ae)},F=()=>{T("All"),b(""),x("newest")},he=ae=>{e&&e(ae)},ge=ae=>{n&&n(ae)},De=ae=>{s?s(ae):navigator.share?navigator.share({title:ae.title,text:`Check out this free item: ${ae.title}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},k=(ae,_e)=>{o&&o(ae,_e)},ne=ae=>{u&&u(ae)},le=mr(),oe=()=>{le("/")};return _.jsxs("div",{className:"listings-page",children:[_.jsxs("div",{className:"listings-header",children:[_.jsxs("button",{onClick:oe,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"m12 19-7-7 7-7"}),_.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),_.jsxs("div",{className:"header-content",children:[_.jsx("h1",{children:"Marketplace"}),_.jsx("p",{children:"Find free items in your community"})]})]}),_.jsxs("div",{className:"listings-controls",children:[_.jsxs("div",{className:"controls-container",children:[_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-input-wrapper",children:[_.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("circle",{cx:"11",cy:"11",r:"8"}),_.jsx("path",{d:"21 21l-4.35-4.35"})]}),_.jsx("input",{type:"text",placeholder:"Search for items...",value:S,onChange:N,className:"search-input"}),S&&_.jsx("button",{className:"clear-search",onClick:()=>b(""),children:_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),_.jsxs("button",{className:"filter-toggle",onClick:()=>Q(!K),children:[_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:_.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})}),"Filters"]}),_.jsxs("div",{className:"view-mode-toggle",children:[_.jsx("button",{className:`view-btn ${z==="grid"?"active":""}`,onClick:()=>Ge("grid"),children:_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),_.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),_.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),_.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),_.jsx("button",{className:`view-btn ${z==="list"?"active":""}`,onClick:()=>Ge("list"),children:_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),_.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),_.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),_.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})})]})]}),_.jsxs("div",{className:`filters-panel ${K?"show":""}`,children:[_.jsxs("div",{className:"filter-section",children:[_.jsx("h3",{children:"Categories"}),_.jsx("div",{className:"category-filters",children:UO.map(ae=>_.jsx("button",{className:`category-btn ${g===ae?"active":""}`,onClick:()=>L(ae),children:ae},ae))})]}),_.jsxs("div",{className:"filter-section",children:[_.jsx("h3",{children:"Sort By"}),_.jsx("select",{value:D,onChange:at,className:"sort-select",children:jO.map(ae=>_.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),_.jsx("button",{className:"clear-filters-btn",onClick:F,children:"Clear All Filters"})]})]}),(fe.length>0||g!=="All"||S)&&_.jsxs("div",{className:"results-summary",children:[fe.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"results-count-badge",children:fe.length}),_.jsx("span",{className:"results-count-text",children:fe.length===1?"item found":"items found"})]}),(g!=="All"||S)&&_.jsxs("div",{className:"active-filters",children:[g!=="All"&&_.jsxs("span",{className:"filter-tag",children:[g,_.jsx("button",{onClick:()=>T("All"),children:""})]}),S&&_.jsxs("span",{className:"filter-tag",children:['"',S,'"',_.jsx("button",{onClick:()=>b(""),children:""})]})]})]}),_.jsx("div",{className:"listings-container",children:p?_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading listings..."})]}):fe.length>0?_.jsx("div",{className:`listings-grid ${z}`,children:M.map(ae=>_.jsx(LO,{listing:ae,onContact:he,onFavorite:ge,onShare:De,onMatch:k,onClaim:ne,isFavorited:f.includes(ae.id),currentUserId:m,showActions:!0,viewMode:z},ae.id))}):_.jsxs("div",{className:"no-results",children:[_.jsx("div",{className:"no-results-icon",children:_.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"11",cy:"11",r:"8"}),_.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),_.jsx("h2",{className:"no-results-title",children:"No items found"}),_.jsx("p",{className:"no-results-message",children:S||g!=="All"?"Try adjusting your search or filters.":"There are no listings available at the moment. Be the first to share something with your community!"}),_.jsxs("div",{className:"no-results-actions",children:[(S||g!=="All")&&_.jsx("button",{className:"clear-filters-btn",onClick:F,children:"Clear Filters"}),_.jsx("button",{className:"create-listing-cta",onClick:()=>le("/createlistings"),children:"+ Create a Listing"})]})]})}),O>1&&_.jsxs("div",{className:"pagination-controls",children:[_.jsx("button",{className:`page-btn ${W===1?"disabled":""}`,onClick:()=>V(W-1),disabled:W===1,children:"Previous"}),_.jsxs("span",{className:"page-info",children:["Page ",W," of ",O]}),_.jsx("button",{className:`page-btn ${W===O?"disabled":""}`,onClick:()=>V(W+1),disabled:W===O,children:"Next"})]})]})}const Am=["Books & Media","Electronics","Toys & Games","Sports & Outdoors","Home & Garden","Office & School Supplies","Vehicles & Parts","Baby & Kids"];function zO({onCreate:i}){const e=mr(),[n,s]=B.useState({title:"",location:"",category:Am[0],condition:"Good",description:"",serviceType:"Tutoring"}),[o,u]=B.useState([]),[f,m]=B.useState(!1),[p,g]=B.useState({current:0,total:0}),[T,S]=B.useState({}),[b,D]=B.useState("item"),x=["Tutoring","Volunteer Opportunity","Yardwork","Pet Care","Other"],z=te=>{const{name:re,value:fe}=te.target;s({...n,[re]:fe}),T[re]&&S(O=>({...O,[re]:""}))},U=te=>{const re=Array.from(te.target.files);u(re),re.length>0&&T.photos&&S(fe=>({...fe,photos:""}))},K=()=>{let te=!0;const re={};return n.title.trim()||(re.title="Title is required.",te=!1),n.location.trim()||(re.location="Location is required.",te=!1),n.description.trim()||(re.description="Description is required.",te=!1),b==="item"?(n.category||(re.category="Category is required.",te=!1),n.condition||(re.condition="Condition is required.",te=!1)):b==="service"&&(n.serviceType||(re.serviceType="Service type is required.",te=!1)),S(re),te},Q=async te=>{if(te.preventDefault(),!!K()){m(!0),g({current:0,total:b==="item"?o.length:0});try{let re=null;if(b==="item")re=await createListingWithPhotos({...n,type:"item"},o,(fe,O)=>g({current:fe,total:O}));else{const{title:fe,description:O,location:R,serviceType:C}=n;i&&await i({title:fe,description:O,location:R,serviceType:C,type:"service",createdAt:new Date,status:"available",requestors:[],matchedWith:null})}s({title:"",description:"",location:"",category:Am[0],condition:"Good",serviceType:x[0]}),u([]),S({}),g({current:0,total:0}),alert("Listing created successfully!"),e("/")}catch(re){console.error("Error creating listing:",re),alert("Failed to create listing. Please try again.")}finally{m(!1)}}},W=()=>{e("/")};return _.jsx("div",{className:"create-listing-page",children:_.jsxs("div",{className:"create-listing-container",children:[_.jsxs("button",{onClick:W,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19-7-7 7-7"}),_.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),_.jsxs("div",{className:"create-listing-header",children:[_.jsx("h1",{children:"Create New Listing"}),_.jsx("p",{children:"Share items or services you can offer to your community - completely free!"})]}),_.jsxs("div",{className:"listing-type-toggle",children:[_.jsxs("label",{className:b==="item"?"selected":"",children:[_.jsx("input",{type:"radio",name:"listingType",value:"item",checked:b==="item",onChange:()=>D("item")}),_.jsx("span",{children:"Item"})]}),_.jsxs("label",{className:b==="service"?"selected":"",children:[_.jsx("input",{type:"radio",name:"listingType",value:"service",checked:b==="service",onChange:()=>D("service")}),_.jsx("span",{children:"Service"})]})]}),_.jsxs("form",{onSubmit:Q,className:"create-listing-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"title",children:"Title *"}),_.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:z,placeholder:b==="item"?"What are you giving away?":"What service are you offering?",maxLength:"100",className:T.title?"error":""}),T.title&&_.jsx("span",{className:"error-message",children:T.title})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"description",children:"Description *"}),_.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:z,placeholder:b==="item"?"Describe the item's condition, any flaws, pickup instructions, etc.":"Describe the service, requirements, schedule, etc.",rows:"4",maxLength:"500",className:T.description?"error":""}),_.jsxs("div",{className:"character-count",children:[n.description.length,"/500"]}),T.description&&_.jsx("span",{className:"error-message",children:T.description})]}),b==="service"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"serviceType",children:"Service Type *"}),_.jsx("select",{id:"serviceType",name:"serviceType",value:n.serviceType||x[0],onChange:z,className:T.serviceType?"error":"",children:x.map(te=>_.jsx("option",{value:te,children:te},te))}),T.serviceType&&_.jsx("span",{className:"error-message",children:T.serviceType})]}),b==="item"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"category",children:"Category"}),_.jsx("select",{id:"category",name:"category",value:n.category,onChange:z,children:Am.map(te=>_.jsx("option",{value:te,children:te},te))})]}),b==="item"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"condition",children:"Condition"}),_.jsxs("select",{id:"condition",name:"condition",value:n.condition,onChange:z,children:[_.jsx("option",{value:"",children:"Select condition"}),_.jsx("option",{value:"Like New",children:"Like New"}),_.jsx("option",{value:"Good",children:"Good"}),_.jsx("option",{value:"Fair",children:"Fair"}),_.jsx("option",{value:"Poor",children:"Poor"})]})]}),b==="item"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"photos",children:"Photos"}),_.jsxs("label",{htmlFor:"photos",className:"image-upload-label",children:[_.jsx("span",{role:"img","aria-label":"camera",style:{marginRight:8},children:""}),o.length>0?`${o.length} photo${o.length>1?"s":""} selected`:"Choose Photos"]}),_.jsx("input",{type:"file",id:"photos",name:"photos",accept:"image/*",multiple:!0,onChange:U,disabled:f,className:"image-input"}),o.length>0&&_.jsx("div",{className:"image-preview-list",children:o.map((te,re)=>_.jsxs("div",{className:"image-preview-item",children:[_.jsx("span",{className:"image-preview-name",children:te.name}),_.jsxs("span",{className:"image-preview-size",children:["(",(te.size/1024/1024).toFixed(2)," MB)"]})]},re))}),T.photos&&_.jsx("span",{className:"error-message",children:T.photos}),p.total>0&&_.jsxs("div",{className:"upload-progress",children:["Uploading ",p.current," of ",p.total," photos..."]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"location",children:b==="item"?"Pickup Location *":"Service Location *"}),_.jsx("input",{type:"text",id:"location",name:"location",value:n.location,onChange:z,placeholder:b==="item"?"City, State or general area":"Where is the service provided?",className:T.location?"error":""}),T.location&&_.jsx("span",{className:"error-message",children:T.location})]}),_.jsx("div",{className:"form-actions",children:_.jsx("button",{type:"submit",disabled:f,className:"submit-btn",children:f?"Creating Listing...":"Create Listing"})})]})]})})}function qO(){const{currentUser:i,userProfile:e,logout:n,updateUserProfile:s}=af(),o=mr(),[u,f]=B.useState("profile"),[m,p]=B.useState([]),[g,T]=B.useState([]),[S,b]=B.useState(!0),[D,x]=B.useState(!1),[z,U]=B.useState(!1),[K,Q]=B.useState(!1),[W,te]=B.useState(null),[re,fe]=B.useState(null),[O,R]=B.useState(null),[C,M]=B.useState({}),[V,L]=B.useState({}),[N,at]=B.useState({}),[Ge,F]=B.useState({}),[he,ge]=B.useState({accounts:0,listings:0}),[De,k]=B.useState(!0),[ne,le]=B.useState(!1),[oe,ae]=B.useState(null),[_e,ye]=B.useState(!1);B.useEffect(()=>{async function ue(){k(!0);try{const We=await gw();ge(We)}catch{ge({accounts:0,listings:0})}finally{k(!1)}}ue()},[]),B.useEffect(()=>{if(!i)return;const ue=Jm(hx(Sh(Ht,"listings"),fx("userId","==",i.uid)),pt=>{const Ye=pt.docs.map(He=>({id:He.id,...He.data()}));p(Ye)}),We=Jm(Sh(Ht,"listings"),pt=>{const He=pt.docs.map($e=>({id:$e.id,...$e.data()})).filter($e=>($e.requestors||[]).some(Pe=>Pe.userId===i.uid)).map($e=>{var Ue;const Pe=($e.requestors||[]).find(un=>un.userId===i.uid);return{...$e,userRequest:Pe,isMatched:((Ue=$e.matchedWith)==null?void 0:Ue.userId)===i.uid}});T(He),b(!1)});return()=>{ue(),We()}},[i]);const bt=ue=>{ae(ue),le(!0)},et=async()=>{if(oe){ye(!0);try{const ue=await au(mn(Ht,"listings",oe.id));if(!ue.exists())throw new Error("Listing not found");const We=ue.data();if(We.userId!==i.uid)throw new Error("You can only delete your own listings");if(We.photos&&We.photos.length>0){const pt=We.photos.map(Ye=>{const He=AO(DO,Ye.path);return SO(He)});await Promise.allSettled(pt)}await gx(mn(Ht,"listings",oe.id)),alert("Listing deleted successfully!"),le(!1),ae(null)}catch(ue){console.error("Error deleting listing:",ue),alert("Failed to delete listing. Please try again.")}finally{ye(!1)}}},pn=()=>{le(!1),ae(null)},si=async()=>{try{await n(),o("/")}catch(ue){console.error("Error logging out:",ue)}},$n=()=>{o("/")},Dn=ue=>new Date(ue).toLocaleDateString(),ai=ue=>{switch(ue==null?void 0:ue.toLowerCase()){case"available":return"status-available";case"matched":return"status-matched";case"claimed":return"status-claimed";default:return"status-available"}},ki=ue=>{te(ue),x(!0)},ps=ue=>{fe(ue),U(!0)},gs=(ue,We)=>{R(ue),te({id:We}),Q(!0)},Nt=()=>{x(!1),U(!1),Q(!1),te(null),fe(null),R(null)},No=async(ue,We)=>{const pt=`${ue}-${We.userId}`;M(Ye=>({...Ye,[pt]:!0}));try{const Ye=mn(Ht,"listings",ue);await Wr(Ye,{matchedWith:{userId:We.userId,userEmail:We.userEmail,userFullName:We.userFullName,matchDate:new Date().toISOString()},status:"matched"}),L(He=>({...He,[pt]:!0})),setTimeout(()=>{L(He=>{const $e={...He};return delete $e[pt],$e}),M(He=>{const $e={...He};return delete $e[pt],$e})},3e3)}catch(Ye){console.error("Error matching with user:",Ye),alert("Failed to match with user. Please try again.")}finally{M(Ye=>{const He={...Ye};return delete He[pt],He})}},ys=async(ue,We,pt)=>{const Ye=`${W.id}-${ue}`;at(He=>({...He,[Ye]:!0}));try{const He=mn(Ht,"listings",W.id);await Wr(He,{contactExchanged:{[ue]:{sharedBy:i.uid,sharedAt:new Date().toISOString(),userEmail:i.email,userFullName:(e==null?void 0:e.fullName)||"Unknown"}}}),F($e=>({...$e,[Ye]:!0})),setTimeout(()=>{F($e=>{const Pe={...$e};return delete Pe[Ye],Pe}),at($e=>{const Pe={...$e};return delete Pe[Ye],Pe})},3e3)}catch(He){console.error("Error sharing contact:",He),alert("Failed to share contact. Please try again.")}finally{at(He=>{const $e={...He};return delete $e[Ye],$e})}};return S?_.jsx("div",{className:"account-page",children:_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading account information..."})]})}):_.jsxs("div",{className:"account-page",children:[_.jsxs("div",{className:"account-container",children:[_.jsxs("button",{onClick:$n,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19-7-7 7-7"}),_.jsx("path",{d:"M19 12H5"})]}),"Back to Home"]}),_.jsxs("div",{className:"account-header",children:[_.jsx("h1",{children:"Account"}),_.jsx("p",{children:"Manage your profile, listings, and requests"})]}),_.jsxs("div",{className:"account-tabs",children:[_.jsx("button",{className:`tab-btn ${u==="profile"?"active":""}`,onClick:()=>f("profile"),children:"Profile"}),_.jsxs("button",{className:`tab-btn ${u==="listings"?"active":""}`,onClick:()=>f("listings"),children:["My Listings (",m.length,")"]}),_.jsxs("button",{className:`tab-btn ${u==="requests"?"active":""}`,onClick:()=>f("requests"),children:["My Requests (",g.length,")"]})]}),_.jsxs("div",{className:"tab-content",children:[u==="profile"&&_.jsxs("div",{className:"profile-section",children:[_.jsx("h3",{children:"Profile Information"}),_.jsxs("div",{className:"profile-info",children:[_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Email:"}),_.jsx("span",{className:"info-value",children:i.email}),_.jsx("span",{className:`verification-badge ${i.emailVerified?"verified":"unverified"}`,children:i.emailVerified?" Verified":" Unverified"})]}),_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Full Name:"}),_.jsx("span",{className:"info-value",children:(e==null?void 0:e.fullName)||"Not set"})]}),_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Username:"}),_.jsx("span",{className:"info-value",children:(e==null?void 0:e.username)||"Not set"})]}),_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Member Since:"}),_.jsx("span",{className:"info-value",children:e!=null&&e.createdAt?new Date(e.createdAt.toDate()).toLocaleDateString():"Unknown"})]})]}),_.jsxs("div",{className:"profile-update",children:[_.jsx("h3",{children:"Update Profile"}),_.jsxs("form",{onSubmit:async ue=>{ue.preventDefault();const pt=new FormData(ue.target).get("fullName");if(pt.trim()){const Ye=await s({fullName:pt.trim()});alert(Ye?"Profile updated successfully!":"Failed to update profile. Please try again.")}},children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"fullName",children:"Full Name"}),_.jsx("input",{type:"text",id:"fullName",name:"fullName",placeholder:"Enter your full name",defaultValue:(e==null?void 0:e.fullName)||"",className:"profile-input"})]}),_.jsx("button",{type:"submit",className:"update-profile-btn",children:"Update Profile"})]})]}),_.jsx("button",{onClick:si,className:"logout-btn",children:"Sign Out"})]}),u==="listings"&&_.jsxs("div",{className:"listings-section",children:[_.jsx("h2",{children:"My Listings"}),m.length===0?_.jsxs("div",{className:"empty-state",children:[_.jsx("p",{children:"You haven't created any listings yet."}),_.jsx("button",{onClick:()=>o("/createlistings"),className:"create-listing-btn",children:"Create Your First Listing"})]}):_.jsx("div",{className:"listings-grid",children:m.map(ue=>_.jsxs("div",{className:"listing-card",children:[_.jsxs("div",{className:"listing-header",children:[_.jsx("h3",{children:ue.title}),_.jsxs("div",{className:"listing-status",children:[ue.status!=="matched"&&_.jsx("span",{className:`status-badge ${ai(ue.status)}`,children:ue.status}),ue.matchedWith&&_.jsx("span",{className:"matched-badge",children:" Matched"})]})]}),_.jsx("p",{className:"listing-description",children:ue.description}),_.jsxs("div",{className:"listing-meta",children:[_.jsx("span",{children:ue.category}),_.jsx("span",{children:""}),_.jsx("span",{children:ue.location})]}),_.jsxs("div",{className:"listing-actions",children:[_.jsxs("span",{className:"request-count",children:[(ue.requestors||[]).length," request",(ue.requestors||[]).length!==1?"s":""]}),_.jsxs("div",{className:"listing-buttons",children:[(ue.requestors||[]).length>0&&_.jsx("button",{className:"view-requests-btn",onClick:()=>ki(ue),children:"View Requests"}),_.jsx("button",{className:"delete-listing-btn",onClick:()=>bt(ue),children:"Delete"})]})]})]},ue.id))})]}),u==="requests"&&_.jsxs("div",{className:"requests-section",children:[_.jsx("h2",{children:"My Requests"}),g.length===0?_.jsxs("div",{className:"empty-state",children:[_.jsx("p",{children:"You haven't requested any items yet."}),_.jsx("button",{onClick:()=>o("/listingspage"),className:"browse-listings-btn",children:"Browse Listings"})]}):_.jsx("div",{className:"requests-grid",children:g.map(ue=>_.jsxs("div",{className:"request-card",children:[_.jsxs("div",{className:"request-header",children:[_.jsx("h3",{children:ue.title}),_.jsxs("div",{className:"request-status",children:[(ue.status==="available"||ue.status==="claimed")&&_.jsx("span",{className:`status-badge ${ai(ue.status)}`,children:ue.status}),ue.isMatched&&_.jsx("span",{className:"matched-badge",children:" Matched"})]})]}),_.jsx("p",{className:"request-description",children:ue.description}),_.jsxs("div",{className:"request-meta",children:[_.jsxs("span",{children:["Posted by: ",ue.userFullName]}),_.jsx("span",{children:""}),_.jsxs("span",{children:["Requested: ",Dn(ue.userRequest.requestDate)]})]}),ue.isMatched&&_.jsx("div",{className:"matched-info",children:_.jsx("button",{className:"view-owner-contact-btn",onClick:()=>ps(ue),children:"View Owner Contact"})})]},ue.id))})]})]})]}),D&&W&&_.jsx("div",{className:"modal-overlay",onClick:Nt,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsxs("h3",{children:['Requests for "',W.title,'"']}),_.jsx("button",{className:"close-modal-btn",onClick:Nt,children:""})]}),_.jsx("div",{className:"modal-body",children:(W.requestors||[]).length===0?_.jsx("p",{children:"No requests yet."}):_.jsx("div",{className:"requests-list",children:W.requestors.map((ue,We)=>{const pt=`${W.id}-${ue.userId}`,Ye=`${W.id}-${ue.userId}`,He=C[pt],$e=V[pt],Pe=N[Ye],Ue=Ge[Ye];return _.jsxs("div",{className:"requestor-item",children:[_.jsxs("div",{className:"requestor-header",children:[_.jsxs("div",{className:"requestor-info",children:[_.jsx("h4",{children:ue.userFullName}),_.jsxs("p",{children:["Email: ",ue.userEmail]}),_.jsxs("p",{children:["Requested: ",Dn(ue.requestDate)]})]}),_.jsx("div",{className:"requestor-status",children:_.jsx("button",{className:`match-btn ${He?"loading":""}`,onClick:()=>No(W.id,ue),disabled:He,children:He?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"spinner"}),"Matching..."]}):"Match"})})]}),_.jsx("div",{className:"requestor-actions",children:$e?Ue?_.jsx("button",{className:"contact-btn shared",disabled:!0,children:" Contact Shared"}):_.jsx("button",{className:`contact-btn ${Pe?"loading":""}`,onClick:()=>gs(ue,W.id),disabled:Pe,children:Pe?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"spinner"}),"Sharing..."]}):"Share Contact"}):_.jsx("button",{className:"contact-btn",onClick:()=>gs(ue,W.id),children:"Contact"})})]},We)})})})]})}),z&&re&&_.jsx("div",{className:"modal-overlay",onClick:Nt,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h3",{children:"Owner Contact Information"}),_.jsx("button",{className:"close-modal-btn",onClick:Nt,children:""})]}),_.jsxs("div",{className:"modal-body",children:[_.jsxs("div",{className:"owner-info",children:[_.jsxs("h4",{children:["Item: ",re.title]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Owner Name:"})," ",re.userFullName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Owner Email:"})," ",re.userEmail]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Posted:"})," ",Dn(re.datePosted)]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Your Request:"})," ",Dn(re.userRequest.requestDate)]})]}),_.jsx("div",{className:"contact-actions",children:_.jsx("p",{className:"contact-note",children:"You can now contact the owner directly using their email address above."})})]})]})}),K&&O&&W&&_.jsx("div",{className:"modal-overlay",onClick:Nt,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h3",{children:"Contact Exchange"}),_.jsx("button",{className:"close-modal-btn",onClick:Nt,children:""})]}),_.jsx("div",{className:"modal-body",children:_.jsxs("div",{className:"contact-exchange-info",children:[_.jsxs("h4",{children:["Exchange Contact with ",O.userFullName]}),_.jsx("p",{children:"Share your contact information to facilitate the exchange."}),_.jsxs("div",{className:"contact-details",children:[_.jsxs("div",{className:"your-contact",children:[_.jsx("h5",{children:"Your Contact Information:"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Name:"})," ",(e==null?void 0:e.fullName)||"Not set"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",i==null?void 0:i.email]})]}),_.jsxs("div",{className:"their-contact",children:[_.jsx("h5",{children:"Their Contact Information:"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Name:"})," ",O.userFullName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",O.userEmail]})]})]}),_.jsxs("div",{className:"contact-exchange-actions",children:[_.jsx("button",{className:"share-contact-btn",onClick:()=>ys(O.userId,O.userEmail,O.userFullName),children:"Share My Contact"}),_.jsx("p",{className:"contact-exchange-note",children:"By sharing your contact, you agree to exchange contact information with this user."})]})]})})]})}),ne&&oe&&_.jsx("div",{className:"modal-overlay",onClick:pn,children:_.jsxs("div",{className:"modal-content",onClick:ue=>ue.stopPropagation(),children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h3",{children:"Delete Listing"}),_.jsx("button",{className:"close-modal-btn",onClick:pn,children:""})]}),_.jsx("div",{className:"modal-body",children:_.jsxs("p",{children:["Are you sure you want to delete ",_.jsx("strong",{children:oe.title}),"? This action cannot be undone."]})}),_.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[_.jsx("button",{className:"cancel-btn",onClick:pn,disabled:_e,children:"Cancel"}),_.jsx("button",{className:"confirm-delete-btn",onClick:et,disabled:_e,style:{background:"#dc2626",color:"white"},children:_e?"Deleting...":"Delete"})]})]})})]})}function HO(){const i=mr(),[e,n]=B.useState({accounts:0,listings:0}),[s,o]=B.useState(!0);B.useEffect(()=>{async function f(){o(!0);try{const m=await gw();n(m)}catch{n({accounts:0,listings:0})}finally{o(!1)}}f()},[]);const u=()=>{i("/")};return _.jsx("div",{className:"about-page",children:_.jsxs("div",{className:"about-container",children:[_.jsxs("button",{onClick:u,className:"back-to-start-btn",children:[_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[_.jsx("path",{d:"M12 19L5 12L12 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 12H5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Back to Home"]}),_.jsx("h1",{className:"about-title",children:"About GoodNeighbor"}),_.jsxs("div",{className:"community-stats-card",children:[_.jsx("div",{className:"community-stats-title",children:"Community Stats"}),s?_.jsx("div",{className:"community-stats-loading",children:"Loading..."}):_.jsxs("div",{className:"community-stats-list",children:[_.jsxs("div",{className:"community-stat",children:[_.jsx("span",{className:"community-stat-number accounts",children:e.accounts}),_.jsx("span",{className:"community-stat-label",children:"Accounts"})]}),_.jsxs("div",{className:"community-stat",children:[_.jsx("span",{className:"community-stat-number listings",children:e.listings}),_.jsx("span",{className:"community-stat-label",children:"Listings"})]})]})]}),_.jsxs("div",{className:"about-section",children:[_.jsx("h2",{className:"about-section-title",children:"About Us"}),_.jsx("div",{className:"about-section-text",children:_.jsx("p",{children:"Welcome to Good Neighbor! This is a community-driven marketplace where you can exchange goods and services with members of your community. As a kind reminder from Good Neighbor, please be mindful of both giving and receiving. This project is only sustainable if we all do our part to keep it going. Our dream is to not only create a platform for people to exchange, but to create a stronger, more connected community."})})]}),_.jsxs("div",{className:"about-section",children:[_.jsx("h2",{className:"about-section-title",children:"Team"}),_.jsxs("div",{className:"co-founders-list",children:[_.jsx("a",{href:"https://www.instagram.com/_michael.yang/",target:"_blank",rel:"noopener noreferrer",className:"co-founder-link",children:_.jsxs("div",{className:"co-founder",children:[_.jsx("h3",{className:"co-founder-name",children:"Michael Yang"}),_.jsx("p",{className:"co-founder-nickname",children:_.jsx("em",{children:"Blorg"})})]})}),_.jsx("a",{href:"https://www.instagram.com/ronit_kongara/",target:"_blank",rel:"noopener noreferrer",className:"co-founder-link",children:_.jsxs("div",{className:"co-founder",children:[_.jsx("h3",{className:"co-founder-name",children:"Ronit Kongara"}),_.jsx("p",{className:"co-founder-nickname",children:_.jsx("em",{children:"Kongaroo"})})]})})]})]})]})})}const y0=({children:i})=>{const{currentUser:e,loading:n}=af();return n?_.jsx("div",{children:"Loading..."}):e?i:_.jsx(HA,{to:"/signin"})};function FO(){const[i,e]=B.useState([]),[n,s]=B.useState([]),[o,u]=B.useState(!0),[f,m]=B.useState(!0),{currentUser:p,userProfile:g,getUserProfile:T}=af();B.useEffect(()=>{const K=Jm(Sh(Ht,"listings"),Q=>{const W=Q.docs.map(te=>{const re=te.data(),{id:fe,...O}=re;return{id:te.id,...O}});e(W),m(!1)},Q=>{console.error("Error fetching listings:",Q),m(!1)});return()=>{K()}},[]);const S=async(K,Q=[])=>{try{const W={...K,userId:p.uid,userEmail:(g==null?void 0:g.email)||p.email,userFullName:(g==null?void 0:g.fullName)||p.displayName||"User",createdAt:new Date,requestors:[],matchedWith:null,status:"available",photos:[],views:0,favorites:[]},te=await yx(Sh(Ht,"listings"),W),re=te.id;if(Q&&Q.length>0){const fe=await uploadPhotos(re,Q);await Wr(te,{photos:fe,updatedAt:new Date})}return console.log("Listing created with ID:",re),re}catch(W){throw console.error("Error creating listing:",W),W}},b=async K=>{if(!p){alert("Please sign in to contact the owner");return}if(!K){console.error("Invalid listing object:",K),alert("Invalid listing. Please try again.");return}try{console.log("Listing object:",K),console.log("Current user:",p.uid);const Q=Array.isArray(K.requestors)?K.requestors:[];if(console.log("Requestors array:",Q),Q.some(fe=>fe.userId===p.uid)){alert("You have already requested this item");return}const te=mn(Ht,"listings",K.id),re={userId:p.uid,userEmail:(g==null?void 0:g.email)||p.email,userFullName:(g==null?void 0:g.fullName)||p.displayName||"User",requestDate:new Date().toISOString()};console.log("New requestor:",re),console.log("Updated requestors array:",[...Q,re]),await Wr(te,{requestors:[...Q,re]}),alert("Request sent successfully!")}catch(Q){console.error("Error sending request:",Q),console.error("Error details:",{listing:K,currentUser:p==null?void 0:p.uid,userProfile:g}),alert("Failed to send request. Please try again.")}},D=K=>{console.log("Favoriting listing:",K)},x=K=>{console.log("Sharing listing:",K.title)},z=async(K,Q)=>{try{const W=mn(Ht,"listings",K);await Wr(W,{matchedWith:Q,status:"matched"}),alert("Successfully matched with requestor!")}catch(W){console.error("Error matching with requestor:",W),alert("Failed to match with requestor. Please try again.")}},U=async K=>{try{const Q=mn(Ht,"listings",K);await Wr(Q,{status:"claimed"}),alert("Listing marked as claimed!")}catch(Q){console.error("Error claiming listing:",Q),alert("Failed to mark as claimed. Please try again.")}};return _.jsx(p1,{basename:"/GoodNeighbor",children:_.jsxs(GA,{children:[_.jsx(Gr,{path:"/",element:_.jsx(MO,{})}),_.jsx(Gr,{path:"/signin",element:_.jsx(PO,{})}),_.jsx(Gr,{path:"/signup",element:_.jsx(VO,{})}),_.jsx(Gr,{path:"/listingspage",element:_.jsx(BO,{listings:i,loading:f,onContact:b,onFavorite:D,onShare:x,onMatch:z,onClaim:U,currentUserId:p==null?void 0:p.uid})}),_.jsx(Gr,{path:"/createlistings",element:_.jsx(y0,{children:_.jsx(zO,{onCreate:S})})}),_.jsx(Gr,{path:"/account",element:_.jsx(y0,{children:_.jsx(qO,{})})}),_.jsx(Gr,{path:"/about",element:_.jsx(HO,{})})]})})}function GO(){return _.jsx(kO,{children:_.jsx(FO,{})})}const KO=B.createContext();function YO({children:i}){const[e,n]=B.useState(null),[s,o]=B.useState(!0);B.useEffect(()=>Jb(Js,m=>{n(m),o(!1)}),[]);const u=()=>xh(Js);return _.jsx(KO.Provider,{value:{user:e,loading:s,logout:u},children:i})}JS.createRoot(document.getElementById("root")).render(_.jsx(GS.StrictMode,{children:_.jsx(YO,{children:_.jsx(GO,{})})}));
